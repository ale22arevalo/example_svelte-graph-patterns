var r_=Object.defineProperty;var i_=(p,a,i)=>a in p?r_(p,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):p[a]=i;var Er=(p,a,i)=>(i_(p,typeof a!="symbol"?a+"":a,i),i);import{S as kt,i as Mt,s as Wt,e as $,t as k,k as J,c as O,a as R,h as M,d as m,m as Q,b as P,g as B,J as _,E as ie,K as yi,L as Ka,M as wi,w as Pe,x as Be,y as Fe,q as pe,o as ve,B as Ue,j as Ei,v as a_,N as Dn,O as $n,P as l_,l as mi,Q as s_,R as u_,n as Cu,p as Du,T as xu,U as o_,V as f_,W as c_}from"../../chunks/index-c1ea72d5.js";import"../../chunks/codeblocks-e4ede99b.js";import{s as Si,a as Ai,b as bi,l as Li,m as Za,c as Ya,S as Ti,N as Ii,P as Ci,d as Sr,p as h_,e as d_,M as p_}from"../../chunks/appendSelect-273f0606.js";import{l as Ar}from"../../chunks/lodash.default-06a7c2fb.js";import{a as g_,b as __,d as $u,f as yu,e as v_}from"../../chunks/index-aea790f0.js";import{g as m_}from"../../chunks/noun-monitoring-1320561-376ef7f2.js";import"../../chunks/paths-396f020f.js";function w_(p){let a,i,o,h,g,b,f,x,y,E,C,U,A,W,q,ne,ee,V,ge,ye,me,N,z,se,Ze,Ye,Ee,ke,Te,Ne,nt,st,Ie,Ae,ue,$e,_e,Ce,Qe;return{c(){a=$("p"),i=k(`Minimal example of how to use class-based D3 - rather than Svelte - for DOM manipulation, making sure graph re-drawing/responsiveness 
	only triggers from Svelte when necessary by using reactive statements and declarations.`),o=J(),h=$("h3"),g=k("Main points"),b=J(),f=$("ul"),x=$("li"),y=k(`Width and height of the graph are controlled by the width and height of the graph container,
		which are defined as bound variables in Svelte. They are passed in as graph props, which are defined as
		`),E=$("span"),C=k("reactive declarations"),U=k("."),A=J(),W=$("li"),q=k(`The graph itself is defined entirely in D3, using a class-based graph template (though it doesn't have to be class-based), 
		together with data and props. 
		`),ne=$("br"),ee=k(`
		To listen for updates to the data or props 
		(in this example props only, but it would work the same way with the data),
		we define the graph-drawing logic inside of a `),V=$("span"),ge=k("reactive statement"),ye=k(`.
		Svelte will only run the logic inside of the reactive statement when one or more of the variables 
		that the statement depends on is updated. This will prevent any unnecessary triggers of the 
		graph-drawing logic.`),me=J(),N=$("li"),z=k("This approach doesn't use "),se=$("code"),Ze=k("onMount"),Ye=k(` at all to draw the graph when the graph component's wrapper DOM element is loaded 
		on mount of the component. Instead, we perform a check inside the reactive declaration for the wrapper DOM element. This does 
		essentially the same. 
		`),Ee=$("br"),ke=k(`
		Alternatively, we can call `),Te=$("code"),Ne=k("onMount"),nt=k(` 
		with just the bit of the logic that inserts the svg element into the 
		container DOM element, and then use a reactive declaration for the rest of the logic,
		including passing in reactive props and drawing the graph. 
		`),st=$("br"),Ie=k(`
		The latter approach is more Svelt-y and more 'correct', as it uses `),Ae=$("code"),ue=k("onMount"),$e=k(`
		as it is intended, namely to perform some action that depends on the component having just mounted. 
		However, I have found the two ways to work identically, and the former to 'look' a little bit cleaner.`),_e=J(),Ce=$("h3"),Qe=k("Code highlights"),this.h()},l(oe){a=O(oe,"P",{class:!0});var ce=R(a);i=M(ce,`Minimal example of how to use class-based D3 - rather than Svelte - for DOM manipulation, making sure graph re-drawing/responsiveness 
	only triggers from Svelte when necessary by using reactive statements and declarations.`),ce.forEach(m),o=Q(oe),h=O(oe,"H3",{});var Me=R(h);g=M(Me,"Main points"),Me.forEach(m),b=Q(oe),f=O(oe,"UL",{});var rt=R(f);x=O(rt,"LI",{});var Oe=R(x);y=M(Oe,`Width and height of the graph are controlled by the width and height of the graph container,
		which are defined as bound variables in Svelte. They are passed in as graph props, which are defined as
		`),E=O(Oe,"SPAN",{class:!0});var it=R(E);C=M(it,"reactive declarations"),it.forEach(m),U=M(Oe,"."),Oe.forEach(m),A=Q(rt),W=O(rt,"LI",{});var De=R(W);q=M(De,`The graph itself is defined entirely in D3, using a class-based graph template (though it doesn't have to be class-based), 
		together with data and props. 
		`),ne=O(De,"BR",{}),ee=M(De,`
		To listen for updates to the data or props 
		(in this example props only, but it would work the same way with the data),
		we define the graph-drawing logic inside of a `),V=O(De,"SPAN",{class:!0});var ut=R(V);ge=M(ut,"reactive statement"),ut.forEach(m),ye=M(De,`.
		Svelte will only run the logic inside of the reactive statement when one or more of the variables 
		that the statement depends on is updated. This will prevent any unnecessary triggers of the 
		graph-drawing logic.`),De.forEach(m),me=Q(rt),N=O(rt,"LI",{});var we=R(N);z=M(we,"This approach doesn't use "),se=O(we,"CODE",{});var At=R(se);Ze=M(At,"onMount"),At.forEach(m),Ye=M(we,` at all to draw the graph when the graph component's wrapper DOM element is loaded 
		on mount of the component. Instead, we perform a check inside the reactive declaration for the wrapper DOM element. This does 
		essentially the same. 
		`),Ee=O(we,"BR",{}),ke=M(we,`
		Alternatively, we can call `),Te=O(we,"CODE",{});var Ge=R(Te);Ne=M(Ge,"onMount"),Ge.forEach(m),nt=M(we,` 
		with just the bit of the logic that inserts the svg element into the 
		container DOM element, and then use a reactive declaration for the rest of the logic,
		including passing in reactive props and drawing the graph. 
		`),st=O(we,"BR",{}),Ie=M(we,`
		The latter approach is more Svelt-y and more 'correct', as it uses `),Ae=O(we,"CODE",{});var ot=R(Ae);ue=M(ot,"onMount"),ot.forEach(m),$e=M(we,`
		as it is intended, namely to perform some action that depends on the component having just mounted. 
		However, I have found the two ways to work identically, and the former to 'look' a little bit cleaner.`),we.forEach(m),rt.forEach(m),_e=Q(oe),Ce=O(oe,"H3",{});var Pt=R(Ce);Qe=M(Pt,"Code highlights"),Pt.forEach(m),this.h()},h(){P(a,"class","summary"),P(E,"class","accent"),P(V,"class","accent")},m(oe,ce){B(oe,a,ce),_(a,i),B(oe,o,ce),B(oe,h,ce),_(h,g),B(oe,b,ce),B(oe,f,ce),_(f,x),_(x,y),_(x,E),_(E,C),_(x,U),_(f,A),_(f,W),_(W,q),_(W,ne),_(W,ee),_(W,V),_(V,ge),_(W,ye),_(f,me),_(f,N),_(N,z),_(N,se),_(se,Ze),_(N,Ye),_(N,Ee),_(N,ke),_(N,Te),_(Te,Ne),_(N,nt),_(N,st),_(N,Ie),_(N,Ae),_(Ae,ue),_(N,$e),B(oe,_e,ce),B(oe,Ce,ce),_(Ce,Qe)},p:ie,i:ie,o:ie,d(oe){oe&&m(a),oe&&m(o),oe&&m(h),oe&&m(b),oe&&m(f),oe&&m(_e),oe&&m(Ce)}}}class b_ extends kt{constructor(a){super(),Mt(this,a,null,w_,Wt,{})}}let Ga=[{id:"alice",name:"Alice",number:10},{id:"bob",name:"Bob",number:20},{id:"calor",name:"Carol",number:5},{id:"dave",name:"Dave",number:30},{id:"eve",name:"Eve",number:22},{id:"francisco",name:"Francisco",number:50}];Ga=Ar.sortBy(Ga,p=>p.number).reverse();var x_=Ga;Si.prototype.appendSelect=Ai;class y_{constructor(){Er(this,"defaultData",[]);Er(this,"defaultProps",{})}selection(a){return a?(this._selection=bi(a),this):this._selection}data(a){return a?(this._data=a,this):this._data||this.defaultData}props(a){return a?(this._props=Ar.merge(this._props||this.defaultProps,a),this):this._props||this.defaultProps}draw(){const a=this.data(),{width:i,height:o,margin:h,boundedWidth:g,boundedHeight:b,fill:f}=this.props(),x=Li().domain([0,Za(a,U=>U.number)]).range([0,g]),y=Ya().domain(a.map(U=>U.id)).range([0,b]).paddingInner(.3);return this.selection().appendSelect("svg").attr("width",i).attr("height",o).classed("svg",!0).appendSelect("g.plot").attr("transform",`translate(${h.left}, ${h.top})`).selectAll(".bar").data(a,U=>U.id).join("rect").classed("bar",!0).attr("x",0).attr("y",U=>y(U.id)).attr("width",U=>x(U.number)).attr("height",y.bandwidth()).style("fill",f),this}}function E_(p){let a,i,o,h;return{c(){a=$("div"),i=$("div"),o=k("resize window to see responsiveness"),this.h()},l(g){a=O(g,"DIV",{class:!0});var b=R(a);i=O(b,"DIV",{class:!0});var f=R(i);o=M(f,"resize window to see responsiveness"),f.forEach(m),b.forEach(m),this.h()},h(){P(i,"class","graph-note svelte-1mwpgsz"),P(a,"class","graph-container svelte-1mwpgsz"),yi(()=>p[6].call(a))},m(g,b){B(g,a,b),_(a,i),_(i,o),h=Ka(a,p[6].bind(a)),p[7](a)},p:ie,i:ie,o:ie,d(g){g&&m(a),h(),p[7](null)}}}function S_(p,a,i){let o,h,g,b,f;const x={top:50,right:20,bottom:30,left:60};let y;const E=new y_;function C(){b=this.clientWidth,f=this.clientHeight,i(0,b),i(1,f)}function U(A){wi[A?"unshift":"push"](()=>{y=A,i(2,y)})}return p.$$.update=()=>{p.$$.dirty&1&&i(5,o=b-x.left-x.right),p.$$.dirty&2&&i(4,h=f-x.top-x.bottom),p.$$.dirty&51&&i(3,g={width:b,height:f,margin:x,boundedWidth:o,boundedHeight:h,fill:b>=500?"#6b6065":"#ee3e3e"}),p.$$.dirty&12&&y&&E.selection(y).data(x_).props(g).draw()},[b,f,y,g,h,o,C,U]}class A_ extends kt{constructor(a){super(),Mt(this,a,S_,E_,Wt,{})}}const L_=`
<script>
  ...
  // 1. Define variables for the dimensions, which are bound to the container
  let w;
  let h;
  const margin = { top: 50, right: 20, bottom: 30, left: 60 }
  $: boundedWidth = w - margin.left - margin.right // derive based on width and margin
  $: boundedHeight = h - margin.top - margin.bottom // derive based on height and margin

  // 2. Define the graph props in a reactive declaration
  $: props = {
    width: w,
    height: h,
    margin: margin,
    boundedWidth: boundedWidth,
    boundedHeight: boundedHeight,
    fill: w >= 500 ? '#6b6065' : '#8a4b97' // responsive as well
  }

  // 3. Initialise the graph and the bound container into which it is inserted
  let graphContainer; // will become non-null when DOM mounts
  const graph = new Graph()

  // 4. Wrap the graph-drawing logic inside a reactive statement
  // making sure to check that the DOM element for graphContainer exists
  // We don't need to use onMount or afterUpdate that way
  $: if (graphContainer) {
      graph
        .selection(graphContainer)
        .data(data)
        .props(props)
        .draw()
  }
  ...
<script>

<div
    class="graph-container"
    bind:clientWidth={w}
    bind:clientHeight={h}
    bind:this={graphContainer}
  >
</div>
`;function T_(p){let a;return{c(){a=$("div")},l(i){a=O(i,"DIV",{}),R(a).forEach(m)},m(i,o){B(i,a,o)},p:ie,i:ie,o:ie,d(i){i&&m(a)}}}function I_(p){let a,i;return a=new Ci({props:{language:"javascript",source:L_,showCopyButton:!0}}),{c(){Pe(a.$$.fragment)},l(o){Be(a.$$.fragment,o)},m(o,h){Fe(a,o,h),i=!0},p:ie,i(o){i||(pe(a.$$.fragment,o),i=!0)},o(o){ve(a.$$.fragment,o),i=!1},d(o){Ue(a,o)}}}function C_(p){let a,i,o,h,g,b;a=new b_({});const f=[I_,T_],x=[];function y(E,C){return 0}return h=y(),g=x[h]=f[h](p),{c(){Pe(a.$$.fragment),i=J(),o=$("div"),g.c(),this.h()},l(E){Be(a.$$.fragment,E),i=Q(E),o=O(E,"DIV",{class:!0});var C=R(o);g.l(C),C.forEach(m),this.h()},h(){P(o,"class","codeblock svelte-knnyit")},m(E,C){Fe(a,E,C),B(E,i,C),B(E,o,C),x[h].m(o,null),b=!0},p(E,C){g.p(E,C)},i(E){b||(pe(a.$$.fragment,E),pe(g),b=!0)},o(E){ve(a.$$.fragment,E),ve(g),b=!1},d(E){Ue(a,E),E&&m(i),E&&m(o),x[h].d()}}}function D_(p){let a,i;return{c(){a=$("h2"),i=k(p[1]),this.h()},l(o){a=O(o,"H2",{slot:!0,class:!0});var h=R(a);i=M(h,p[1]),h.forEach(m),this.h()},h(){P(a,"slot","title"),P(a,"class","svelte-knnyit")},m(o,h){B(o,a,h),_(a,i)},p(o,h){h&2&&Ei(i,o[1])},d(o){o&&m(a)}}}function $_(p){let a;return{c(){a=$("div"),this.h()},l(i){a=O(i,"DIV",{slot:!0,class:!0});var o=R(a);o.forEach(m),this.h()},h(){P(a,"slot","external-link"),P(a,"class","external-link")},m(i,o){B(i,a,o)},p:ie,d(i){i&&m(a)}}}function O_(p){let a,i,o,h,g,b;return a=new Ii({props:{internalLink:p[2],date:p[3],$$slots:{"external-link":[$_],title:[D_],default:[C_]},$$scope:{ctx:p}}}),g=new A_({}),{c(){Pe(a.$$.fragment),i=J(),o=$("br"),h=J(),Pe(g.$$.fragment)},l(f){Be(a.$$.fragment,f),i=Q(f),o=O(f,"BR",{}),h=Q(f),Be(g.$$.fragment,f)},m(f,x){Fe(a,f,x),B(f,i,x),B(f,o,x),B(f,h,x),Fe(g,f,x),b=!0},p(f,x){const y={};x&4&&(y.internalLink=f[2]),x&8&&(y.date=f[3]),x&66&&(y.$$scope={dirty:x,ctx:f}),a.$set(y)},i(f){b||(pe(a.$$.fragment,f),pe(g.$$.fragment,f),b=!0)},o(f){ve(a.$$.fragment,f),ve(g.$$.fragment,f),b=!1},d(f){Ue(a,f),f&&m(i),f&&m(o),f&&m(h),Ue(g,f)}}}function R_(p){let a,i;return a=new Ti({props:{id:p[0],$$slots:{default:[O_]},$$scope:{ctx:p}}}),{c(){Pe(a.$$.fragment)},l(o){Be(a.$$.fragment,o)},m(o,h){Fe(a,o,h),i=!0},p(o,[h]){const g={};h&1&&(g.id=o[0]),h&78&&(g.$$scope={dirty:h,ctx:o}),a.$set(g)},i(o){i||(pe(a.$$.fragment,o),i=!0)},o(o){ve(a.$$.fragment,o),i=!1},d(o){Ue(a,o)}}}function k_(p,a,i){let{id:o}=a,{sectionTitle:h}=a,{internalLink:g}=a,{externalLink:b}=a,{externalLinkTitle:f}=a,{date:x}=a;return p.$$set=y=>{"id"in y&&i(0,o=y.id),"sectionTitle"in y&&i(1,h=y.sectionTitle),"internalLink"in y&&i(2,g=y.internalLink),"externalLink"in y&&i(4,b=y.externalLink),"externalLinkTitle"in y&&i(5,f=y.externalLinkTitle),"date"in y&&i(3,x=y.date)},[o,h,g,x,b,f]}class M_ extends kt{constructor(a){super(),Mt(this,a,k_,R_,Wt,{id:0,sectionTitle:1,internalLink:2,externalLink:4,externalLinkTitle:5,date:3})}}function W_(p){let a,i,o,h,g,b,f,x,y,E,C,U,A,W,q,ne,ee,V,ge,ye,me,N,z,se,Ze,Ye,Ee,ke,Te,Ne,nt,st,Ie,Ae,ue,$e,_e,Ce,Qe,oe,ce,Me,rt,Oe,it,De,ut,we,At,Ge,ot,Pt,be,Ve,vn,tt,Xe,wt,Xt,Bt,bt,Jt,Ft;return{c(){a=$("p"),i=k(`Minimal example of how to use class-based D3 - rather than Svelte - for DOM manipulation. 
  Similar to above, but instead of using reactive statements and declarations from Svelte, we use `),o=$("code"),h=k("onMount"),g=k(`,
  together with a resize event.`),b=J(),f=$("h3"),x=k("Main points"),y=J(),E=$("ul"),C=$("li"),U=k("Instead of binding the "),A=$("code"),W=k("clientWidth"),q=k(" and "),ne=$("code"),ee=k("clientHeight"),V=k(` of the container div of 
    the graph to variables which are then passed as props to the graph, we use don't pass any width and height related props, 
    but instead get them from inside the graph-drawing logic with 
    `),ge=$("br"),ye=J(),me=$("code"),N=k(`const width = container
        .getBoundingClientRect()
        .width`),z=J(),se=$("li"),Ze=k("Thus, instead of having reactive props, the props passed to the graph only contain constants."),Ye=J(),Ee=$("li"),ke=k("The "),Te=$("span"),Ne=k("graph is initialised from "),nt=$("code"),st=k("onMount"),Ie=k(`, and because the responsive
    width and height are no longer passed in as props, we need a 
    `),Ae=$("span"),ue=k("separate resize event listener"),$e=k(" to be able to update the graph based on the dimensions of the container, if we want it to be responsive."),_e=J(),Ce=$("h3"),Qe=k("Disadvantages to reactive declaration approach"),oe=J(),ce=$("ul"),Me=$("li"),rt=k(`If anything needed to update 
      in the graph because of updating data or props, 
      we would `),Oe=$("span"),it=k("need to put the graph-drawing logic in an "),De=$("code"),ut=k("afterUpdate"),we=k(" as well"),At=k(`. 
      This might be ok if the changing variables only change very rarely, but not ok when they update continously, 
      as is the case for example with a scroller. 
      The reason for that is that the `),Ge=$("code"),ot=k("afterUpdate"),Pt=k(" logic might fire more often that intended."),be=J(),Ve=$("li"),vn=k(`We need to write an extra event listener for resize and some not very Svelt-y code inside 
    the graph logic, e.g. getting width of the container with
    `),tt=$("br"),Xe=J(),wt=$("code"),Xt=k("getBoundingClientRect()"),Bt=k(`, when we 
    could instead just bind the container's dimensions to variables which are then passed as props to the graph, 
    making it both cleaner and eliminating the need to use a resize event.`),bt=J(),Jt=$("h3"),Ft=k("Code highlights"),this.h()},l(X){a=O(X,"P",{class:!0});var qe=R(a);i=M(qe,`Minimal example of how to use class-based D3 - rather than Svelte - for DOM manipulation. 
  Similar to above, but instead of using reactive statements and declarations from Svelte, we use `),o=O(qe,"CODE",{});var an=R(o);h=M(an,"onMount"),an.forEach(m),g=M(qe,`,
  together with a resize event.`),qe.forEach(m),b=Q(X),f=O(X,"H3",{});var Lt=R(f);x=M(Lt,"Main points"),Lt.forEach(m),y=Q(X),E=O(X,"UL",{});var Tt=R(E);C=O(Tt,"LI",{});var dt=R(C);U=M(dt,"Instead of binding the "),A=O(dt,"CODE",{});var Ut=R(A);W=M(Ut,"clientWidth"),Ut.forEach(m),q=M(dt," and "),ne=O(dt,"CODE",{});var ln=R(ne);ee=M(ln,"clientHeight"),ln.forEach(m),V=M(dt,` of the container div of 
    the graph to variables which are then passed as props to the graph, we use don't pass any width and height related props, 
    but instead get them from inside the graph-drawing logic with 
    `),ge=O(dt,"BR",{}),ye=Q(dt),me=O(dt,"CODE",{});var sn=R(me);N=M(sn,`const width = container
        .getBoundingClientRect()
        .width`),sn.forEach(m),dt.forEach(m),z=Q(Tt),se=O(Tt,"LI",{});var Nn=R(se);Ze=M(Nn,"Thus, instead of having reactive props, the props passed to the graph only contain constants."),Nn.forEach(m),Ye=Q(Tt),Ee=O(Tt,"LI",{});var mn=R(Ee);ke=M(mn,"The "),Te=O(mn,"SPAN",{class:!0});var ir=R(Te);Ne=M(ir,"graph is initialised from "),nt=O(ir,"CODE",{});var Lr=R(nt);st=M(Lr,"onMount"),Lr.forEach(m),ir.forEach(m),Ie=M(mn,`, and because the responsive
    width and height are no longer passed in as props, we need a 
    `),Ae=O(mn,"SPAN",{class:!0});var ar=R(Ae);ue=M(ar,"separate resize event listener"),ar.forEach(m),$e=M(mn," to be able to update the graph based on the dimensions of the container, if we want it to be responsive."),mn.forEach(m),Tt.forEach(m),_e=Q(X),Ce=O(X,"H3",{});var lr=R(Ce);Qe=M(lr,"Disadvantages to reactive declaration approach"),lr.forEach(m),oe=Q(X),ce=O(X,"UL",{});var Hn=R(ce);Me=O(Hn,"LI",{});var wn=R(Me);rt=M(wn,`If anything needed to update 
      in the graph because of updating data or props, 
      we would `),Oe=O(wn,"SPAN",{class:!0});var Gn=R(Oe);it=M(Gn,"need to put the graph-drawing logic in an "),De=O(Gn,"CODE",{});var Tr=R(De);ut=M(Tr,"afterUpdate"),Tr.forEach(m),we=M(Gn," as well"),Gn.forEach(m),At=M(wn,`. 
      This might be ok if the changing variables only change very rarely, but not ok when they update continously, 
      as is the case for example with a scroller. 
      The reason for that is that the `),Ge=O(wn,"CODE",{});var sr=R(Ge);ot=M(sr,"afterUpdate"),sr.forEach(m),Pt=M(wn," logic might fire more often that intended."),wn.forEach(m),be=Q(Hn),Ve=O(Hn,"LI",{});var bn=R(Ve);vn=M(bn,`We need to write an extra event listener for resize and some not very Svelt-y code inside 
    the graph logic, e.g. getting width of the container with
    `),tt=O(bn,"BR",{}),Xe=Q(bn),wt=O(bn,"CODE",{});var Ir=R(wt);Xt=M(Ir,"getBoundingClientRect()"),Ir.forEach(m),Bt=M(bn,`, when we 
    could instead just bind the container's dimensions to variables which are then passed as props to the graph, 
    making it both cleaner and eliminating the need to use a resize event.`),bn.forEach(m),Hn.forEach(m),bt=Q(X),Jt=O(X,"H3",{});var Cr=R(Jt);Ft=M(Cr,"Code highlights"),Cr.forEach(m),this.h()},h(){P(a,"class","summary"),P(Te,"class","accent"),P(Ae,"class","accent"),P(Oe,"class","accent")},m(X,qe){B(X,a,qe),_(a,i),_(a,o),_(o,h),_(a,g),B(X,b,qe),B(X,f,qe),_(f,x),B(X,y,qe),B(X,E,qe),_(E,C),_(C,U),_(C,A),_(A,W),_(C,q),_(C,ne),_(ne,ee),_(C,V),_(C,ge),_(C,ye),_(C,me),_(me,N),_(E,z),_(E,se),_(se,Ze),_(E,Ye),_(E,Ee),_(Ee,ke),_(Ee,Te),_(Te,Ne),_(Te,nt),_(nt,st),_(Ee,Ie),_(Ee,Ae),_(Ae,ue),_(Ee,$e),B(X,_e,qe),B(X,Ce,qe),_(Ce,Qe),B(X,oe,qe),B(X,ce,qe),_(ce,Me),_(Me,rt),_(Me,Oe),_(Oe,it),_(Oe,De),_(De,ut),_(Oe,we),_(Me,At),_(Me,Ge),_(Ge,ot),_(Me,Pt),_(ce,be),_(ce,Ve),_(Ve,vn),_(Ve,tt),_(Ve,Xe),_(Ve,wt),_(wt,Xt),_(Ve,Bt),B(X,bt,qe),B(X,Jt,qe),_(Jt,Ft)},p:ie,i:ie,o:ie,d(X){X&&m(a),X&&m(b),X&&m(f),X&&m(y),X&&m(E),X&&m(_e),X&&m(Ce),X&&m(oe),X&&m(ce),X&&m(bt),X&&m(Jt)}}}class P_ extends kt{constructor(a){super(),Mt(this,a,null,W_,Wt,{})}}let za=[{id:"alice",name:"Alice",number:10},{id:"bob",name:"Bob",number:20},{id:"calor",name:"Carol",number:5},{id:"dave",name:"Dave",number:30},{id:"eve",name:"Eve",number:22},{id:"francisco",name:"Francisco",number:50}];za=Ar.sortBy(za,p=>p.number).reverse();var B_=za;Si.prototype.appendSelect=Ai;class F_{constructor(){Er(this,"defaultData",[]);Er(this,"defaultProps",{})}selection(a){return a?(this._selection=bi(a),this):this._selection}data(a){return a?(this._data=a,this):this._data||this.defaultData}props(a){return a?(this._props=Ar.merge(this._props||this.defaultProps,a),this):this._props||this.defaultProps}draw(){const a=this.data();let{margin:i,fill:o}=this.props();const h=this.selection().node(),{width:g,height:b}=h.getBoundingClientRect(),f=g-i.left-i.right,x=b-i.top-i.bottom;o=g>=500?"#6b6065":"#ee3e3e";const y=Li().domain([0,Za(a,A=>A.number)]).range([0,f]),E=Ya().domain(a.map(A=>A.id)).range([0,x]).paddingInner(.3);return this.selection().appendSelect("svg").attr("width",g).attr("height",b).classed("svg",!0).appendSelect("g.plot").attr("transform",`translate(${i.left}, ${i.top})`).selectAll(".bar").data(a,A=>A.id).join("rect").classed("bar",!0).attr("x",0).attr("y",A=>E(A.id)).attr("width",A=>y(A.number)).attr("height",E.bandwidth()).style("fill",o),this}}function U_(p){let a,i,o;return{c(){a=$("div"),i=$("div"),o=k("resize window to see responsiveness"),this.h()},l(h){a=O(h,"DIV",{class:!0});var g=R(a);i=O(g,"DIV",{class:!0});var b=R(i);o=M(b,"resize window to see responsiveness"),b.forEach(m),g.forEach(m),this.h()},h(){P(i,"class","graph-note svelte-1mwpgsz"),P(a,"class","graph-container svelte-1mwpgsz")},m(h,g){B(h,a,g),_(a,i),_(i,o),p[1](a)},p:ie,i:ie,o:ie,d(h){h&&m(a),p[1](null)}}}function N_(p,a,i){const o={margin:{top:50,right:20,bottom:30,left:60}};let h;const g=new F_,b=()=>g.draw();a_(()=>(g.selection(h).data(B_).props(o).draw(),window&&window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b)}));function f(x){wi[x?"unshift":"push"](()=>{h=x,i(0,h)})}return[h,f]}class H_ extends kt{constructor(a){super(),Mt(this,a,N_,U_,Wt,{})}}const G_=`
  // From the Graph.svelte file
  <script>
    ...
    
    // 1. Define any graph props - not reactive in this case, just constants
    const props = {
      margin: { top: 50, right: 20, bottom: 30, left: 60 },
    }
    
    // 2. Initialise the graph and the bound container into which it is injected
    let graphContainer;
    const graph = new Graph()

    // 3. Define resize event; Note that the logic for changing the graph 
    // based on width is inside the draw method of the graph class itself
    const resize = () => graph.draw();

    // 4. Draw the graph on mount and add event listener for resize
    onMount(() => {
      graph.selection(graphContainer).data(data).props(props).draw();
      if (window) window.addEventListener('resize', resize);
      return () => {
        window.removeEventListener('resize', resize);
      };
    });
    
    // 4. If any of the props passed to the graph change 
    // we'd also need an afterUpdate or a reactive declaration 

    ...
  <\/script>

  <div class="graph-container" bind:this={graphContainer}></div>

  // From the Graph.js file
  ...
  draw() {
    const data = this.data();
    let { margin, fill } = this.props();
    const container = this.selection().node();
    const { width, height } = container.getBoundingClientRect(); 
    const boundedWidth = width - margin.left - margin.right;
    const boundedHeight = height - margin.top - margin.bottom;
    fill = width >= 500 ? '#6b6065' : '#ee3e3e'
    ...
  }
  ...
`;function z_(p){let a;return{c(){a=$("div")},l(i){a=O(i,"DIV",{}),R(a).forEach(m)},m(i,o){B(i,a,o)},p:ie,i:ie,o:ie,d(i){i&&m(a)}}}function q_(p){let a,i;return a=new Ci({props:{language:"javascript",source:G_,showCopyButton:!0}}),{c(){Pe(a.$$.fragment)},l(o){Be(a.$$.fragment,o)},m(o,h){Fe(a,o,h),i=!0},p:ie,i(o){i||(pe(a.$$.fragment,o),i=!0)},o(o){ve(a.$$.fragment,o),i=!1},d(o){Ue(a,o)}}}function K_(p){let a,i,o,h,g,b;a=new P_({});const f=[q_,z_],x=[];function y(E,C){return 0}return h=y(),g=x[h]=f[h](p),{c(){Pe(a.$$.fragment),i=J(),o=$("div"),g.c(),this.h()},l(E){Be(a.$$.fragment,E),i=Q(E),o=O(E,"DIV",{class:!0});var C=R(o);g.l(C),C.forEach(m),this.h()},h(){P(o,"class","codeblock svelte-knnyit")},m(E,C){Fe(a,E,C),B(E,i,C),B(E,o,C),x[h].m(o,null),b=!0},p(E,C){g.p(E,C)},i(E){b||(pe(a.$$.fragment,E),pe(g),b=!0)},o(E){ve(a.$$.fragment,E),ve(g),b=!1},d(E){Ue(a,E),E&&m(i),E&&m(o),x[h].d()}}}function Z_(p){let a,i;return{c(){a=$("h2"),i=k(p[1]),this.h()},l(o){a=O(o,"H2",{slot:!0,class:!0});var h=R(a);i=M(h,p[1]),h.forEach(m),this.h()},h(){P(a,"slot","title"),P(a,"class","svelte-knnyit")},m(o,h){B(o,a,h),_(a,i)},p(o,h){h&2&&Ei(i,o[1])},d(o){o&&m(a)}}}function Y_(p){let a;return{c(){a=$("div"),this.h()},l(i){a=O(i,"DIV",{slot:!0,class:!0});var o=R(a);o.forEach(m),this.h()},h(){P(a,"slot","external-link"),P(a,"class","external-link")},m(i,o){B(i,a,o)},p:ie,d(i){i&&m(a)}}}function X_(p){let a,i,o,h,g,b;return a=new Ii({props:{internalLink:p[2],date:p[3],$$slots:{"external-link":[Y_],title:[Z_],default:[K_]},$$scope:{ctx:p}}}),g=new H_({}),{c(){Pe(a.$$.fragment),i=J(),o=$("br"),h=J(),Pe(g.$$.fragment)},l(f){Be(a.$$.fragment,f),i=Q(f),o=O(f,"BR",{}),h=Q(f),Be(g.$$.fragment,f)},m(f,x){Fe(a,f,x),B(f,i,x),B(f,o,x),B(f,h,x),Fe(g,f,x),b=!0},p(f,x){const y={};x&4&&(y.internalLink=f[2]),x&8&&(y.date=f[3]),x&66&&(y.$$scope={dirty:x,ctx:f}),a.$set(y)},i(f){b||(pe(a.$$.fragment,f),pe(g.$$.fragment,f),b=!0)},o(f){ve(a.$$.fragment,f),ve(g.$$.fragment,f),b=!1},d(f){Ue(a,f),f&&m(i),f&&m(o),f&&m(h),Ue(g,f)}}}function J_(p){let a,i;return a=new Ti({props:{id:p[0],$$slots:{default:[X_]},$$scope:{ctx:p}}}),{c(){Pe(a.$$.fragment)},l(o){Be(a.$$.fragment,o)},m(o,h){Fe(a,o,h),i=!0},p(o,[h]){const g={};h&1&&(g.id=o[0]),h&78&&(g.$$scope={dirty:h,ctx:o}),a.$set(g)},i(o){i||(pe(a.$$.fragment,o),i=!0)},o(o){ve(a.$$.fragment,o),i=!1},d(o){Ue(a,o)}}}function Q_(p,a,i){let{id:o}=a,{sectionTitle:h}=a,{internalLink:g}=a,{externalLink:b}=a,{externalLinkTitle:f}=a,{date:x}=a;return p.$$set=y=>{"id"in y&&i(0,o=y.id),"sectionTitle"in y&&i(1,h=y.sectionTitle),"internalLink"in y&&i(2,g=y.internalLink),"externalLink"in y&&i(4,b=y.externalLink),"externalLinkTitle"in y&&i(5,f=y.externalLinkTitle),"date"in y&&i(3,x=y.date)},[o,h,g,x,b,f]}class V_ extends kt{constructor(a){super(),Mt(this,a,Q_,J_,Wt,{id:0,sectionTitle:1,internalLink:2,externalLink:4,externalLinkTitle:5,date:3})}}function j_(p){let a,i,o,h,g,b,f,x,y,E,C,U,A,W,q,ne,ee,V,ge,ye,me,N,z,se,Ze,Ye,Ee,ke,Te,Ne,nt,st,Ie,Ae;return{c(){a=$("p"),i=k(`Minimal example of how to use Svelte for svg graphs, using D3 only for helper functions (e.g. scales) and for axes. 
  Graph is responsive based on the width of the container and uses only reactive declarations and statements.`),o=J(),h=$("h3"),g=k("Main points"),b=J(),f=$("ul"),x=$("li"),y=k(`Width and height of the graph are based on the width and height of the container, which we obtain with 
    Svelte binding, e.g. `),E=$("code"),C=k("bind:clientWidth=w"),U=k(`. These are also used to base other values on, such as 
    fill, and make them responsive.`),A=J(),W=$("li"),q=$("span"),ne=k("Scales and axes"),ee=k(" are defined as "),V=$("span"),ge=k("reactive declarations"),ye=k(` as they depend on the 
    width and height (w and h variables).`),me=J(),N=$("li"),z=$("span"),se=k("Axes are called on a bound group element inside a reactive statement"),Ze=k("."),Ye=J(),Ee=$("li"),ke=k(`All the graph-drawing logic happens declaratively in the DOM, and the data is looped-over with a 
    Svelte `),Te=$("code"),Ne=k("each"),nt=k(" statement."),st=J(),Ie=$("h3"),Ae=k("Code highlights"),this.h()},l(ue){a=O(ue,"P",{class:!0});var $e=R(a);i=M($e,`Minimal example of how to use Svelte for svg graphs, using D3 only for helper functions (e.g. scales) and for axes. 
  Graph is responsive based on the width of the container and uses only reactive declarations and statements.`),$e.forEach(m),o=Q(ue),h=O(ue,"H3",{});var _e=R(h);g=M(_e,"Main points"),_e.forEach(m),b=Q(ue),f=O(ue,"UL",{});var Ce=R(f);x=O(Ce,"LI",{});var Qe=R(x);y=M(Qe,`Width and height of the graph are based on the width and height of the container, which we obtain with 
    Svelte binding, e.g. `),E=O(Qe,"CODE",{});var oe=R(E);C=M(oe,"bind:clientWidth=w"),oe.forEach(m),U=M(Qe,`. These are also used to base other values on, such as 
    fill, and make them responsive.`),Qe.forEach(m),A=Q(Ce),W=O(Ce,"LI",{});var ce=R(W);q=O(ce,"SPAN",{class:!0});var Me=R(q);ne=M(Me,"Scales and axes"),Me.forEach(m),ee=M(ce," are defined as "),V=O(ce,"SPAN",{class:!0});var rt=R(V);ge=M(rt,"reactive declarations"),rt.forEach(m),ye=M(ce,` as they depend on the 
    width and height (w and h variables).`),ce.forEach(m),me=Q(Ce),N=O(Ce,"LI",{});var Oe=R(N);z=O(Oe,"SPAN",{class:!0});var it=R(z);se=M(it,"Axes are called on a bound group element inside a reactive statement"),it.forEach(m),Ze=M(Oe,"."),Oe.forEach(m),Ye=Q(Ce),Ee=O(Ce,"LI",{});var De=R(Ee);ke=M(De,`All the graph-drawing logic happens declaratively in the DOM, and the data is looped-over with a 
    Svelte `),Te=O(De,"CODE",{});var ut=R(Te);Ne=M(ut,"each"),ut.forEach(m),nt=M(De," statement."),De.forEach(m),Ce.forEach(m),st=Q(ue),Ie=O(ue,"H3",{});var we=R(Ie);Ae=M(we,"Code highlights"),we.forEach(m),this.h()},h(){P(a,"class","summary"),P(q,"class","accent"),P(V,"class","accent"),P(z,"class","accent")},m(ue,$e){B(ue,a,$e),_(a,i),B(ue,o,$e),B(ue,h,$e),_(h,g),B(ue,b,$e),B(ue,f,$e),_(f,x),_(x,y),_(x,E),_(E,C),_(x,U),_(f,A),_(f,W),_(W,q),_(q,ne),_(W,ee),_(W,V),_(V,ge),_(W,ye),_(f,me),_(f,N),_(N,z),_(z,se),_(N,Ze),_(f,Ye),_(f,Ee),_(Ee,ke),_(Ee,Te),_(Te,Ne),_(Ee,nt),B(ue,st,$e),B(ue,Ie,$e),_(Ie,Ae)},p:ie,i:ie,o:ie,d(ue){ue&&m(a),ue&&m(o),ue&&m(h),ue&&m(b),ue&&m(f),ue&&m(st),ue&&m(Ie)}}}class ev extends kt{constructor(a){super(),Mt(this,a,null,j_,Wt,{})}}var Eu={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(p,a){(function(){var i,o="4.17.21",h=200,g="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",b="Expected a function",f="Invalid `variable` option passed into `_.template`",x="__lodash_hash_undefined__",y=500,E="__lodash_placeholder__",C=1,U=2,A=4,W=1,q=2,ne=1,ee=2,V=4,ge=8,ye=16,me=32,N=64,z=128,se=256,Ze=512,Ye=30,Ee="...",ke=800,Te=16,Ne=1,nt=2,st=3,Ie=1/0,Ae=9007199254740991,ue=17976931348623157e292,$e=0/0,_e=4294967295,Ce=_e-1,Qe=_e>>>1,oe=[["ary",z],["bind",ne],["bindKey",ee],["curry",ge],["curryRight",ye],["flip",Ze],["partial",me],["partialRight",N],["rearg",se]],ce="[object Arguments]",Me="[object Array]",rt="[object AsyncFunction]",Oe="[object Boolean]",it="[object Date]",De="[object DOMException]",ut="[object Error]",we="[object Function]",At="[object GeneratorFunction]",Ge="[object Map]",ot="[object Number]",Pt="[object Null]",be="[object Object]",Ve="[object Promise]",vn="[object Proxy]",tt="[object RegExp]",Xe="[object Set]",wt="[object String]",Xt="[object Symbol]",Bt="[object Undefined]",bt="[object WeakMap]",Jt="[object WeakSet]",Ft="[object ArrayBuffer]",X="[object DataView]",qe="[object Float32Array]",an="[object Float64Array]",Lt="[object Int8Array]",Tt="[object Int16Array]",dt="[object Int32Array]",Ut="[object Uint8Array]",ln="[object Uint8ClampedArray]",sn="[object Uint16Array]",Nn="[object Uint32Array]",mn=/\b__p \+= '';/g,ir=/\b(__p \+=) '' \+/g,Lr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ar=/&(?:amp|lt|gt|quot|#39);/g,lr=/[&<>"']/g,Hn=RegExp(ar.source),wn=RegExp(lr.source),Gn=/<%-([\s\S]+?)%>/g,Tr=/<%([\s\S]+?)%>/g,sr=/<%=([\s\S]+?)%>/g,bn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ir=/^\w*$/,Cr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Di=/[\\^$.*+?()[\]{}|]/g,Ou=RegExp(Di.source),$i=/^\s+/,Ru=/\s/,ku=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Mu=/\{\n\/\* \[wrapped with (.+)\] \*/,Wu=/,? & /,Pu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bu=/[()=,{}\[\]\/\s]/,Fu=/\\(\\)?/g,Uu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xa=/\w*$/,Nu=/^[-+]0x[0-9a-f]+$/i,Hu=/^0b[01]+$/i,Gu=/^\[object .+?Constructor\]$/,zu=/^0o[0-7]+$/i,qu=/^(?:0|[1-9]\d*)$/,Ku=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Dr=/($^)/,Zu=/['\n\r\u2028\u2029\\]/g,$r="\\ud800-\\udfff",Yu="\\u0300-\\u036f",Xu="\\ufe20-\\ufe2f",Ju="\\u20d0-\\u20ff",Ja=Yu+Xu+Ju,Qa="\\u2700-\\u27bf",Va="a-z\\xdf-\\xf6\\xf8-\\xff",Qu="\\xac\\xb1\\xd7\\xf7",Vu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ju="\\u2000-\\u206f",eo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ja="A-Z\\xc0-\\xd6\\xd8-\\xde",el="\\ufe0e\\ufe0f",tl=Qu+Vu+ju+eo,Oi="['\u2019]",to="["+$r+"]",nl="["+tl+"]",Or="["+Ja+"]",rl="\\d+",no="["+Qa+"]",il="["+Va+"]",al="[^"+$r+tl+rl+Qa+Va+ja+"]",Ri="\\ud83c[\\udffb-\\udfff]",ro="(?:"+Or+"|"+Ri+")",ll="[^"+$r+"]",ki="(?:\\ud83c[\\udde6-\\uddff]){2}",Mi="[\\ud800-\\udbff][\\udc00-\\udfff]",zn="["+ja+"]",sl="\\u200d",ul="(?:"+il+"|"+al+")",io="(?:"+zn+"|"+al+")",ol="(?:"+Oi+"(?:d|ll|m|re|s|t|ve))?",fl="(?:"+Oi+"(?:D|LL|M|RE|S|T|VE))?",cl=ro+"?",hl="["+el+"]?",ao="(?:"+sl+"(?:"+[ll,ki,Mi].join("|")+")"+hl+cl+")*",lo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",so="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",dl=hl+cl+ao,uo="(?:"+[no,ki,Mi].join("|")+")"+dl,oo="(?:"+[ll+Or+"?",Or,ki,Mi,to].join("|")+")",fo=RegExp(Oi,"g"),co=RegExp(Or,"g"),Wi=RegExp(Ri+"(?="+Ri+")|"+oo+dl,"g"),ho=RegExp([zn+"?"+il+"+"+ol+"(?="+[nl,zn,"$"].join("|")+")",io+"+"+fl+"(?="+[nl,zn+ul,"$"].join("|")+")",zn+"?"+ul+"+"+ol,zn+"+"+fl,so,lo,rl,uo].join("|"),"g"),po=RegExp("["+sl+$r+Ja+el+"]"),go=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_o=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],vo=-1,He={};He[qe]=He[an]=He[Lt]=He[Tt]=He[dt]=He[Ut]=He[ln]=He[sn]=He[Nn]=!0,He[ce]=He[Me]=He[Ft]=He[Oe]=He[X]=He[it]=He[ut]=He[we]=He[Ge]=He[ot]=He[be]=He[tt]=He[Xe]=He[wt]=He[bt]=!1;var We={};We[ce]=We[Me]=We[Ft]=We[X]=We[Oe]=We[it]=We[qe]=We[an]=We[Lt]=We[Tt]=We[dt]=We[Ge]=We[ot]=We[be]=We[tt]=We[Xe]=We[wt]=We[Xt]=We[Ut]=We[ln]=We[sn]=We[Nn]=!0,We[ut]=We[we]=We[bt]=!1;var mo={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},wo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bo={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},xo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},yo=parseFloat,Eo=parseInt,pl=typeof Sr=="object"&&Sr&&Sr.Object===Object&&Sr,So=typeof self=="object"&&self&&self.Object===Object&&self,ct=pl||So||Function("return this")(),Pi=a&&!a.nodeType&&a,On=Pi&&!0&&p&&!p.nodeType&&p,gl=On&&On.exports===Pi,Bi=gl&&pl.process,Nt=function(){try{var v=On&&On.require&&On.require("util").types;return v||Bi&&Bi.binding&&Bi.binding("util")}catch{}}(),_l=Nt&&Nt.isArrayBuffer,vl=Nt&&Nt.isDate,ml=Nt&&Nt.isMap,wl=Nt&&Nt.isRegExp,bl=Nt&&Nt.isSet,xl=Nt&&Nt.isTypedArray;function It(v,L,S){switch(S.length){case 0:return v.call(L);case 1:return v.call(L,S[0]);case 2:return v.call(L,S[0],S[1]);case 3:return v.call(L,S[0],S[1],S[2])}return v.apply(L,S)}function Ao(v,L,S,H){for(var j=-1,xe=v==null?0:v.length;++j<xe;){var at=v[j];L(H,at,S(at),v)}return H}function Ht(v,L){for(var S=-1,H=v==null?0:v.length;++S<H&&L(v[S],S,v)!==!1;);return v}function Lo(v,L){for(var S=v==null?0:v.length;S--&&L(v[S],S,v)!==!1;);return v}function yl(v,L){for(var S=-1,H=v==null?0:v.length;++S<H;)if(!L(v[S],S,v))return!1;return!0}function xn(v,L){for(var S=-1,H=v==null?0:v.length,j=0,xe=[];++S<H;){var at=v[S];L(at,S,v)&&(xe[j++]=at)}return xe}function Rr(v,L){var S=v==null?0:v.length;return!!S&&qn(v,L,0)>-1}function Fi(v,L,S){for(var H=-1,j=v==null?0:v.length;++H<j;)if(S(L,v[H]))return!0;return!1}function ze(v,L){for(var S=-1,H=v==null?0:v.length,j=Array(H);++S<H;)j[S]=L(v[S],S,v);return j}function yn(v,L){for(var S=-1,H=L.length,j=v.length;++S<H;)v[j+S]=L[S];return v}function Ui(v,L,S,H){var j=-1,xe=v==null?0:v.length;for(H&&xe&&(S=v[++j]);++j<xe;)S=L(S,v[j],j,v);return S}function To(v,L,S,H){var j=v==null?0:v.length;for(H&&j&&(S=v[--j]);j--;)S=L(S,v[j],j,v);return S}function Ni(v,L){for(var S=-1,H=v==null?0:v.length;++S<H;)if(L(v[S],S,v))return!0;return!1}var Io=Hi("length");function Co(v){return v.split("")}function Do(v){return v.match(Pu)||[]}function El(v,L,S){var H;return S(v,function(j,xe,at){if(L(j,xe,at))return H=xe,!1}),H}function kr(v,L,S,H){for(var j=v.length,xe=S+(H?1:-1);H?xe--:++xe<j;)if(L(v[xe],xe,v))return xe;return-1}function qn(v,L,S){return L===L?Ho(v,L,S):kr(v,Sl,S)}function $o(v,L,S,H){for(var j=S-1,xe=v.length;++j<xe;)if(H(v[j],L))return j;return-1}function Sl(v){return v!==v}function Al(v,L){var S=v==null?0:v.length;return S?zi(v,L)/S:$e}function Hi(v){return function(L){return L==null?i:L[v]}}function Gi(v){return function(L){return v==null?i:v[L]}}function Ll(v,L,S,H,j){return j(v,function(xe,at,Re){S=H?(H=!1,xe):L(S,xe,at,Re)}),S}function Oo(v,L){var S=v.length;for(v.sort(L);S--;)v[S]=v[S].value;return v}function zi(v,L){for(var S,H=-1,j=v.length;++H<j;){var xe=L(v[H]);xe!==i&&(S=S===i?xe:S+xe)}return S}function qi(v,L){for(var S=-1,H=Array(v);++S<v;)H[S]=L(S);return H}function Ro(v,L){return ze(L,function(S){return[S,v[S]]})}function Tl(v){return v&&v.slice(0,$l(v)+1).replace($i,"")}function Ct(v){return function(L){return v(L)}}function Ki(v,L){return ze(L,function(S){return v[S]})}function ur(v,L){return v.has(L)}function Il(v,L){for(var S=-1,H=v.length;++S<H&&qn(L,v[S],0)>-1;);return S}function Cl(v,L){for(var S=v.length;S--&&qn(L,v[S],0)>-1;);return S}function ko(v,L){for(var S=v.length,H=0;S--;)v[S]===L&&++H;return H}var Mo=Gi(mo),Wo=Gi(wo);function Po(v){return"\\"+xo[v]}function Bo(v,L){return v==null?i:v[L]}function Kn(v){return po.test(v)}function Fo(v){return go.test(v)}function Uo(v){for(var L,S=[];!(L=v.next()).done;)S.push(L.value);return S}function Zi(v){var L=-1,S=Array(v.size);return v.forEach(function(H,j){S[++L]=[j,H]}),S}function Dl(v,L){return function(S){return v(L(S))}}function En(v,L){for(var S=-1,H=v.length,j=0,xe=[];++S<H;){var at=v[S];(at===L||at===E)&&(v[S]=E,xe[j++]=S)}return xe}function Mr(v){var L=-1,S=Array(v.size);return v.forEach(function(H){S[++L]=H}),S}function No(v){var L=-1,S=Array(v.size);return v.forEach(function(H){S[++L]=[H,H]}),S}function Ho(v,L,S){for(var H=S-1,j=v.length;++H<j;)if(v[H]===L)return H;return-1}function Go(v,L,S){for(var H=S+1;H--;)if(v[H]===L)return H;return H}function Zn(v){return Kn(v)?qo(v):Io(v)}function Qt(v){return Kn(v)?Ko(v):Co(v)}function $l(v){for(var L=v.length;L--&&Ru.test(v.charAt(L)););return L}var zo=Gi(bo);function qo(v){for(var L=Wi.lastIndex=0;Wi.test(v);)++L;return L}function Ko(v){return v.match(Wi)||[]}function Zo(v){return v.match(ho)||[]}var Yo=function v(L){L=L==null?ct:Yn.defaults(ct.Object(),L,Yn.pick(ct,_o));var S=L.Array,H=L.Date,j=L.Error,xe=L.Function,at=L.Math,Re=L.Object,Yi=L.RegExp,Xo=L.String,Gt=L.TypeError,Wr=S.prototype,Jo=xe.prototype,Xn=Re.prototype,Pr=L["__core-js_shared__"],Br=Jo.toString,Le=Xn.hasOwnProperty,Qo=0,Ol=function(){var e=/[^.]+$/.exec(Pr&&Pr.keys&&Pr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fr=Xn.toString,Vo=Br.call(Re),jo=ct._,ef=Yi("^"+Br.call(Le).replace(Di,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ur=gl?L.Buffer:i,Sn=L.Symbol,Nr=L.Uint8Array,Rl=Ur?Ur.allocUnsafe:i,Hr=Dl(Re.getPrototypeOf,Re),kl=Re.create,Ml=Xn.propertyIsEnumerable,Gr=Wr.splice,Wl=Sn?Sn.isConcatSpreadable:i,or=Sn?Sn.iterator:i,Rn=Sn?Sn.toStringTag:i,zr=function(){try{var e=Bn(Re,"defineProperty");return e({},"",{}),e}catch{}}(),tf=L.clearTimeout!==ct.clearTimeout&&L.clearTimeout,nf=H&&H.now!==ct.Date.now&&H.now,rf=L.setTimeout!==ct.setTimeout&&L.setTimeout,qr=at.ceil,Kr=at.floor,Xi=Re.getOwnPropertySymbols,af=Ur?Ur.isBuffer:i,Pl=L.isFinite,lf=Wr.join,sf=Dl(Re.keys,Re),lt=at.max,pt=at.min,uf=H.now,of=L.parseInt,Bl=at.random,ff=Wr.reverse,Ji=Bn(L,"DataView"),fr=Bn(L,"Map"),Qi=Bn(L,"Promise"),Jn=Bn(L,"Set"),cr=Bn(L,"WeakMap"),hr=Bn(Re,"create"),Zr=cr&&new cr,Qn={},cf=Fn(Ji),hf=Fn(fr),df=Fn(Qi),pf=Fn(Jn),gf=Fn(cr),Yr=Sn?Sn.prototype:i,dr=Yr?Yr.valueOf:i,Fl=Yr?Yr.toString:i;function s(e){if(Je(e)&&!te(e)&&!(e instanceof he)){if(e instanceof zt)return e;if(Le.call(e,"__wrapped__"))return Us(e)}return new zt(e)}var Vn=function(){function e(){}return function(t){if(!Ke(t))return{};if(kl)return kl(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Xr(){}function zt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}s.templateSettings={escape:Gn,evaluate:Tr,interpolate:sr,variable:"",imports:{_:s}},s.prototype=Xr.prototype,s.prototype.constructor=s,zt.prototype=Vn(Xr.prototype),zt.prototype.constructor=zt;function he(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_e,this.__views__=[]}function _f(){var e=new he(this.__wrapped__);return e.__actions__=xt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=xt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=xt(this.__views__),e}function vf(){if(this.__filtered__){var e=new he(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function mf(){var e=this.__wrapped__.value(),t=this.__dir__,n=te(e),r=t<0,l=n?e.length:0,u=Dc(0,l,this.__views__),c=u.start,d=u.end,w=d-c,T=r?d:c-1,I=this.__iteratees__,D=I.length,F=0,G=pt(w,this.__takeCount__);if(!n||!r&&l==w&&G==w)return os(e,this.__actions__);var Z=[];e:for(;w--&&F<G;){T+=t;for(var ae=-1,Y=e[T];++ae<D;){var fe=I[ae],de=fe.iteratee,Ot=fe.type,mt=de(Y);if(Ot==nt)Y=mt;else if(!mt){if(Ot==Ne)continue e;break e}}Z[F++]=Y}return Z}he.prototype=Vn(Xr.prototype),he.prototype.constructor=he;function kn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function wf(){this.__data__=hr?hr(null):{},this.size=0}function bf(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function xf(e){var t=this.__data__;if(hr){var n=t[e];return n===x?i:n}return Le.call(t,e)?t[e]:i}function yf(e){var t=this.__data__;return hr?t[e]!==i:Le.call(t,e)}function Ef(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=hr&&t===i?x:t,this}kn.prototype.clear=wf,kn.prototype.delete=bf,kn.prototype.get=xf,kn.prototype.has=yf,kn.prototype.set=Ef;function un(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Sf(){this.__data__=[],this.size=0}function Af(e){var t=this.__data__,n=Jr(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Gr.call(t,n,1),--this.size,!0}function Lf(e){var t=this.__data__,n=Jr(t,e);return n<0?i:t[n][1]}function Tf(e){return Jr(this.__data__,e)>-1}function If(e,t){var n=this.__data__,r=Jr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}un.prototype.clear=Sf,un.prototype.delete=Af,un.prototype.get=Lf,un.prototype.has=Tf,un.prototype.set=If;function on(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Cf(){this.size=0,this.__data__={hash:new kn,map:new(fr||un),string:new kn}}function Df(e){var t=ui(this,e).delete(e);return this.size-=t?1:0,t}function $f(e){return ui(this,e).get(e)}function Of(e){return ui(this,e).has(e)}function Rf(e,t){var n=ui(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}on.prototype.clear=Cf,on.prototype.delete=Df,on.prototype.get=$f,on.prototype.has=Of,on.prototype.set=Rf;function Mn(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new on;++t<n;)this.add(e[t])}function kf(e){return this.__data__.set(e,x),this}function Mf(e){return this.__data__.has(e)}Mn.prototype.add=Mn.prototype.push=kf,Mn.prototype.has=Mf;function Vt(e){var t=this.__data__=new un(e);this.size=t.size}function Wf(){this.__data__=new un,this.size=0}function Pf(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Bf(e){return this.__data__.get(e)}function Ff(e){return this.__data__.has(e)}function Uf(e,t){var n=this.__data__;if(n instanceof un){var r=n.__data__;if(!fr||r.length<h-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new on(r)}return n.set(e,t),this.size=n.size,this}Vt.prototype.clear=Wf,Vt.prototype.delete=Pf,Vt.prototype.get=Bf,Vt.prototype.has=Ff,Vt.prototype.set=Uf;function Ul(e,t){var n=te(e),r=!n&&Un(e),l=!n&&!r&&Cn(e),u=!n&&!r&&!l&&nr(e),c=n||r||l||u,d=c?qi(e.length,Xo):[],w=d.length;for(var T in e)(t||Le.call(e,T))&&!(c&&(T=="length"||l&&(T=="offset"||T=="parent")||u&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||dn(T,w)))&&d.push(T);return d}function Nl(e){var t=e.length;return t?e[ua(0,t-1)]:i}function Nf(e,t){return oi(xt(e),Wn(t,0,e.length))}function Hf(e){return oi(xt(e))}function Vi(e,t,n){(n!==i&&!jt(e[t],n)||n===i&&!(t in e))&&fn(e,t,n)}function pr(e,t,n){var r=e[t];(!(Le.call(e,t)&&jt(r,n))||n===i&&!(t in e))&&fn(e,t,n)}function Jr(e,t){for(var n=e.length;n--;)if(jt(e[n][0],t))return n;return-1}function Gf(e,t,n,r){return An(e,function(l,u,c){t(r,l,n(l),c)}),r}function Hl(e,t){return e&&nn(t,ft(t),e)}function zf(e,t){return e&&nn(t,Et(t),e)}function fn(e,t,n){t=="__proto__"&&zr?zr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ji(e,t){for(var n=-1,r=t.length,l=S(r),u=e==null;++n<r;)l[n]=u?i:Ra(e,t[n]);return l}function Wn(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function qt(e,t,n,r,l,u){var c,d=t&C,w=t&U,T=t&A;if(n&&(c=l?n(e,r,l,u):n(e)),c!==i)return c;if(!Ke(e))return e;var I=te(e);if(I){if(c=Oc(e),!d)return xt(e,c)}else{var D=gt(e),F=D==we||D==At;if(Cn(e))return hs(e,d);if(D==be||D==ce||F&&!l){if(c=w||F?{}:$s(e),!d)return w?xc(e,zf(c,e)):bc(e,Hl(c,e))}else{if(!We[D])return l?e:{};c=Rc(e,D,d)}}u||(u=new Vt);var G=u.get(e);if(G)return G;u.set(e,c),lu(e)?e.forEach(function(Y){c.add(qt(Y,t,n,Y,e,u))}):iu(e)&&e.forEach(function(Y,fe){c.set(fe,qt(Y,t,n,fe,e,u))});var Z=T?w?wa:ma:w?Et:ft,ae=I?i:Z(e);return Ht(ae||e,function(Y,fe){ae&&(fe=Y,Y=e[fe]),pr(c,fe,qt(Y,t,n,fe,e,u))}),c}function qf(e){var t=ft(e);return function(n){return Gl(n,e,t)}}function Gl(e,t,n){var r=n.length;if(e==null)return!r;for(e=Re(e);r--;){var l=n[r],u=t[l],c=e[l];if(c===i&&!(l in e)||!u(c))return!1}return!0}function zl(e,t,n){if(typeof e!="function")throw new Gt(b);return xr(function(){e.apply(i,n)},t)}function gr(e,t,n,r){var l=-1,u=Rr,c=!0,d=e.length,w=[],T=t.length;if(!d)return w;n&&(t=ze(t,Ct(n))),r?(u=Fi,c=!1):t.length>=h&&(u=ur,c=!1,t=new Mn(t));e:for(;++l<d;){var I=e[l],D=n==null?I:n(I);if(I=r||I!==0?I:0,c&&D===D){for(var F=T;F--;)if(t[F]===D)continue e;w.push(I)}else u(t,D,r)||w.push(I)}return w}var An=vs(tn),ql=vs(ta,!0);function Kf(e,t){var n=!0;return An(e,function(r,l,u){return n=!!t(r,l,u),n}),n}function Qr(e,t,n){for(var r=-1,l=e.length;++r<l;){var u=e[r],c=t(u);if(c!=null&&(d===i?c===c&&!$t(c):n(c,d)))var d=c,w=u}return w}function Zf(e,t,n,r){var l=e.length;for(n=re(n),n<0&&(n=-n>l?0:l+n),r=r===i||r>l?l:re(r),r<0&&(r+=l),r=n>r?0:uu(r);n<r;)e[n++]=t;return e}function Kl(e,t){var n=[];return An(e,function(r,l,u){t(r,l,u)&&n.push(r)}),n}function ht(e,t,n,r,l){var u=-1,c=e.length;for(n||(n=Mc),l||(l=[]);++u<c;){var d=e[u];t>0&&n(d)?t>1?ht(d,t-1,n,r,l):yn(l,d):r||(l[l.length]=d)}return l}var ea=ms(),Zl=ms(!0);function tn(e,t){return e&&ea(e,t,ft)}function ta(e,t){return e&&Zl(e,t,ft)}function Vr(e,t){return xn(t,function(n){return pn(e[n])})}function Pn(e,t){t=Tn(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[rn(t[n++])];return n&&n==r?e:i}function Yl(e,t,n){var r=t(e);return te(e)?r:yn(r,n(e))}function _t(e){return e==null?e===i?Bt:Pt:Rn&&Rn in Re(e)?Cc(e):Hc(e)}function na(e,t){return e>t}function Yf(e,t){return e!=null&&Le.call(e,t)}function Xf(e,t){return e!=null&&t in Re(e)}function Jf(e,t,n){return e>=pt(t,n)&&e<lt(t,n)}function ra(e,t,n){for(var r=n?Fi:Rr,l=e[0].length,u=e.length,c=u,d=S(u),w=1/0,T=[];c--;){var I=e[c];c&&t&&(I=ze(I,Ct(t))),w=pt(I.length,w),d[c]=!n&&(t||l>=120&&I.length>=120)?new Mn(c&&I):i}I=e[0];var D=-1,F=d[0];e:for(;++D<l&&T.length<w;){var G=I[D],Z=t?t(G):G;if(G=n||G!==0?G:0,!(F?ur(F,Z):r(T,Z,n))){for(c=u;--c;){var ae=d[c];if(!(ae?ur(ae,Z):r(e[c],Z,n)))continue e}F&&F.push(Z),T.push(G)}}return T}function Qf(e,t,n,r){return tn(e,function(l,u,c){t(r,n(l),u,c)}),r}function _r(e,t,n){t=Tn(t,e),e=Ms(e,t);var r=e==null?e:e[rn(Zt(t))];return r==null?i:It(r,e,n)}function Xl(e){return Je(e)&&_t(e)==ce}function Vf(e){return Je(e)&&_t(e)==Ft}function jf(e){return Je(e)&&_t(e)==it}function vr(e,t,n,r,l){return e===t?!0:e==null||t==null||!Je(e)&&!Je(t)?e!==e&&t!==t:ec(e,t,n,r,vr,l)}function ec(e,t,n,r,l,u){var c=te(e),d=te(t),w=c?Me:gt(e),T=d?Me:gt(t);w=w==ce?be:w,T=T==ce?be:T;var I=w==be,D=T==be,F=w==T;if(F&&Cn(e)){if(!Cn(t))return!1;c=!0,I=!1}if(F&&!I)return u||(u=new Vt),c||nr(e)?Is(e,t,n,r,l,u):Tc(e,t,w,n,r,l,u);if(!(n&W)){var G=I&&Le.call(e,"__wrapped__"),Z=D&&Le.call(t,"__wrapped__");if(G||Z){var ae=G?e.value():e,Y=Z?t.value():t;return u||(u=new Vt),l(ae,Y,n,r,u)}}return F?(u||(u=new Vt),Ic(e,t,n,r,l,u)):!1}function tc(e){return Je(e)&&gt(e)==Ge}function ia(e,t,n,r){var l=n.length,u=l,c=!r;if(e==null)return!u;for(e=Re(e);l--;){var d=n[l];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++l<u;){d=n[l];var w=d[0],T=e[w],I=d[1];if(c&&d[2]){if(T===i&&!(w in e))return!1}else{var D=new Vt;if(r)var F=r(T,I,w,e,t,D);if(!(F===i?vr(I,T,W|q,r,D):F))return!1}}return!0}function Jl(e){if(!Ke(e)||Pc(e))return!1;var t=pn(e)?ef:Gu;return t.test(Fn(e))}function nc(e){return Je(e)&&_t(e)==tt}function rc(e){return Je(e)&&gt(e)==Xe}function ic(e){return Je(e)&&gi(e.length)&&!!He[_t(e)]}function Ql(e){return typeof e=="function"?e:e==null?St:typeof e=="object"?te(e)?es(e[0],e[1]):jl(e):wu(e)}function aa(e){if(!br(e))return sf(e);var t=[];for(var n in Re(e))Le.call(e,n)&&n!="constructor"&&t.push(n);return t}function ac(e){if(!Ke(e))return Nc(e);var t=br(e),n=[];for(var r in e)r=="constructor"&&(t||!Le.call(e,r))||n.push(r);return n}function la(e,t){return e<t}function Vl(e,t){var n=-1,r=yt(e)?S(e.length):[];return An(e,function(l,u,c){r[++n]=t(l,u,c)}),r}function jl(e){var t=xa(e);return t.length==1&&t[0][2]?Rs(t[0][0],t[0][1]):function(n){return n===e||ia(n,e,t)}}function es(e,t){return Ea(e)&&Os(t)?Rs(rn(e),t):function(n){var r=Ra(n,e);return r===i&&r===t?ka(n,e):vr(t,r,W|q)}}function jr(e,t,n,r,l){e!==t&&ea(t,function(u,c){if(l||(l=new Vt),Ke(u))lc(e,t,c,n,jr,r,l);else{var d=r?r(Aa(e,c),u,c+"",e,t,l):i;d===i&&(d=u),Vi(e,c,d)}},Et)}function lc(e,t,n,r,l,u,c){var d=Aa(e,n),w=Aa(t,n),T=c.get(w);if(T){Vi(e,n,T);return}var I=u?u(d,w,n+"",e,t,c):i,D=I===i;if(D){var F=te(w),G=!F&&Cn(w),Z=!F&&!G&&nr(w);I=w,F||G||Z?te(d)?I=d:je(d)?I=xt(d):G?(D=!1,I=hs(w,!0)):Z?(D=!1,I=ds(w,!0)):I=[]:yr(w)||Un(w)?(I=d,Un(d)?I=ou(d):(!Ke(d)||pn(d))&&(I=$s(w))):D=!1}D&&(c.set(w,I),l(I,w,r,u,c),c.delete(w)),Vi(e,n,I)}function ts(e,t){var n=e.length;if(!!n)return t+=t<0?n:0,dn(t,n)?e[t]:i}function ns(e,t,n){t.length?t=ze(t,function(u){return te(u)?function(c){return Pn(c,u.length===1?u[0]:u)}:u}):t=[St];var r=-1;t=ze(t,Ct(K()));var l=Vl(e,function(u,c,d){var w=ze(t,function(T){return T(u)});return{criteria:w,index:++r,value:u}});return Oo(l,function(u,c){return wc(u,c,n)})}function sc(e,t){return rs(e,t,function(n,r){return ka(e,r)})}function rs(e,t,n){for(var r=-1,l=t.length,u={};++r<l;){var c=t[r],d=Pn(e,c);n(d,c)&&mr(u,Tn(c,e),d)}return u}function uc(e){return function(t){return Pn(t,e)}}function sa(e,t,n,r){var l=r?$o:qn,u=-1,c=t.length,d=e;for(e===t&&(t=xt(t)),n&&(d=ze(e,Ct(n)));++u<c;)for(var w=0,T=t[u],I=n?n(T):T;(w=l(d,I,w,r))>-1;)d!==e&&Gr.call(d,w,1),Gr.call(e,w,1);return e}function is(e,t){for(var n=e?t.length:0,r=n-1;n--;){var l=t[n];if(n==r||l!==u){var u=l;dn(l)?Gr.call(e,l,1):ca(e,l)}}return e}function ua(e,t){return e+Kr(Bl()*(t-e+1))}function oc(e,t,n,r){for(var l=-1,u=lt(qr((t-e)/(n||1)),0),c=S(u);u--;)c[r?u:++l]=e,e+=n;return c}function oa(e,t){var n="";if(!e||t<1||t>Ae)return n;do t%2&&(n+=e),t=Kr(t/2),t&&(e+=e);while(t);return n}function le(e,t){return La(ks(e,t,St),e+"")}function fc(e){return Nl(rr(e))}function cc(e,t){var n=rr(e);return oi(n,Wn(t,0,n.length))}function mr(e,t,n,r){if(!Ke(e))return e;t=Tn(t,e);for(var l=-1,u=t.length,c=u-1,d=e;d!=null&&++l<u;){var w=rn(t[l]),T=n;if(w==="__proto__"||w==="constructor"||w==="prototype")return e;if(l!=c){var I=d[w];T=r?r(I,w,d):i,T===i&&(T=Ke(I)?I:dn(t[l+1])?[]:{})}pr(d,w,T),d=d[w]}return e}var as=Zr?function(e,t){return Zr.set(e,t),e}:St,hc=zr?function(e,t){return zr(e,"toString",{configurable:!0,enumerable:!1,value:Wa(t),writable:!0})}:St;function dc(e){return oi(rr(e))}function Kt(e,t,n){var r=-1,l=e.length;t<0&&(t=-t>l?0:l+t),n=n>l?l:n,n<0&&(n+=l),l=t>n?0:n-t>>>0,t>>>=0;for(var u=S(l);++r<l;)u[r]=e[r+t];return u}function pc(e,t){var n;return An(e,function(r,l,u){return n=t(r,l,u),!n}),!!n}function ei(e,t,n){var r=0,l=e==null?r:e.length;if(typeof t=="number"&&t===t&&l<=Qe){for(;r<l;){var u=r+l>>>1,c=e[u];c!==null&&!$t(c)&&(n?c<=t:c<t)?r=u+1:l=u}return l}return fa(e,t,St,n)}function fa(e,t,n,r){var l=0,u=e==null?0:e.length;if(u===0)return 0;t=n(t);for(var c=t!==t,d=t===null,w=$t(t),T=t===i;l<u;){var I=Kr((l+u)/2),D=n(e[I]),F=D!==i,G=D===null,Z=D===D,ae=$t(D);if(c)var Y=r||Z;else T?Y=Z&&(r||F):d?Y=Z&&F&&(r||!G):w?Y=Z&&F&&!G&&(r||!ae):G||ae?Y=!1:Y=r?D<=t:D<t;Y?l=I+1:u=I}return pt(u,Ce)}function ls(e,t){for(var n=-1,r=e.length,l=0,u=[];++n<r;){var c=e[n],d=t?t(c):c;if(!n||!jt(d,w)){var w=d;u[l++]=c===0?0:c}}return u}function ss(e){return typeof e=="number"?e:$t(e)?$e:+e}function Dt(e){if(typeof e=="string")return e;if(te(e))return ze(e,Dt)+"";if($t(e))return Fl?Fl.call(e):"";var t=e+"";return t=="0"&&1/e==-Ie?"-0":t}function Ln(e,t,n){var r=-1,l=Rr,u=e.length,c=!0,d=[],w=d;if(n)c=!1,l=Fi;else if(u>=h){var T=t?null:Ac(e);if(T)return Mr(T);c=!1,l=ur,w=new Mn}else w=t?[]:d;e:for(;++r<u;){var I=e[r],D=t?t(I):I;if(I=n||I!==0?I:0,c&&D===D){for(var F=w.length;F--;)if(w[F]===D)continue e;t&&w.push(D),d.push(I)}else l(w,D,n)||(w!==d&&w.push(D),d.push(I))}return d}function ca(e,t){return t=Tn(t,e),e=Ms(e,t),e==null||delete e[rn(Zt(t))]}function us(e,t,n,r){return mr(e,t,n(Pn(e,t)),r)}function ti(e,t,n,r){for(var l=e.length,u=r?l:-1;(r?u--:++u<l)&&t(e[u],u,e););return n?Kt(e,r?0:u,r?u+1:l):Kt(e,r?u+1:0,r?l:u)}function os(e,t){var n=e;return n instanceof he&&(n=n.value()),Ui(t,function(r,l){return l.func.apply(l.thisArg,yn([r],l.args))},n)}function ha(e,t,n){var r=e.length;if(r<2)return r?Ln(e[0]):[];for(var l=-1,u=S(r);++l<r;)for(var c=e[l],d=-1;++d<r;)d!=l&&(u[l]=gr(u[l]||c,e[d],t,n));return Ln(ht(u,1),t,n)}function fs(e,t,n){for(var r=-1,l=e.length,u=t.length,c={};++r<l;){var d=r<u?t[r]:i;n(c,e[r],d)}return c}function da(e){return je(e)?e:[]}function pa(e){return typeof e=="function"?e:St}function Tn(e,t){return te(e)?e:Ea(e,t)?[e]:Fs(Se(e))}var gc=le;function In(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:Kt(e,t,n)}var cs=tf||function(e){return ct.clearTimeout(e)};function hs(e,t){if(t)return e.slice();var n=e.length,r=Rl?Rl(n):new e.constructor(n);return e.copy(r),r}function ga(e){var t=new e.constructor(e.byteLength);return new Nr(t).set(new Nr(e)),t}function _c(e,t){var n=t?ga(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function vc(e){var t=new e.constructor(e.source,Xa.exec(e));return t.lastIndex=e.lastIndex,t}function mc(e){return dr?Re(dr.call(e)):{}}function ds(e,t){var n=t?ga(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ps(e,t){if(e!==t){var n=e!==i,r=e===null,l=e===e,u=$t(e),c=t!==i,d=t===null,w=t===t,T=$t(t);if(!d&&!T&&!u&&e>t||u&&c&&w&&!d&&!T||r&&c&&w||!n&&w||!l)return 1;if(!r&&!u&&!T&&e<t||T&&n&&l&&!r&&!u||d&&n&&l||!c&&l||!w)return-1}return 0}function wc(e,t,n){for(var r=-1,l=e.criteria,u=t.criteria,c=l.length,d=n.length;++r<c;){var w=ps(l[r],u[r]);if(w){if(r>=d)return w;var T=n[r];return w*(T=="desc"?-1:1)}}return e.index-t.index}function gs(e,t,n,r){for(var l=-1,u=e.length,c=n.length,d=-1,w=t.length,T=lt(u-c,0),I=S(w+T),D=!r;++d<w;)I[d]=t[d];for(;++l<c;)(D||l<u)&&(I[n[l]]=e[l]);for(;T--;)I[d++]=e[l++];return I}function _s(e,t,n,r){for(var l=-1,u=e.length,c=-1,d=n.length,w=-1,T=t.length,I=lt(u-d,0),D=S(I+T),F=!r;++l<I;)D[l]=e[l];for(var G=l;++w<T;)D[G+w]=t[w];for(;++c<d;)(F||l<u)&&(D[G+n[c]]=e[l++]);return D}function xt(e,t){var n=-1,r=e.length;for(t||(t=S(r));++n<r;)t[n]=e[n];return t}function nn(e,t,n,r){var l=!n;n||(n={});for(var u=-1,c=t.length;++u<c;){var d=t[u],w=r?r(n[d],e[d],d,n,e):i;w===i&&(w=e[d]),l?fn(n,d,w):pr(n,d,w)}return n}function bc(e,t){return nn(e,ya(e),t)}function xc(e,t){return nn(e,Cs(e),t)}function ni(e,t){return function(n,r){var l=te(n)?Ao:Gf,u=t?t():{};return l(n,e,K(r,2),u)}}function jn(e){return le(function(t,n){var r=-1,l=n.length,u=l>1?n[l-1]:i,c=l>2?n[2]:i;for(u=e.length>3&&typeof u=="function"?(l--,u):i,c&&vt(n[0],n[1],c)&&(u=l<3?i:u,l=1),t=Re(t);++r<l;){var d=n[r];d&&e(t,d,r,u)}return t})}function vs(e,t){return function(n,r){if(n==null)return n;if(!yt(n))return e(n,r);for(var l=n.length,u=t?l:-1,c=Re(n);(t?u--:++u<l)&&r(c[u],u,c)!==!1;);return n}}function ms(e){return function(t,n,r){for(var l=-1,u=Re(t),c=r(t),d=c.length;d--;){var w=c[e?d:++l];if(n(u[w],w,u)===!1)break}return t}}function yc(e,t,n){var r=t&ne,l=wr(e);function u(){var c=this&&this!==ct&&this instanceof u?l:e;return c.apply(r?n:this,arguments)}return u}function ws(e){return function(t){t=Se(t);var n=Kn(t)?Qt(t):i,r=n?n[0]:t.charAt(0),l=n?In(n,1).join(""):t.slice(1);return r[e]()+l}}function er(e){return function(t){return Ui(vu(_u(t).replace(fo,"")),e,"")}}function wr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Vn(e.prototype),r=e.apply(n,t);return Ke(r)?r:n}}function Ec(e,t,n){var r=wr(e);function l(){for(var u=arguments.length,c=S(u),d=u,w=tr(l);d--;)c[d]=arguments[d];var T=u<3&&c[0]!==w&&c[u-1]!==w?[]:En(c,w);if(u-=T.length,u<n)return Ss(e,t,ri,l.placeholder,i,c,T,i,i,n-u);var I=this&&this!==ct&&this instanceof l?r:e;return It(I,this,c)}return l}function bs(e){return function(t,n,r){var l=Re(t);if(!yt(t)){var u=K(n,3);t=ft(t),n=function(d){return u(l[d],d,l)}}var c=e(t,n,r);return c>-1?l[u?t[c]:c]:i}}function xs(e){return hn(function(t){var n=t.length,r=n,l=zt.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if(typeof u!="function")throw new Gt(b);if(l&&!c&&si(u)=="wrapper")var c=new zt([],!0)}for(r=c?r:n;++r<n;){u=t[r];var d=si(u),w=d=="wrapper"?ba(u):i;w&&Sa(w[0])&&w[1]==(z|ge|me|se)&&!w[4].length&&w[9]==1?c=c[si(w[0])].apply(c,w[3]):c=u.length==1&&Sa(u)?c[d]():c.thru(u)}return function(){var T=arguments,I=T[0];if(c&&T.length==1&&te(I))return c.plant(I).value();for(var D=0,F=n?t[D].apply(this,T):I;++D<n;)F=t[D].call(this,F);return F}})}function ri(e,t,n,r,l,u,c,d,w,T){var I=t&z,D=t&ne,F=t&ee,G=t&(ge|ye),Z=t&Ze,ae=F?i:wr(e);function Y(){for(var fe=arguments.length,de=S(fe),Ot=fe;Ot--;)de[Ot]=arguments[Ot];if(G)var mt=tr(Y),Rt=ko(de,mt);if(r&&(de=gs(de,r,l,G)),u&&(de=_s(de,u,c,G)),fe-=Rt,G&&fe<T){var et=En(de,mt);return Ss(e,t,ri,Y.placeholder,n,de,et,d,w,T-fe)}var en=D?n:this,_n=F?en[e]:e;return fe=de.length,d?de=Gc(de,d):Z&&fe>1&&de.reverse(),I&&w<fe&&(de.length=w),this&&this!==ct&&this instanceof Y&&(_n=ae||wr(_n)),_n.apply(en,de)}return Y}function ys(e,t){return function(n,r){return Qf(n,e,t(r),{})}}function ii(e,t){return function(n,r){var l;if(n===i&&r===i)return t;if(n!==i&&(l=n),r!==i){if(l===i)return r;typeof n=="string"||typeof r=="string"?(n=Dt(n),r=Dt(r)):(n=ss(n),r=ss(r)),l=e(n,r)}return l}}function _a(e){return hn(function(t){return t=ze(t,Ct(K())),le(function(n){var r=this;return e(t,function(l){return It(l,r,n)})})})}function ai(e,t){t=t===i?" ":Dt(t);var n=t.length;if(n<2)return n?oa(t,e):t;var r=oa(t,qr(e/Zn(t)));return Kn(t)?In(Qt(r),0,e).join(""):r.slice(0,e)}function Sc(e,t,n,r){var l=t&ne,u=wr(e);function c(){for(var d=-1,w=arguments.length,T=-1,I=r.length,D=S(I+w),F=this&&this!==ct&&this instanceof c?u:e;++T<I;)D[T]=r[T];for(;w--;)D[T++]=arguments[++d];return It(F,l?n:this,D)}return c}function Es(e){return function(t,n,r){return r&&typeof r!="number"&&vt(t,n,r)&&(n=r=i),t=gn(t),n===i?(n=t,t=0):n=gn(n),r=r===i?t<n?1:-1:gn(r),oc(t,n,r,e)}}function li(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=Yt(t),n=Yt(n)),e(t,n)}}function Ss(e,t,n,r,l,u,c,d,w,T){var I=t&ge,D=I?c:i,F=I?i:c,G=I?u:i,Z=I?i:u;t|=I?me:N,t&=~(I?N:me),t&V||(t&=~(ne|ee));var ae=[e,t,l,G,D,Z,F,d,w,T],Y=n.apply(i,ae);return Sa(e)&&Ws(Y,ae),Y.placeholder=r,Ps(Y,e,t)}function va(e){var t=at[e];return function(n,r){if(n=Yt(n),r=r==null?0:pt(re(r),292),r&&Pl(n)){var l=(Se(n)+"e").split("e"),u=t(l[0]+"e"+(+l[1]+r));return l=(Se(u)+"e").split("e"),+(l[0]+"e"+(+l[1]-r))}return t(n)}}var Ac=Jn&&1/Mr(new Jn([,-0]))[1]==Ie?function(e){return new Jn(e)}:Fa;function As(e){return function(t){var n=gt(t);return n==Ge?Zi(t):n==Xe?No(t):Ro(t,e(t))}}function cn(e,t,n,r,l,u,c,d){var w=t&ee;if(!w&&typeof e!="function")throw new Gt(b);var T=r?r.length:0;if(T||(t&=~(me|N),r=l=i),c=c===i?c:lt(re(c),0),d=d===i?d:re(d),T-=l?l.length:0,t&N){var I=r,D=l;r=l=i}var F=w?i:ba(e),G=[e,t,n,r,l,I,D,u,c,d];if(F&&Uc(G,F),e=G[0],t=G[1],n=G[2],r=G[3],l=G[4],d=G[9]=G[9]===i?w?0:e.length:lt(G[9]-T,0),!d&&t&(ge|ye)&&(t&=~(ge|ye)),!t||t==ne)var Z=yc(e,t,n);else t==ge||t==ye?Z=Ec(e,t,d):(t==me||t==(ne|me))&&!l.length?Z=Sc(e,t,n,r):Z=ri.apply(i,G);var ae=F?as:Ws;return Ps(ae(Z,G),e,t)}function Ls(e,t,n,r){return e===i||jt(e,Xn[n])&&!Le.call(r,n)?t:e}function Ts(e,t,n,r,l,u){return Ke(e)&&Ke(t)&&(u.set(t,e),jr(e,t,i,Ts,u),u.delete(t)),e}function Lc(e){return yr(e)?i:e}function Is(e,t,n,r,l,u){var c=n&W,d=e.length,w=t.length;if(d!=w&&!(c&&w>d))return!1;var T=u.get(e),I=u.get(t);if(T&&I)return T==t&&I==e;var D=-1,F=!0,G=n&q?new Mn:i;for(u.set(e,t),u.set(t,e);++D<d;){var Z=e[D],ae=t[D];if(r)var Y=c?r(ae,Z,D,t,e,u):r(Z,ae,D,e,t,u);if(Y!==i){if(Y)continue;F=!1;break}if(G){if(!Ni(t,function(fe,de){if(!ur(G,de)&&(Z===fe||l(Z,fe,n,r,u)))return G.push(de)})){F=!1;break}}else if(!(Z===ae||l(Z,ae,n,r,u))){F=!1;break}}return u.delete(e),u.delete(t),F}function Tc(e,t,n,r,l,u,c){switch(n){case X:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ft:return!(e.byteLength!=t.byteLength||!u(new Nr(e),new Nr(t)));case Oe:case it:case ot:return jt(+e,+t);case ut:return e.name==t.name&&e.message==t.message;case tt:case wt:return e==t+"";case Ge:var d=Zi;case Xe:var w=r&W;if(d||(d=Mr),e.size!=t.size&&!w)return!1;var T=c.get(e);if(T)return T==t;r|=q,c.set(e,t);var I=Is(d(e),d(t),r,l,u,c);return c.delete(e),I;case Xt:if(dr)return dr.call(e)==dr.call(t)}return!1}function Ic(e,t,n,r,l,u){var c=n&W,d=ma(e),w=d.length,T=ma(t),I=T.length;if(w!=I&&!c)return!1;for(var D=w;D--;){var F=d[D];if(!(c?F in t:Le.call(t,F)))return!1}var G=u.get(e),Z=u.get(t);if(G&&Z)return G==t&&Z==e;var ae=!0;u.set(e,t),u.set(t,e);for(var Y=c;++D<w;){F=d[D];var fe=e[F],de=t[F];if(r)var Ot=c?r(de,fe,F,t,e,u):r(fe,de,F,e,t,u);if(!(Ot===i?fe===de||l(fe,de,n,r,u):Ot)){ae=!1;break}Y||(Y=F=="constructor")}if(ae&&!Y){var mt=e.constructor,Rt=t.constructor;mt!=Rt&&"constructor"in e&&"constructor"in t&&!(typeof mt=="function"&&mt instanceof mt&&typeof Rt=="function"&&Rt instanceof Rt)&&(ae=!1)}return u.delete(e),u.delete(t),ae}function hn(e){return La(ks(e,i,Gs),e+"")}function ma(e){return Yl(e,ft,ya)}function wa(e){return Yl(e,Et,Cs)}var ba=Zr?function(e){return Zr.get(e)}:Fa;function si(e){for(var t=e.name+"",n=Qn[t],r=Le.call(Qn,t)?n.length:0;r--;){var l=n[r],u=l.func;if(u==null||u==e)return l.name}return t}function tr(e){var t=Le.call(s,"placeholder")?s:e;return t.placeholder}function K(){var e=s.iteratee||Pa;return e=e===Pa?Ql:e,arguments.length?e(arguments[0],arguments[1]):e}function ui(e,t){var n=e.__data__;return Wc(t)?n[typeof t=="string"?"string":"hash"]:n.map}function xa(e){for(var t=ft(e),n=t.length;n--;){var r=t[n],l=e[r];t[n]=[r,l,Os(l)]}return t}function Bn(e,t){var n=Bo(e,t);return Jl(n)?n:i}function Cc(e){var t=Le.call(e,Rn),n=e[Rn];try{e[Rn]=i;var r=!0}catch{}var l=Fr.call(e);return r&&(t?e[Rn]=n:delete e[Rn]),l}var ya=Xi?function(e){return e==null?[]:(e=Re(e),xn(Xi(e),function(t){return Ml.call(e,t)}))}:Ua,Cs=Xi?function(e){for(var t=[];e;)yn(t,ya(e)),e=Hr(e);return t}:Ua,gt=_t;(Ji&&gt(new Ji(new ArrayBuffer(1)))!=X||fr&&gt(new fr)!=Ge||Qi&&gt(Qi.resolve())!=Ve||Jn&&gt(new Jn)!=Xe||cr&&gt(new cr)!=bt)&&(gt=function(e){var t=_t(e),n=t==be?e.constructor:i,r=n?Fn(n):"";if(r)switch(r){case cf:return X;case hf:return Ge;case df:return Ve;case pf:return Xe;case gf:return bt}return t});function Dc(e,t,n){for(var r=-1,l=n.length;++r<l;){var u=n[r],c=u.size;switch(u.type){case"drop":e+=c;break;case"dropRight":t-=c;break;case"take":t=pt(t,e+c);break;case"takeRight":e=lt(e,t-c);break}}return{start:e,end:t}}function $c(e){var t=e.match(Mu);return t?t[1].split(Wu):[]}function Ds(e,t,n){t=Tn(t,e);for(var r=-1,l=t.length,u=!1;++r<l;){var c=rn(t[r]);if(!(u=e!=null&&n(e,c)))break;e=e[c]}return u||++r!=l?u:(l=e==null?0:e.length,!!l&&gi(l)&&dn(c,l)&&(te(e)||Un(e)))}function Oc(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function $s(e){return typeof e.constructor=="function"&&!br(e)?Vn(Hr(e)):{}}function Rc(e,t,n){var r=e.constructor;switch(t){case Ft:return ga(e);case Oe:case it:return new r(+e);case X:return _c(e,n);case qe:case an:case Lt:case Tt:case dt:case Ut:case ln:case sn:case Nn:return ds(e,n);case Ge:return new r;case ot:case wt:return new r(e);case tt:return vc(e);case Xe:return new r;case Xt:return mc(e)}}function kc(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ku,`{
/* [wrapped with `+t+`] */
`)}function Mc(e){return te(e)||Un(e)||!!(Wl&&e&&e[Wl])}function dn(e,t){var n=typeof e;return t=t==null?Ae:t,!!t&&(n=="number"||n!="symbol"&&qu.test(e))&&e>-1&&e%1==0&&e<t}function vt(e,t,n){if(!Ke(n))return!1;var r=typeof t;return(r=="number"?yt(n)&&dn(t,n.length):r=="string"&&t in n)?jt(n[t],e):!1}function Ea(e,t){if(te(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||$t(e)?!0:Ir.test(e)||!bn.test(e)||t!=null&&e in Re(t)}function Wc(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Sa(e){var t=si(e),n=s[t];if(typeof n!="function"||!(t in he.prototype))return!1;if(e===n)return!0;var r=ba(n);return!!r&&e===r[0]}function Pc(e){return!!Ol&&Ol in e}var Bc=Pr?pn:Na;function br(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Xn;return e===n}function Os(e){return e===e&&!Ke(e)}function Rs(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==i||e in Re(n))}}function Fc(e){var t=di(e,function(r){return n.size===y&&n.clear(),r}),n=t.cache;return t}function Uc(e,t){var n=e[1],r=t[1],l=n|r,u=l<(ne|ee|z),c=r==z&&n==ge||r==z&&n==se&&e[7].length<=t[8]||r==(z|se)&&t[7].length<=t[8]&&n==ge;if(!(u||c))return e;r&ne&&(e[2]=t[2],l|=n&ne?0:V);var d=t[3];if(d){var w=e[3];e[3]=w?gs(w,d,t[4]):d,e[4]=w?En(e[3],E):t[4]}return d=t[5],d&&(w=e[5],e[5]=w?_s(w,d,t[6]):d,e[6]=w?En(e[5],E):t[6]),d=t[7],d&&(e[7]=d),r&z&&(e[8]=e[8]==null?t[8]:pt(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}function Nc(e){var t=[];if(e!=null)for(var n in Re(e))t.push(n);return t}function Hc(e){return Fr.call(e)}function ks(e,t,n){return t=lt(t===i?e.length-1:t,0),function(){for(var r=arguments,l=-1,u=lt(r.length-t,0),c=S(u);++l<u;)c[l]=r[t+l];l=-1;for(var d=S(t+1);++l<t;)d[l]=r[l];return d[t]=n(c),It(e,this,d)}}function Ms(e,t){return t.length<2?e:Pn(e,Kt(t,0,-1))}function Gc(e,t){for(var n=e.length,r=pt(t.length,n),l=xt(e);r--;){var u=t[r];e[r]=dn(u,n)?l[u]:i}return e}function Aa(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Ws=Bs(as),xr=rf||function(e,t){return ct.setTimeout(e,t)},La=Bs(hc);function Ps(e,t,n){var r=t+"";return La(e,kc(r,zc($c(r),n)))}function Bs(e){var t=0,n=0;return function(){var r=uf(),l=Te-(r-n);if(n=r,l>0){if(++t>=ke)return arguments[0]}else t=0;return e.apply(i,arguments)}}function oi(e,t){var n=-1,r=e.length,l=r-1;for(t=t===i?r:t;++n<t;){var u=ua(n,l),c=e[u];e[u]=e[n],e[n]=c}return e.length=t,e}var Fs=Fc(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Cr,function(n,r,l,u){t.push(l?u.replace(Fu,"$1"):r||n)}),t});function rn(e){if(typeof e=="string"||$t(e))return e;var t=e+"";return t=="0"&&1/e==-Ie?"-0":t}function Fn(e){if(e!=null){try{return Br.call(e)}catch{}try{return e+""}catch{}}return""}function zc(e,t){return Ht(oe,function(n){var r="_."+n[0];t&n[1]&&!Rr(e,r)&&e.push(r)}),e.sort()}function Us(e){if(e instanceof he)return e.clone();var t=new zt(e.__wrapped__,e.__chain__);return t.__actions__=xt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function qc(e,t,n){(n?vt(e,t,n):t===i)?t=1:t=lt(re(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var l=0,u=0,c=S(qr(r/t));l<r;)c[u++]=Kt(e,l,l+=t);return c}function Kc(e){for(var t=-1,n=e==null?0:e.length,r=0,l=[];++t<n;){var u=e[t];u&&(l[r++]=u)}return l}function Zc(){var e=arguments.length;if(!e)return[];for(var t=S(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return yn(te(n)?xt(n):[n],ht(t,1))}var Yc=le(function(e,t){return je(e)?gr(e,ht(t,1,je,!0)):[]}),Xc=le(function(e,t){var n=Zt(t);return je(n)&&(n=i),je(e)?gr(e,ht(t,1,je,!0),K(n,2)):[]}),Jc=le(function(e,t){var n=Zt(t);return je(n)&&(n=i),je(e)?gr(e,ht(t,1,je,!0),i,n):[]});function Qc(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:re(t),Kt(e,t<0?0:t,r)):[]}function Vc(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:re(t),t=r-t,Kt(e,0,t<0?0:t)):[]}function jc(e,t){return e&&e.length?ti(e,K(t,3),!0,!0):[]}function eh(e,t){return e&&e.length?ti(e,K(t,3),!0):[]}function th(e,t,n,r){var l=e==null?0:e.length;return l?(n&&typeof n!="number"&&vt(e,t,n)&&(n=0,r=l),Zf(e,t,n,r)):[]}function Ns(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var l=n==null?0:re(n);return l<0&&(l=lt(r+l,0)),kr(e,K(t,3),l)}function Hs(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var l=r-1;return n!==i&&(l=re(n),l=n<0?lt(r+l,0):pt(l,r-1)),kr(e,K(t,3),l,!0)}function Gs(e){var t=e==null?0:e.length;return t?ht(e,1):[]}function nh(e){var t=e==null?0:e.length;return t?ht(e,Ie):[]}function rh(e,t){var n=e==null?0:e.length;return n?(t=t===i?1:re(t),ht(e,t)):[]}function ih(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var l=e[t];r[l[0]]=l[1]}return r}function zs(e){return e&&e.length?e[0]:i}function ah(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var l=n==null?0:re(n);return l<0&&(l=lt(r+l,0)),qn(e,t,l)}function lh(e){var t=e==null?0:e.length;return t?Kt(e,0,-1):[]}var sh=le(function(e){var t=ze(e,da);return t.length&&t[0]===e[0]?ra(t):[]}),uh=le(function(e){var t=Zt(e),n=ze(e,da);return t===Zt(n)?t=i:n.pop(),n.length&&n[0]===e[0]?ra(n,K(t,2)):[]}),oh=le(function(e){var t=Zt(e),n=ze(e,da);return t=typeof t=="function"?t:i,t&&n.pop(),n.length&&n[0]===e[0]?ra(n,i,t):[]});function fh(e,t){return e==null?"":lf.call(e,t)}function Zt(e){var t=e==null?0:e.length;return t?e[t-1]:i}function ch(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var l=r;return n!==i&&(l=re(n),l=l<0?lt(r+l,0):pt(l,r-1)),t===t?Go(e,t,l):kr(e,Sl,l,!0)}function hh(e,t){return e&&e.length?ts(e,re(t)):i}var dh=le(qs);function qs(e,t){return e&&e.length&&t&&t.length?sa(e,t):e}function ph(e,t,n){return e&&e.length&&t&&t.length?sa(e,t,K(n,2)):e}function gh(e,t,n){return e&&e.length&&t&&t.length?sa(e,t,i,n):e}var _h=hn(function(e,t){var n=e==null?0:e.length,r=ji(e,t);return is(e,ze(t,function(l){return dn(l,n)?+l:l}).sort(ps)),r});function vh(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,l=[],u=e.length;for(t=K(t,3);++r<u;){var c=e[r];t(c,r,e)&&(n.push(c),l.push(r))}return is(e,l),n}function Ta(e){return e==null?e:ff.call(e)}function mh(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&vt(e,t,n)?(t=0,n=r):(t=t==null?0:re(t),n=n===i?r:re(n)),Kt(e,t,n)):[]}function wh(e,t){return ei(e,t)}function bh(e,t,n){return fa(e,t,K(n,2))}function xh(e,t){var n=e==null?0:e.length;if(n){var r=ei(e,t);if(r<n&&jt(e[r],t))return r}return-1}function yh(e,t){return ei(e,t,!0)}function Eh(e,t,n){return fa(e,t,K(n,2),!0)}function Sh(e,t){var n=e==null?0:e.length;if(n){var r=ei(e,t,!0)-1;if(jt(e[r],t))return r}return-1}function Ah(e){return e&&e.length?ls(e):[]}function Lh(e,t){return e&&e.length?ls(e,K(t,2)):[]}function Th(e){var t=e==null?0:e.length;return t?Kt(e,1,t):[]}function Ih(e,t,n){return e&&e.length?(t=n||t===i?1:re(t),Kt(e,0,t<0?0:t)):[]}function Ch(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:re(t),t=r-t,Kt(e,t<0?0:t,r)):[]}function Dh(e,t){return e&&e.length?ti(e,K(t,3),!1,!0):[]}function $h(e,t){return e&&e.length?ti(e,K(t,3)):[]}var Oh=le(function(e){return Ln(ht(e,1,je,!0))}),Rh=le(function(e){var t=Zt(e);return je(t)&&(t=i),Ln(ht(e,1,je,!0),K(t,2))}),kh=le(function(e){var t=Zt(e);return t=typeof t=="function"?t:i,Ln(ht(e,1,je,!0),i,t)});function Mh(e){return e&&e.length?Ln(e):[]}function Wh(e,t){return e&&e.length?Ln(e,K(t,2)):[]}function Ph(e,t){return t=typeof t=="function"?t:i,e&&e.length?Ln(e,i,t):[]}function Ia(e){if(!(e&&e.length))return[];var t=0;return e=xn(e,function(n){if(je(n))return t=lt(n.length,t),!0}),qi(t,function(n){return ze(e,Hi(n))})}function Ks(e,t){if(!(e&&e.length))return[];var n=Ia(e);return t==null?n:ze(n,function(r){return It(t,i,r)})}var Bh=le(function(e,t){return je(e)?gr(e,t):[]}),Fh=le(function(e){return ha(xn(e,je))}),Uh=le(function(e){var t=Zt(e);return je(t)&&(t=i),ha(xn(e,je),K(t,2))}),Nh=le(function(e){var t=Zt(e);return t=typeof t=="function"?t:i,ha(xn(e,je),i,t)}),Hh=le(Ia);function Gh(e,t){return fs(e||[],t||[],pr)}function zh(e,t){return fs(e||[],t||[],mr)}var qh=le(function(e){var t=e.length,n=t>1?e[t-1]:i;return n=typeof n=="function"?(e.pop(),n):i,Ks(e,n)});function Zs(e){var t=s(e);return t.__chain__=!0,t}function Kh(e,t){return t(e),e}function fi(e,t){return t(e)}var Zh=hn(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,l=function(u){return ji(u,e)};return t>1||this.__actions__.length||!(r instanceof he)||!dn(n)?this.thru(l):(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:fi,args:[l],thisArg:i}),new zt(r,this.__chain__).thru(function(u){return t&&!u.length&&u.push(i),u}))});function Yh(){return Zs(this)}function Xh(){return new zt(this.value(),this.__chain__)}function Jh(){this.__values__===i&&(this.__values__=su(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function Qh(){return this}function Vh(e){for(var t,n=this;n instanceof Xr;){var r=Us(n);r.__index__=0,r.__values__=i,t?l.__wrapped__=r:t=r;var l=r;n=n.__wrapped__}return l.__wrapped__=e,t}function jh(){var e=this.__wrapped__;if(e instanceof he){var t=e;return this.__actions__.length&&(t=new he(this)),t=t.reverse(),t.__actions__.push({func:fi,args:[Ta],thisArg:i}),new zt(t,this.__chain__)}return this.thru(Ta)}function ed(){return os(this.__wrapped__,this.__actions__)}var td=ni(function(e,t,n){Le.call(e,n)?++e[n]:fn(e,n,1)});function nd(e,t,n){var r=te(e)?yl:Kf;return n&&vt(e,t,n)&&(t=i),r(e,K(t,3))}function rd(e,t){var n=te(e)?xn:Kl;return n(e,K(t,3))}var id=bs(Ns),ad=bs(Hs);function ld(e,t){return ht(ci(e,t),1)}function sd(e,t){return ht(ci(e,t),Ie)}function ud(e,t,n){return n=n===i?1:re(n),ht(ci(e,t),n)}function Ys(e,t){var n=te(e)?Ht:An;return n(e,K(t,3))}function Xs(e,t){var n=te(e)?Lo:ql;return n(e,K(t,3))}var od=ni(function(e,t,n){Le.call(e,n)?e[n].push(t):fn(e,n,[t])});function fd(e,t,n,r){e=yt(e)?e:rr(e),n=n&&!r?re(n):0;var l=e.length;return n<0&&(n=lt(l+n,0)),_i(e)?n<=l&&e.indexOf(t,n)>-1:!!l&&qn(e,t,n)>-1}var cd=le(function(e,t,n){var r=-1,l=typeof t=="function",u=yt(e)?S(e.length):[];return An(e,function(c){u[++r]=l?It(t,c,n):_r(c,t,n)}),u}),hd=ni(function(e,t,n){fn(e,n,t)});function ci(e,t){var n=te(e)?ze:Vl;return n(e,K(t,3))}function dd(e,t,n,r){return e==null?[]:(te(t)||(t=t==null?[]:[t]),n=r?i:n,te(n)||(n=n==null?[]:[n]),ns(e,t,n))}var pd=ni(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function gd(e,t,n){var r=te(e)?Ui:Ll,l=arguments.length<3;return r(e,K(t,4),n,l,An)}function _d(e,t,n){var r=te(e)?To:Ll,l=arguments.length<3;return r(e,K(t,4),n,l,ql)}function vd(e,t){var n=te(e)?xn:Kl;return n(e,pi(K(t,3)))}function md(e){var t=te(e)?Nl:fc;return t(e)}function wd(e,t,n){(n?vt(e,t,n):t===i)?t=1:t=re(t);var r=te(e)?Nf:cc;return r(e,t)}function bd(e){var t=te(e)?Hf:dc;return t(e)}function xd(e){if(e==null)return 0;if(yt(e))return _i(e)?Zn(e):e.length;var t=gt(e);return t==Ge||t==Xe?e.size:aa(e).length}function yd(e,t,n){var r=te(e)?Ni:pc;return n&&vt(e,t,n)&&(t=i),r(e,K(t,3))}var Ed=le(function(e,t){if(e==null)return[];var n=t.length;return n>1&&vt(e,t[0],t[1])?t=[]:n>2&&vt(t[0],t[1],t[2])&&(t=[t[0]]),ns(e,ht(t,1),[])}),hi=nf||function(){return ct.Date.now()};function Sd(e,t){if(typeof t!="function")throw new Gt(b);return e=re(e),function(){if(--e<1)return t.apply(this,arguments)}}function Js(e,t,n){return t=n?i:t,t=e&&t==null?e.length:t,cn(e,z,i,i,i,i,t)}function Qs(e,t){var n;if(typeof t!="function")throw new Gt(b);return e=re(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Ca=le(function(e,t,n){var r=ne;if(n.length){var l=En(n,tr(Ca));r|=me}return cn(e,r,t,n,l)}),Vs=le(function(e,t,n){var r=ne|ee;if(n.length){var l=En(n,tr(Vs));r|=me}return cn(t,r,e,n,l)});function js(e,t,n){t=n?i:t;var r=cn(e,ge,i,i,i,i,i,t);return r.placeholder=js.placeholder,r}function eu(e,t,n){t=n?i:t;var r=cn(e,ye,i,i,i,i,i,t);return r.placeholder=eu.placeholder,r}function tu(e,t,n){var r,l,u,c,d,w,T=0,I=!1,D=!1,F=!0;if(typeof e!="function")throw new Gt(b);t=Yt(t)||0,Ke(n)&&(I=!!n.leading,D="maxWait"in n,u=D?lt(Yt(n.maxWait)||0,t):u,F="trailing"in n?!!n.trailing:F);function G(et){var en=r,_n=l;return r=l=i,T=et,c=e.apply(_n,en),c}function Z(et){return T=et,d=xr(fe,t),I?G(et):c}function ae(et){var en=et-w,_n=et-T,bu=t-en;return D?pt(bu,u-_n):bu}function Y(et){var en=et-w,_n=et-T;return w===i||en>=t||en<0||D&&_n>=u}function fe(){var et=hi();if(Y(et))return de(et);d=xr(fe,ae(et))}function de(et){return d=i,F&&r?G(et):(r=l=i,c)}function Ot(){d!==i&&cs(d),T=0,r=w=l=d=i}function mt(){return d===i?c:de(hi())}function Rt(){var et=hi(),en=Y(et);if(r=arguments,l=this,w=et,en){if(d===i)return Z(w);if(D)return cs(d),d=xr(fe,t),G(w)}return d===i&&(d=xr(fe,t)),c}return Rt.cancel=Ot,Rt.flush=mt,Rt}var Ad=le(function(e,t){return zl(e,1,t)}),Ld=le(function(e,t,n){return zl(e,Yt(t)||0,n)});function Td(e){return cn(e,Ze)}function di(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Gt(b);var n=function(){var r=arguments,l=t?t.apply(this,r):r[0],u=n.cache;if(u.has(l))return u.get(l);var c=e.apply(this,r);return n.cache=u.set(l,c)||u,c};return n.cache=new(di.Cache||on),n}di.Cache=on;function pi(e){if(typeof e!="function")throw new Gt(b);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Id(e){return Qs(2,e)}var Cd=gc(function(e,t){t=t.length==1&&te(t[0])?ze(t[0],Ct(K())):ze(ht(t,1),Ct(K()));var n=t.length;return le(function(r){for(var l=-1,u=pt(r.length,n);++l<u;)r[l]=t[l].call(this,r[l]);return It(e,this,r)})}),Da=le(function(e,t){var n=En(t,tr(Da));return cn(e,me,i,t,n)}),nu=le(function(e,t){var n=En(t,tr(nu));return cn(e,N,i,t,n)}),Dd=hn(function(e,t){return cn(e,se,i,i,i,t)});function $d(e,t){if(typeof e!="function")throw new Gt(b);return t=t===i?t:re(t),le(e,t)}function Od(e,t){if(typeof e!="function")throw new Gt(b);return t=t==null?0:lt(re(t),0),le(function(n){var r=n[t],l=In(n,0,t);return r&&yn(l,r),It(e,this,l)})}function Rd(e,t,n){var r=!0,l=!0;if(typeof e!="function")throw new Gt(b);return Ke(n)&&(r="leading"in n?!!n.leading:r,l="trailing"in n?!!n.trailing:l),tu(e,t,{leading:r,maxWait:t,trailing:l})}function kd(e){return Js(e,1)}function Md(e,t){return Da(pa(t),e)}function Wd(){if(!arguments.length)return[];var e=arguments[0];return te(e)?e:[e]}function Pd(e){return qt(e,A)}function Bd(e,t){return t=typeof t=="function"?t:i,qt(e,A,t)}function Fd(e){return qt(e,C|A)}function Ud(e,t){return t=typeof t=="function"?t:i,qt(e,C|A,t)}function Nd(e,t){return t==null||Gl(e,t,ft(t))}function jt(e,t){return e===t||e!==e&&t!==t}var Hd=li(na),Gd=li(function(e,t){return e>=t}),Un=Xl(function(){return arguments}())?Xl:function(e){return Je(e)&&Le.call(e,"callee")&&!Ml.call(e,"callee")},te=S.isArray,zd=_l?Ct(_l):Vf;function yt(e){return e!=null&&gi(e.length)&&!pn(e)}function je(e){return Je(e)&&yt(e)}function qd(e){return e===!0||e===!1||Je(e)&&_t(e)==Oe}var Cn=af||Na,Kd=vl?Ct(vl):jf;function Zd(e){return Je(e)&&e.nodeType===1&&!yr(e)}function Yd(e){if(e==null)return!0;if(yt(e)&&(te(e)||typeof e=="string"||typeof e.splice=="function"||Cn(e)||nr(e)||Un(e)))return!e.length;var t=gt(e);if(t==Ge||t==Xe)return!e.size;if(br(e))return!aa(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0}function Xd(e,t){return vr(e,t)}function Jd(e,t,n){n=typeof n=="function"?n:i;var r=n?n(e,t):i;return r===i?vr(e,t,i,n):!!r}function $a(e){if(!Je(e))return!1;var t=_t(e);return t==ut||t==De||typeof e.message=="string"&&typeof e.name=="string"&&!yr(e)}function Qd(e){return typeof e=="number"&&Pl(e)}function pn(e){if(!Ke(e))return!1;var t=_t(e);return t==we||t==At||t==rt||t==vn}function ru(e){return typeof e=="number"&&e==re(e)}function gi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ae}function Ke(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Je(e){return e!=null&&typeof e=="object"}var iu=ml?Ct(ml):tc;function Vd(e,t){return e===t||ia(e,t,xa(t))}function jd(e,t,n){return n=typeof n=="function"?n:i,ia(e,t,xa(t),n)}function ep(e){return au(e)&&e!=+e}function tp(e){if(Bc(e))throw new j(g);return Jl(e)}function np(e){return e===null}function rp(e){return e==null}function au(e){return typeof e=="number"||Je(e)&&_t(e)==ot}function yr(e){if(!Je(e)||_t(e)!=be)return!1;var t=Hr(e);if(t===null)return!0;var n=Le.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Br.call(n)==Vo}var Oa=wl?Ct(wl):nc;function ip(e){return ru(e)&&e>=-Ae&&e<=Ae}var lu=bl?Ct(bl):rc;function _i(e){return typeof e=="string"||!te(e)&&Je(e)&&_t(e)==wt}function $t(e){return typeof e=="symbol"||Je(e)&&_t(e)==Xt}var nr=xl?Ct(xl):ic;function ap(e){return e===i}function lp(e){return Je(e)&&gt(e)==bt}function sp(e){return Je(e)&&_t(e)==Jt}var up=li(la),op=li(function(e,t){return e<=t});function su(e){if(!e)return[];if(yt(e))return _i(e)?Qt(e):xt(e);if(or&&e[or])return Uo(e[or]());var t=gt(e),n=t==Ge?Zi:t==Xe?Mr:rr;return n(e)}function gn(e){if(!e)return e===0?e:0;if(e=Yt(e),e===Ie||e===-Ie){var t=e<0?-1:1;return t*ue}return e===e?e:0}function re(e){var t=gn(e),n=t%1;return t===t?n?t-n:t:0}function uu(e){return e?Wn(re(e),0,_e):0}function Yt(e){if(typeof e=="number")return e;if($t(e))return $e;if(Ke(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ke(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Tl(e);var n=Hu.test(e);return n||zu.test(e)?Eo(e.slice(2),n?2:8):Nu.test(e)?$e:+e}function ou(e){return nn(e,Et(e))}function fp(e){return e?Wn(re(e),-Ae,Ae):e===0?e:0}function Se(e){return e==null?"":Dt(e)}var cp=jn(function(e,t){if(br(t)||yt(t)){nn(t,ft(t),e);return}for(var n in t)Le.call(t,n)&&pr(e,n,t[n])}),fu=jn(function(e,t){nn(t,Et(t),e)}),vi=jn(function(e,t,n,r){nn(t,Et(t),e,r)}),hp=jn(function(e,t,n,r){nn(t,ft(t),e,r)}),dp=hn(ji);function pp(e,t){var n=Vn(e);return t==null?n:Hl(n,t)}var gp=le(function(e,t){e=Re(e);var n=-1,r=t.length,l=r>2?t[2]:i;for(l&&vt(t[0],t[1],l)&&(r=1);++n<r;)for(var u=t[n],c=Et(u),d=-1,w=c.length;++d<w;){var T=c[d],I=e[T];(I===i||jt(I,Xn[T])&&!Le.call(e,T))&&(e[T]=u[T])}return e}),_p=le(function(e){return e.push(i,Ts),It(cu,i,e)});function vp(e,t){return El(e,K(t,3),tn)}function mp(e,t){return El(e,K(t,3),ta)}function wp(e,t){return e==null?e:ea(e,K(t,3),Et)}function bp(e,t){return e==null?e:Zl(e,K(t,3),Et)}function xp(e,t){return e&&tn(e,K(t,3))}function yp(e,t){return e&&ta(e,K(t,3))}function Ep(e){return e==null?[]:Vr(e,ft(e))}function Sp(e){return e==null?[]:Vr(e,Et(e))}function Ra(e,t,n){var r=e==null?i:Pn(e,t);return r===i?n:r}function Ap(e,t){return e!=null&&Ds(e,t,Yf)}function ka(e,t){return e!=null&&Ds(e,t,Xf)}var Lp=ys(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Fr.call(t)),e[t]=n},Wa(St)),Tp=ys(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Fr.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]},K),Ip=le(_r);function ft(e){return yt(e)?Ul(e):aa(e)}function Et(e){return yt(e)?Ul(e,!0):ac(e)}function Cp(e,t){var n={};return t=K(t,3),tn(e,function(r,l,u){fn(n,t(r,l,u),r)}),n}function Dp(e,t){var n={};return t=K(t,3),tn(e,function(r,l,u){fn(n,l,t(r,l,u))}),n}var $p=jn(function(e,t,n){jr(e,t,n)}),cu=jn(function(e,t,n,r){jr(e,t,n,r)}),Op=hn(function(e,t){var n={};if(e==null)return n;var r=!1;t=ze(t,function(u){return u=Tn(u,e),r||(r=u.length>1),u}),nn(e,wa(e),n),r&&(n=qt(n,C|U|A,Lc));for(var l=t.length;l--;)ca(n,t[l]);return n});function Rp(e,t){return hu(e,pi(K(t)))}var kp=hn(function(e,t){return e==null?{}:sc(e,t)});function hu(e,t){if(e==null)return{};var n=ze(wa(e),function(r){return[r]});return t=K(t),rs(e,n,function(r,l){return t(r,l[0])})}function Mp(e,t,n){t=Tn(t,e);var r=-1,l=t.length;for(l||(l=1,e=i);++r<l;){var u=e==null?i:e[rn(t[r])];u===i&&(r=l,u=n),e=pn(u)?u.call(e):u}return e}function Wp(e,t,n){return e==null?e:mr(e,t,n)}function Pp(e,t,n,r){return r=typeof r=="function"?r:i,e==null?e:mr(e,t,n,r)}var du=As(ft),pu=As(Et);function Bp(e,t,n){var r=te(e),l=r||Cn(e)||nr(e);if(t=K(t,4),n==null){var u=e&&e.constructor;l?n=r?new u:[]:Ke(e)?n=pn(u)?Vn(Hr(e)):{}:n={}}return(l?Ht:tn)(e,function(c,d,w){return t(n,c,d,w)}),n}function Fp(e,t){return e==null?!0:ca(e,t)}function Up(e,t,n){return e==null?e:us(e,t,pa(n))}function Np(e,t,n,r){return r=typeof r=="function"?r:i,e==null?e:us(e,t,pa(n),r)}function rr(e){return e==null?[]:Ki(e,ft(e))}function Hp(e){return e==null?[]:Ki(e,Et(e))}function Gp(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=Yt(n),n=n===n?n:0),t!==i&&(t=Yt(t),t=t===t?t:0),Wn(Yt(e),t,n)}function zp(e,t,n){return t=gn(t),n===i?(n=t,t=0):n=gn(n),e=Yt(e),Jf(e,t,n)}function qp(e,t,n){if(n&&typeof n!="boolean"&&vt(e,t,n)&&(t=n=i),n===i&&(typeof t=="boolean"?(n=t,t=i):typeof e=="boolean"&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=gn(e),t===i?(t=e,e=0):t=gn(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var l=Bl();return pt(e+l*(t-e+yo("1e-"+((l+"").length-1))),t)}return ua(e,t)}var Kp=er(function(e,t,n){return t=t.toLowerCase(),e+(n?gu(t):t)});function gu(e){return Ma(Se(e).toLowerCase())}function _u(e){return e=Se(e),e&&e.replace(Ku,Mo).replace(co,"")}function Zp(e,t,n){e=Se(e),t=Dt(t);var r=e.length;n=n===i?r:Wn(re(n),0,r);var l=n;return n-=t.length,n>=0&&e.slice(n,l)==t}function Yp(e){return e=Se(e),e&&wn.test(e)?e.replace(lr,Wo):e}function Xp(e){return e=Se(e),e&&Ou.test(e)?e.replace(Di,"\\$&"):e}var Jp=er(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Qp=er(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Vp=ws("toLowerCase");function jp(e,t,n){e=Se(e),t=re(t);var r=t?Zn(e):0;if(!t||r>=t)return e;var l=(t-r)/2;return ai(Kr(l),n)+e+ai(qr(l),n)}function eg(e,t,n){e=Se(e),t=re(t);var r=t?Zn(e):0;return t&&r<t?e+ai(t-r,n):e}function tg(e,t,n){e=Se(e),t=re(t);var r=t?Zn(e):0;return t&&r<t?ai(t-r,n)+e:e}function ng(e,t,n){return n||t==null?t=0:t&&(t=+t),of(Se(e).replace($i,""),t||0)}function rg(e,t,n){return(n?vt(e,t,n):t===i)?t=1:t=re(t),oa(Se(e),t)}function ig(){var e=arguments,t=Se(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var ag=er(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function lg(e,t,n){return n&&typeof n!="number"&&vt(e,t,n)&&(t=n=i),n=n===i?_e:n>>>0,n?(e=Se(e),e&&(typeof t=="string"||t!=null&&!Oa(t))&&(t=Dt(t),!t&&Kn(e))?In(Qt(e),0,n):e.split(t,n)):[]}var sg=er(function(e,t,n){return e+(n?" ":"")+Ma(t)});function ug(e,t,n){return e=Se(e),n=n==null?0:Wn(re(n),0,e.length),t=Dt(t),e.slice(n,n+t.length)==t}function og(e,t,n){var r=s.templateSettings;n&&vt(e,t,n)&&(t=i),e=Se(e),t=vi({},t,r,Ls);var l=vi({},t.imports,r.imports,Ls),u=ft(l),c=Ki(l,u),d,w,T=0,I=t.interpolate||Dr,D="__p += '",F=Yi((t.escape||Dr).source+"|"+I.source+"|"+(I===sr?Uu:Dr).source+"|"+(t.evaluate||Dr).source+"|$","g"),G="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++vo+"]")+`
`;e.replace(F,function(Y,fe,de,Ot,mt,Rt){return de||(de=Ot),D+=e.slice(T,Rt).replace(Zu,Po),fe&&(d=!0,D+=`' +
__e(`+fe+`) +
'`),mt&&(w=!0,D+=`';
`+mt+`;
__p += '`),de&&(D+=`' +
((__t = (`+de+`)) == null ? '' : __t) +
'`),T=Rt+Y.length,Y}),D+=`';
`;var Z=Le.call(t,"variable")&&t.variable;if(!Z)D=`with (obj) {
`+D+`
}
`;else if(Bu.test(Z))throw new j(f);D=(w?D.replace(mn,""):D).replace(ir,"$1").replace(Lr,"$1;"),D="function("+(Z||"obj")+`) {
`+(Z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(d?", __e = _.escape":"")+(w?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+D+`return __p
}`;var ae=mu(function(){return xe(u,G+"return "+D).apply(i,c)});if(ae.source=D,$a(ae))throw ae;return ae}function fg(e){return Se(e).toLowerCase()}function cg(e){return Se(e).toUpperCase()}function hg(e,t,n){if(e=Se(e),e&&(n||t===i))return Tl(e);if(!e||!(t=Dt(t)))return e;var r=Qt(e),l=Qt(t),u=Il(r,l),c=Cl(r,l)+1;return In(r,u,c).join("")}function dg(e,t,n){if(e=Se(e),e&&(n||t===i))return e.slice(0,$l(e)+1);if(!e||!(t=Dt(t)))return e;var r=Qt(e),l=Cl(r,Qt(t))+1;return In(r,0,l).join("")}function pg(e,t,n){if(e=Se(e),e&&(n||t===i))return e.replace($i,"");if(!e||!(t=Dt(t)))return e;var r=Qt(e),l=Il(r,Qt(t));return In(r,l).join("")}function gg(e,t){var n=Ye,r=Ee;if(Ke(t)){var l="separator"in t?t.separator:l;n="length"in t?re(t.length):n,r="omission"in t?Dt(t.omission):r}e=Se(e);var u=e.length;if(Kn(e)){var c=Qt(e);u=c.length}if(n>=u)return e;var d=n-Zn(r);if(d<1)return r;var w=c?In(c,0,d).join(""):e.slice(0,d);if(l===i)return w+r;if(c&&(d+=w.length-d),Oa(l)){if(e.slice(d).search(l)){var T,I=w;for(l.global||(l=Yi(l.source,Se(Xa.exec(l))+"g")),l.lastIndex=0;T=l.exec(I);)var D=T.index;w=w.slice(0,D===i?d:D)}}else if(e.indexOf(Dt(l),d)!=d){var F=w.lastIndexOf(l);F>-1&&(w=w.slice(0,F))}return w+r}function _g(e){return e=Se(e),e&&Hn.test(e)?e.replace(ar,zo):e}var vg=er(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Ma=ws("toUpperCase");function vu(e,t,n){return e=Se(e),t=n?i:t,t===i?Fo(e)?Zo(e):Do(e):e.match(t)||[]}var mu=le(function(e,t){try{return It(e,i,t)}catch(n){return $a(n)?n:new j(n)}}),mg=hn(function(e,t){return Ht(t,function(n){n=rn(n),fn(e,n,Ca(e[n],e))}),e});function wg(e){var t=e==null?0:e.length,n=K();return e=t?ze(e,function(r){if(typeof r[1]!="function")throw new Gt(b);return[n(r[0]),r[1]]}):[],le(function(r){for(var l=-1;++l<t;){var u=e[l];if(It(u[0],this,r))return It(u[1],this,r)}})}function bg(e){return qf(qt(e,C))}function Wa(e){return function(){return e}}function xg(e,t){return e==null||e!==e?t:e}var yg=xs(),Eg=xs(!0);function St(e){return e}function Pa(e){return Ql(typeof e=="function"?e:qt(e,C))}function Sg(e){return jl(qt(e,C))}function Ag(e,t){return es(e,qt(t,C))}var Lg=le(function(e,t){return function(n){return _r(n,e,t)}}),Tg=le(function(e,t){return function(n){return _r(e,n,t)}});function Ba(e,t,n){var r=ft(t),l=Vr(t,r);n==null&&!(Ke(t)&&(l.length||!r.length))&&(n=t,t=e,e=this,l=Vr(t,ft(t)));var u=!(Ke(n)&&"chain"in n)||!!n.chain,c=pn(e);return Ht(l,function(d){var w=t[d];e[d]=w,c&&(e.prototype[d]=function(){var T=this.__chain__;if(u||T){var I=e(this.__wrapped__),D=I.__actions__=xt(this.__actions__);return D.push({func:w,args:arguments,thisArg:e}),I.__chain__=T,I}return w.apply(e,yn([this.value()],arguments))})}),e}function Ig(){return ct._===this&&(ct._=jo),this}function Fa(){}function Cg(e){return e=re(e),le(function(t){return ts(t,e)})}var Dg=_a(ze),$g=_a(yl),Og=_a(Ni);function wu(e){return Ea(e)?Hi(rn(e)):uc(e)}function Rg(e){return function(t){return e==null?i:Pn(e,t)}}var kg=Es(),Mg=Es(!0);function Ua(){return[]}function Na(){return!1}function Wg(){return{}}function Pg(){return""}function Bg(){return!0}function Fg(e,t){if(e=re(e),e<1||e>Ae)return[];var n=_e,r=pt(e,_e);t=K(t),e-=_e;for(var l=qi(r,t);++n<e;)t(n);return l}function Ug(e){return te(e)?ze(e,rn):$t(e)?[e]:xt(Fs(Se(e)))}function Ng(e){var t=++Qo;return Se(e)+t}var Hg=ii(function(e,t){return e+t},0),Gg=va("ceil"),zg=ii(function(e,t){return e/t},1),qg=va("floor");function Kg(e){return e&&e.length?Qr(e,St,na):i}function Zg(e,t){return e&&e.length?Qr(e,K(t,2),na):i}function Yg(e){return Al(e,St)}function Xg(e,t){return Al(e,K(t,2))}function Jg(e){return e&&e.length?Qr(e,St,la):i}function Qg(e,t){return e&&e.length?Qr(e,K(t,2),la):i}var Vg=ii(function(e,t){return e*t},1),jg=va("round"),e_=ii(function(e,t){return e-t},0);function t_(e){return e&&e.length?zi(e,St):0}function n_(e,t){return e&&e.length?zi(e,K(t,2)):0}return s.after=Sd,s.ary=Js,s.assign=cp,s.assignIn=fu,s.assignInWith=vi,s.assignWith=hp,s.at=dp,s.before=Qs,s.bind=Ca,s.bindAll=mg,s.bindKey=Vs,s.castArray=Wd,s.chain=Zs,s.chunk=qc,s.compact=Kc,s.concat=Zc,s.cond=wg,s.conforms=bg,s.constant=Wa,s.countBy=td,s.create=pp,s.curry=js,s.curryRight=eu,s.debounce=tu,s.defaults=gp,s.defaultsDeep=_p,s.defer=Ad,s.delay=Ld,s.difference=Yc,s.differenceBy=Xc,s.differenceWith=Jc,s.drop=Qc,s.dropRight=Vc,s.dropRightWhile=jc,s.dropWhile=eh,s.fill=th,s.filter=rd,s.flatMap=ld,s.flatMapDeep=sd,s.flatMapDepth=ud,s.flatten=Gs,s.flattenDeep=nh,s.flattenDepth=rh,s.flip=Td,s.flow=yg,s.flowRight=Eg,s.fromPairs=ih,s.functions=Ep,s.functionsIn=Sp,s.groupBy=od,s.initial=lh,s.intersection=sh,s.intersectionBy=uh,s.intersectionWith=oh,s.invert=Lp,s.invertBy=Tp,s.invokeMap=cd,s.iteratee=Pa,s.keyBy=hd,s.keys=ft,s.keysIn=Et,s.map=ci,s.mapKeys=Cp,s.mapValues=Dp,s.matches=Sg,s.matchesProperty=Ag,s.memoize=di,s.merge=$p,s.mergeWith=cu,s.method=Lg,s.methodOf=Tg,s.mixin=Ba,s.negate=pi,s.nthArg=Cg,s.omit=Op,s.omitBy=Rp,s.once=Id,s.orderBy=dd,s.over=Dg,s.overArgs=Cd,s.overEvery=$g,s.overSome=Og,s.partial=Da,s.partialRight=nu,s.partition=pd,s.pick=kp,s.pickBy=hu,s.property=wu,s.propertyOf=Rg,s.pull=dh,s.pullAll=qs,s.pullAllBy=ph,s.pullAllWith=gh,s.pullAt=_h,s.range=kg,s.rangeRight=Mg,s.rearg=Dd,s.reject=vd,s.remove=vh,s.rest=$d,s.reverse=Ta,s.sampleSize=wd,s.set=Wp,s.setWith=Pp,s.shuffle=bd,s.slice=mh,s.sortBy=Ed,s.sortedUniq=Ah,s.sortedUniqBy=Lh,s.split=lg,s.spread=Od,s.tail=Th,s.take=Ih,s.takeRight=Ch,s.takeRightWhile=Dh,s.takeWhile=$h,s.tap=Kh,s.throttle=Rd,s.thru=fi,s.toArray=su,s.toPairs=du,s.toPairsIn=pu,s.toPath=Ug,s.toPlainObject=ou,s.transform=Bp,s.unary=kd,s.union=Oh,s.unionBy=Rh,s.unionWith=kh,s.uniq=Mh,s.uniqBy=Wh,s.uniqWith=Ph,s.unset=Fp,s.unzip=Ia,s.unzipWith=Ks,s.update=Up,s.updateWith=Np,s.values=rr,s.valuesIn=Hp,s.without=Bh,s.words=vu,s.wrap=Md,s.xor=Fh,s.xorBy=Uh,s.xorWith=Nh,s.zip=Hh,s.zipObject=Gh,s.zipObjectDeep=zh,s.zipWith=qh,s.entries=du,s.entriesIn=pu,s.extend=fu,s.extendWith=vi,Ba(s,s),s.add=Hg,s.attempt=mu,s.camelCase=Kp,s.capitalize=gu,s.ceil=Gg,s.clamp=Gp,s.clone=Pd,s.cloneDeep=Fd,s.cloneDeepWith=Ud,s.cloneWith=Bd,s.conformsTo=Nd,s.deburr=_u,s.defaultTo=xg,s.divide=zg,s.endsWith=Zp,s.eq=jt,s.escape=Yp,s.escapeRegExp=Xp,s.every=nd,s.find=id,s.findIndex=Ns,s.findKey=vp,s.findLast=ad,s.findLastIndex=Hs,s.findLastKey=mp,s.floor=qg,s.forEach=Ys,s.forEachRight=Xs,s.forIn=wp,s.forInRight=bp,s.forOwn=xp,s.forOwnRight=yp,s.get=Ra,s.gt=Hd,s.gte=Gd,s.has=Ap,s.hasIn=ka,s.head=zs,s.identity=St,s.includes=fd,s.indexOf=ah,s.inRange=zp,s.invoke=Ip,s.isArguments=Un,s.isArray=te,s.isArrayBuffer=zd,s.isArrayLike=yt,s.isArrayLikeObject=je,s.isBoolean=qd,s.isBuffer=Cn,s.isDate=Kd,s.isElement=Zd,s.isEmpty=Yd,s.isEqual=Xd,s.isEqualWith=Jd,s.isError=$a,s.isFinite=Qd,s.isFunction=pn,s.isInteger=ru,s.isLength=gi,s.isMap=iu,s.isMatch=Vd,s.isMatchWith=jd,s.isNaN=ep,s.isNative=tp,s.isNil=rp,s.isNull=np,s.isNumber=au,s.isObject=Ke,s.isObjectLike=Je,s.isPlainObject=yr,s.isRegExp=Oa,s.isSafeInteger=ip,s.isSet=lu,s.isString=_i,s.isSymbol=$t,s.isTypedArray=nr,s.isUndefined=ap,s.isWeakMap=lp,s.isWeakSet=sp,s.join=fh,s.kebabCase=Jp,s.last=Zt,s.lastIndexOf=ch,s.lowerCase=Qp,s.lowerFirst=Vp,s.lt=up,s.lte=op,s.max=Kg,s.maxBy=Zg,s.mean=Yg,s.meanBy=Xg,s.min=Jg,s.minBy=Qg,s.stubArray=Ua,s.stubFalse=Na,s.stubObject=Wg,s.stubString=Pg,s.stubTrue=Bg,s.multiply=Vg,s.nth=hh,s.noConflict=Ig,s.noop=Fa,s.now=hi,s.pad=jp,s.padEnd=eg,s.padStart=tg,s.parseInt=ng,s.random=qp,s.reduce=gd,s.reduceRight=_d,s.repeat=rg,s.replace=ig,s.result=Mp,s.round=jg,s.runInContext=v,s.sample=md,s.size=xd,s.snakeCase=ag,s.some=yd,s.sortedIndex=wh,s.sortedIndexBy=bh,s.sortedIndexOf=xh,s.sortedLastIndex=yh,s.sortedLastIndexBy=Eh,s.sortedLastIndexOf=Sh,s.startCase=sg,s.startsWith=ug,s.subtract=e_,s.sum=t_,s.sumBy=n_,s.template=og,s.times=Fg,s.toFinite=gn,s.toInteger=re,s.toLength=uu,s.toLower=fg,s.toNumber=Yt,s.toSafeInteger=fp,s.toString=Se,s.toUpper=cg,s.trim=hg,s.trimEnd=dg,s.trimStart=pg,s.truncate=gg,s.unescape=_g,s.uniqueId=Ng,s.upperCase=vg,s.upperFirst=Ma,s.each=Ys,s.eachRight=Xs,s.first=zs,Ba(s,function(){var e={};return tn(s,function(t,n){Le.call(s.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),s.VERSION=o,Ht(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){s[e].placeholder=s}),Ht(["drop","take"],function(e,t){he.prototype[e]=function(n){n=n===i?1:lt(re(n),0);var r=this.__filtered__&&!t?new he(this):this.clone();return r.__filtered__?r.__takeCount__=pt(n,r.__takeCount__):r.__views__.push({size:pt(n,_e),type:e+(r.__dir__<0?"Right":"")}),r},he.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),Ht(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Ne||n==st;he.prototype[e]=function(l){var u=this.clone();return u.__iteratees__.push({iteratee:K(l,3),type:n}),u.__filtered__=u.__filtered__||r,u}}),Ht(["head","last"],function(e,t){var n="take"+(t?"Right":"");he.prototype[e]=function(){return this[n](1).value()[0]}}),Ht(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");he.prototype[e]=function(){return this.__filtered__?new he(this):this[n](1)}}),he.prototype.compact=function(){return this.filter(St)},he.prototype.find=function(e){return this.filter(e).head()},he.prototype.findLast=function(e){return this.reverse().find(e)},he.prototype.invokeMap=le(function(e,t){return typeof e=="function"?new he(this):this.map(function(n){return _r(n,e,t)})}),he.prototype.reject=function(e){return this.filter(pi(K(e)))},he.prototype.slice=function(e,t){e=re(e);var n=this;return n.__filtered__&&(e>0||t<0)?new he(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(t=re(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},he.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},he.prototype.toArray=function(){return this.take(_e)},tn(he.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),l=s[r?"take"+(t=="last"?"Right":""):t],u=r||/^find/.test(t);!l||(s.prototype[t]=function(){var c=this.__wrapped__,d=r?[1]:arguments,w=c instanceof he,T=d[0],I=w||te(c),D=function(fe){var de=l.apply(s,yn([fe],d));return r&&F?de[0]:de};I&&n&&typeof T=="function"&&T.length!=1&&(w=I=!1);var F=this.__chain__,G=!!this.__actions__.length,Z=u&&!F,ae=w&&!G;if(!u&&I){c=ae?c:new he(this);var Y=e.apply(c,d);return Y.__actions__.push({func:fi,args:[D],thisArg:i}),new zt(Y,F)}return Z&&ae?e.apply(this,d):(Y=this.thru(D),Z?r?Y.value()[0]:Y.value():Y)})}),Ht(["pop","push","shift","sort","splice","unshift"],function(e){var t=Wr[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);s.prototype[e]=function(){var l=arguments;if(r&&!this.__chain__){var u=this.value();return t.apply(te(u)?u:[],l)}return this[n](function(c){return t.apply(te(c)?c:[],l)})}}),tn(he.prototype,function(e,t){var n=s[t];if(n){var r=n.name+"";Le.call(Qn,r)||(Qn[r]=[]),Qn[r].push({name:t,func:n})}}),Qn[ri(i,ee).name]=[{name:"wrapper",func:i}],he.prototype.clone=_f,he.prototype.reverse=vf,he.prototype.value=mf,s.prototype.at=Zh,s.prototype.chain=Yh,s.prototype.commit=Xh,s.prototype.next=Jh,s.prototype.plant=Vh,s.prototype.reverse=jh,s.prototype.toJSON=s.prototype.valueOf=s.prototype.value=ed,s.prototype.first=s.prototype.head,or&&(s.prototype[or]=Qh),s},Yn=Yo();On?((On.exports=Yn)._=Yn,Pi._=Yn):ct._=Yn}).call(Sr)})(Eu,Eu.exports);let qa=[{id:"alice",name:"Alice",number:10},{id:"bob",name:"Bob",number:20},{id:"calor",name:"Carol",number:5},{id:"dave",name:"Dave",number:30},{id:"eve",name:"Eve",number:22},{id:"francisco",name:"Francisco",number:50}];qa=Ar.sortBy(qa,p=>p.number).reverse();var xi=qa;function Su(p,a,i){const o=p.slice();return o[16]=a[i],o[18]=i,o}function Au(p){let a,i,o,h,g;return{c(){a=Dn("rect"),this.h()},l(b){a=$n(b,"rect",{x:!0,width:!0,y:!0,height:!0,fill:!0}),R(a).forEach(m),this.h()},h(){P(a,"x",i=0),P(a,"width",o=p[5](p[16].number)),P(a,"y",h=p[4](p[16].id)),P(a,"height",g=p[4].bandwidth()),P(a,"fill",p[7])},m(b,f){B(b,a,f)},p(b,f){f&32&&o!==(o=b[5](b[16].number))&&P(a,"width",o),f&16&&h!==(h=b[4](b[16].id))&&P(a,"y",h),f&16&&g!==(g=b[4].bandwidth())&&P(a,"height",g),f&128&&P(a,"fill",b[7])},d(b){b&&m(a)}}}function tv(p){let a,i,o,h,g,b,f,x,y,E,C=xi,U=[];for(let A=0;A<C.length;A+=1)U[A]=Au(Su(p,C,A));return{c(){a=$("div"),i=$("div"),o=k("resize window to see responsiveness"),h=J(),g=Dn("svg"),b=Dn("g");for(let A=0;A<U.length;A+=1)U[A].c();f=Dn("g"),y=Dn("g"),this.h()},l(A){a=O(A,"DIV",{class:!0});var W=R(a);i=O(W,"DIV",{class:!0});var q=R(i);o=M(q,"resize window to see responsiveness"),q.forEach(m),h=Q(W),g=$n(W,"svg",{width:!0,height:!0});var ne=R(g);b=$n(ne,"g",{transform:!0});var ee=R(b);for(let V=0;V<U.length;V+=1)U[V].l(ee);f=$n(ee,"g",{transform:!0,id:!0}),R(f).forEach(m),y=$n(ee,"g",{transform:!0,id:!0}),R(y).forEach(m),ee.forEach(m),ne.forEach(m),W.forEach(m),this.h()},h(){P(i,"class","graph-note svelte-1n4mm5b"),P(f,"transform",x="translate("+0+", "+p[6]+")"),P(f,"id","x-axis-container"),P(y,"transform","translate("+0+", "+0+")"),P(y,"id","y-axis-container"),P(b,"transform","translate("+p[8].left+", "+p[8].top+")"),P(g,"width",p[2]),P(g,"height",p[3]),P(a,"class","graph-container svelte-1n4mm5b"),yi(()=>p[15].call(a))},m(A,W){B(A,a,W),_(a,i),_(i,o),_(a,h),_(a,g),_(g,b);for(let q=0;q<U.length;q+=1)U[q].m(b,null);_(b,f),p[13](f),_(b,y),p[14](y),E=Ka(a,p[15].bind(a))},p(A,[W]){if(W&176){C=xi;let q;for(q=0;q<C.length;q+=1){const ne=Su(A,C,q);U[q]?U[q].p(ne,W):(U[q]=Au(ne),U[q].c(),U[q].m(b,f))}for(;q<U.length;q+=1)U[q].d(1);U.length=C.length}W&64&&x!==(x="translate("+0+", "+A[6]+")")&&P(f,"transform",x),W&4&&P(g,"width",A[2]),W&8&&P(g,"height",A[3])},i:ie,o:ie,d(A){A&&m(a),l_(U,A),p[13](null),p[14](null),E()}}}function nv(p,a,i){let o,h,g,b,f,x,y;Si.prototype.appendSelect=Ai;let E,C,U,A;const W={top:50,right:20,bottom:30,left:60};function q(V){wi[V?"unshift":"push"](()=>{E=V,i(0,E)})}function ne(V){wi[V?"unshift":"push"](()=>{C=V,i(1,C)})}function ee(){U=this.clientWidth,A=this.clientHeight,i(2,U),i(3,A)}return p.$$.update=()=>{p.$$.dirty&4&&i(12,o=U-W.left-W.right),p.$$.dirty&8&&i(6,h=A-W.top-W.bottom),p.$$.dirty&4&&i(7,g=U>=500?"#6b6065":"#ee3e3e"),p.$$.dirty&4608&&i(5,b=Li().domain([0,Za(xi,V=>V.number)]).range([0,o])),p.$$.dirty&576&&i(4,f=Ya().domain(xi.map(V=>V.id)).range([0,h]).paddingInner(.3)),p.$$.dirty&544&&i(11,x=g_(b)),p.$$.dirty&528&&i(10,y=__(f)),p.$$.dirty&2561&&E&&bi(E).call(x),p.$$.dirty&1538&&C&&bi(C).call(y).call(V=>V.select(".domain").remove())},[E,C,U,A,f,b,h,g,W,$u,y,x,o,q,ne,ee]}class rv extends kt{constructor(a){super(),Mt(this,a,nv,tv,Wt,{})}}const iv=`
  <script>
    ...
    
    let xAxisContainer 
    let yAxisContainer
    
    // Width and heigh which come from graph container 
    // and are passed in as the width and height of the svg
    let w;
    let h;
    const margin = { top: 50, right: 20, bottom: 30, left: 60 }
    $: boundedWidth = w - margin.left - margin.right
    $: boundedHeight = h - margin.top - margin.bottom
    $: fill = w >= 500 ? '#6b6065' : '#ee3e3e'

    // Scales 
    // These need to be $ reactive declarations because they depend on w and h 
    // If they didn't, we could have defined them as const 
    $: xScale = d3.scaleLinear()
      .domain([0, d3.max(data, d => d.number)])
      .range([0, boundedWidth])
    
    $: yScale = d3.scaleBand()
      .domain(data.map(d => d.id))
      .range([0, boundedHeight])
      .paddingInner(0.3)
    
    // Axes 
    // Same reason as for scales, these need to be reactive decralations
    $: xAxis = d3.axisBottom(xScale)
    $: yAxis = d3.axisLeft(yScale)

    // Call the axes either as reactive statements 
    // If calling from onMount, would also need to include resize event listener or
    // call from afterUpdate as well, as otherwise graph won't be responsive when w and h change
    $: if (xAxisContainer) d3.select(xAxisContainer).call(xAxis)
    $: if (yAxisContainer) d3.select(yAxisContainer).call(yAxis).call(g => g.select('.domain').remove())
  
  <\/script>

  <div
    class="graph-container"
    bind:clientWidth={w}
    bind:clientHeight={h}
  >
    <svg width={w} height={h}>
      <g transform='translate({margin.left}, {margin.top})'>
        {#each data as d, i}
          <rect 
              x={0}
              width={xScale(d.number)} 
              y={yScale(d.id)}
              height={yScale.bandwidth()} 
              fill={fill}
          ></rect>
        {/each}
        <g transform='translate({0}, {boundedHeight})' id='x-axis-container' bind:this={xAxisContainer}></g>
        <g transform='translate({0}, {0})' id='y-axis-container' bind:this={yAxisContainer}></g>
      </g>
    </svg>
  </div>
`;function av(p){let a;return{c(){a=$("div")},l(i){a=O(i,"DIV",{}),R(a).forEach(m)},m(i,o){B(i,a,o)},p:ie,i:ie,o:ie,d(i){i&&m(a)}}}function lv(p){let a,i;return a=new Ci({props:{language:"javascript",source:iv,showCopyButton:!0}}),{c(){Pe(a.$$.fragment)},l(o){Be(a.$$.fragment,o)},m(o,h){Fe(a,o,h),i=!0},p:ie,i(o){i||(pe(a.$$.fragment,o),i=!0)},o(o){ve(a.$$.fragment,o),i=!1},d(o){Ue(a,o)}}}function sv(p){let a,i,o,h,g,b;a=new ev({});const f=[lv,av],x=[];function y(E,C){return 0}return h=y(),g=x[h]=f[h](p),{c(){Pe(a.$$.fragment),i=J(),o=$("div"),g.c(),this.h()},l(E){Be(a.$$.fragment,E),i=Q(E),o=O(E,"DIV",{class:!0});var C=R(o);g.l(C),C.forEach(m),this.h()},h(){P(o,"class","codeblock svelte-knnyit")},m(E,C){Fe(a,E,C),B(E,i,C),B(E,o,C),x[h].m(o,null),b=!0},p(E,C){g.p(E,C)},i(E){b||(pe(a.$$.fragment,E),pe(g),b=!0)},o(E){ve(a.$$.fragment,E),ve(g),b=!1},d(E){Ue(a,E),E&&m(i),E&&m(o),x[h].d()}}}function uv(p){let a,i;return{c(){a=$("h2"),i=k(p[1]),this.h()},l(o){a=O(o,"H2",{slot:!0,class:!0});var h=R(a);i=M(h,p[1]),h.forEach(m),this.h()},h(){P(a,"slot","title"),P(a,"class","svelte-knnyit")},m(o,h){B(o,a,h),_(a,i)},p(o,h){h&2&&Ei(i,o[1])},d(o){o&&m(a)}}}function ov(p){let a;return{c(){a=$("div"),this.h()},l(i){a=O(i,"DIV",{slot:!0,class:!0});var o=R(a);o.forEach(m),this.h()},h(){P(a,"slot","external-link"),P(a,"class","external-link")},m(i,o){B(i,a,o)},p:ie,d(i){i&&m(a)}}}function fv(p){let a,i,o,h,g,b;return a=new Ii({props:{internalLink:p[2],date:p[3],$$slots:{"external-link":[ov],title:[uv],default:[sv]},$$scope:{ctx:p}}}),g=new rv({}),{c(){Pe(a.$$.fragment),i=J(),o=$("br"),h=J(),Pe(g.$$.fragment)},l(f){Be(a.$$.fragment,f),i=Q(f),o=O(f,"BR",{}),h=Q(f),Be(g.$$.fragment,f)},m(f,x){Fe(a,f,x),B(f,i,x),B(f,o,x),B(f,h,x),Fe(g,f,x),b=!0},p(f,x){const y={};x&4&&(y.internalLink=f[2]),x&8&&(y.date=f[3]),x&66&&(y.$$scope={dirty:x,ctx:f}),a.$set(y)},i(f){b||(pe(a.$$.fragment,f),pe(g.$$.fragment,f),b=!0)},o(f){ve(a.$$.fragment,f),ve(g.$$.fragment,f),b=!1},d(f){Ue(a,f),f&&m(i),f&&m(o),f&&m(h),Ue(g,f)}}}function cv(p){let a,i;return a=new Ti({props:{id:p[0],$$slots:{default:[fv]},$$scope:{ctx:p}}}),{c(){Pe(a.$$.fragment)},l(o){Be(a.$$.fragment,o)},m(o,h){Fe(a,o,h),i=!0},p(o,[h]){const g={};h&1&&(g.id=o[0]),h&78&&(g.$$scope={dirty:h,ctx:o}),a.$set(g)},i(o){i||(pe(a.$$.fragment,o),i=!0)},o(o){ve(a.$$.fragment,o),i=!1},d(o){Ue(a,o)}}}function hv(p,a,i){let{id:o}=a,{sectionTitle:h}=a,{internalLink:g}=a,{externalLink:b}=a,{externalLinkTitle:f}=a,{date:x}=a;return p.$$set=y=>{"id"in y&&i(0,o=y.id),"sectionTitle"in y&&i(1,h=y.sectionTitle),"internalLink"in y&&i(2,g=y.internalLink),"externalLink"in y&&i(4,b=y.externalLink),"externalLinkTitle"in y&&i(5,f=y.externalLinkTitle),"date"in y&&i(3,x=y.date)},[o,h,g,x,b,f]}class dv extends kt{constructor(a){super(),Mt(this,a,hv,cv,Wt,{id:0,sectionTitle:1,internalLink:2,externalLink:4,externalLinkTitle:5,date:3})}}function pv(p){let a,i,o,h,g,b,f,x,y,E,C,U,A,W,q,ne,ee,V,ge,ye,me,N,z,se,Ze,Ye,Ee,ke,Te,Ne,nt,st,Ie,Ae,ue,$e,_e,Ce,Qe,oe,ce,Me,rt,Oe,it,De,ut,we,At,Ge,ot,Pt;return{c(){a=$("p"),i=k("Svg-based graph done entriely in Svelte (other than scales), including different transitions for elements that enter and leave the DOM."),o=J(),h=$("h3"),g=k("Main points"),b=J(),f=$("ul"),x=$("li"),y=k(`The use case here is when we have dynamic data such that we want DOM elements corresponding to each datum 
    to have (possibly different) transitions as they enter, update in, or leave the DOM. In other words, we want to 
    imitate the transitions possible inside a D3 general update pattern with enter, update and exit, entirely from Svelte. 
    Note that when adding the data-bound DOM elements in a Svelte `),E=$("code"),C=k("each"),U=k(` block, you have to make sure that you can provide 
    a key with unique ids, i.e. you need to use a `),A=$("span"),W=k("keyed each block"),q=k("."),ne=J(),ee=$("li"),V=k("We use a "),ge=$("span"),ye=$("code"),me=k("fly"),N=k(" transition"),z=k(" imported from "),se=$("code"),Ze=k("svelte/transition"),Ye=k(" with some optional parameters."),Ee=J(),ke=$("li"),Te=k("For the circles "),Ne=$("span"),nt=k("entering the DOM"),st=k(", we use "),Ie=$("code"),Ae=k("in:fly"),ue=k(` with options to make
    each circle enter the DOM from a -300px horizontal position, and with each circle entering 200 ms after the previous.`),$e=J(),_e=$("li"),Ce=k("For the circles "),Qe=$("span"),oe=k("leaving the DOM"),ce=k(", we use "),Me=$("code"),rt=k("out:fly"),Oe=k(` with options to make the circles 
    fly off 200px to the right before disappearing.`),it=J(),De=$("li"),ut=k("Finally, for any "),we=$("span"),At=k("updating DOM elements"),Ge=k(`, e.g. circles that stay on but change colour or size, we simply add a CSS transition to the circles with 
    `),ot=$("code"),Pt=k("transition: all 1s;"),this.h()},l(be){a=O(be,"P",{class:!0});var Ve=R(a);i=M(Ve,"Svg-based graph done entriely in Svelte (other than scales), including different transitions for elements that enter and leave the DOM."),Ve.forEach(m),o=Q(be),h=O(be,"H3",{});var vn=R(h);g=M(vn,"Main points"),vn.forEach(m),b=Q(be),f=O(be,"UL",{});var tt=R(f);x=O(tt,"LI",{});var Xe=R(x);y=M(Xe,`The use case here is when we have dynamic data such that we want DOM elements corresponding to each datum 
    to have (possibly different) transitions as they enter, update in, or leave the DOM. In other words, we want to 
    imitate the transitions possible inside a D3 general update pattern with enter, update and exit, entirely from Svelte. 
    Note that when adding the data-bound DOM elements in a Svelte `),E=O(Xe,"CODE",{});var wt=R(E);C=M(wt,"each"),wt.forEach(m),U=M(Xe,` block, you have to make sure that you can provide 
    a key with unique ids, i.e. you need to use a `),A=O(Xe,"SPAN",{class:!0});var Xt=R(A);W=M(Xt,"keyed each block"),Xt.forEach(m),q=M(Xe,"."),Xe.forEach(m),ne=Q(tt),ee=O(tt,"LI",{});var Bt=R(ee);V=M(Bt,"We use a "),ge=O(Bt,"SPAN",{class:!0});var bt=R(ge);ye=O(bt,"CODE",{});var Jt=R(ye);me=M(Jt,"fly"),Jt.forEach(m),N=M(bt," transition"),bt.forEach(m),z=M(Bt," imported from "),se=O(Bt,"CODE",{});var Ft=R(se);Ze=M(Ft,"svelte/transition"),Ft.forEach(m),Ye=M(Bt," with some optional parameters."),Bt.forEach(m),Ee=Q(tt),ke=O(tt,"LI",{});var X=R(ke);Te=M(X,"For the circles "),Ne=O(X,"SPAN",{class:!0});var qe=R(Ne);nt=M(qe,"entering the DOM"),qe.forEach(m),st=M(X,", we use "),Ie=O(X,"CODE",{});var an=R(Ie);Ae=M(an,"in:fly"),an.forEach(m),ue=M(X,` with options to make
    each circle enter the DOM from a -300px horizontal position, and with each circle entering 200 ms after the previous.`),X.forEach(m),$e=Q(tt),_e=O(tt,"LI",{});var Lt=R(_e);Ce=M(Lt,"For the circles "),Qe=O(Lt,"SPAN",{class:!0});var Tt=R(Qe);oe=M(Tt,"leaving the DOM"),Tt.forEach(m),ce=M(Lt,", we use "),Me=O(Lt,"CODE",{});var dt=R(Me);rt=M(dt,"out:fly"),dt.forEach(m),Oe=M(Lt,` with options to make the circles 
    fly off 200px to the right before disappearing.`),Lt.forEach(m),it=Q(tt),De=O(tt,"LI",{});var Ut=R(De);ut=M(Ut,"Finally, for any "),we=O(Ut,"SPAN",{class:!0});var ln=R(we);At=M(ln,"updating DOM elements"),ln.forEach(m),Ge=M(Ut,`, e.g. circles that stay on but change colour or size, we simply add a CSS transition to the circles with 
    `),ot=O(Ut,"CODE",{});var sn=R(ot);Pt=M(sn,"transition: all 1s;"),sn.forEach(m),Ut.forEach(m),tt.forEach(m),this.h()},h(){P(a,"class","summary"),P(A,"class","accent"),P(ge,"class","accent"),P(Ne,"class","accent"),P(Qe,"class","accent"),P(we,"class","accent")},m(be,Ve){B(be,a,Ve),_(a,i),B(be,o,Ve),B(be,h,Ve),_(h,g),B(be,b,Ve),B(be,f,Ve),_(f,x),_(x,y),_(x,E),_(E,C),_(x,U),_(x,A),_(A,W),_(x,q),_(f,ne),_(f,ee),_(ee,V),_(ee,ge),_(ge,ye),_(ye,me),_(ge,N),_(ee,z),_(ee,se),_(se,Ze),_(ee,Ye),_(f,Ee),_(f,ke),_(ke,Te),_(ke,Ne),_(Ne,nt),_(ke,st),_(ke,Ie),_(Ie,Ae),_(ke,ue),_(f,$e),_(f,_e),_(_e,Ce),_(_e,Qe),_(Qe,oe),_(_e,ce),_(_e,Me),_(Me,rt),_(_e,Oe),_(f,it),_(f,De),_(De,ut),_(De,we),_(we,At),_(De,Ge),_(De,ot),_(ot,Pt)},p:ie,i:ie,o:ie,d(be){be&&m(a),be&&m(o),be&&m(h),be&&m(b),be&&m(f)}}}class gv extends kt{constructor(a){super(),Mt(this,a,null,pv,Wt,{})}}const Ha=[{id:"1",value:25,category:"cat"},{id:"2",value:30,category:"panda"},{id:"3",value:40,category:"cat"},{id:"4",value:20,category:"cat"},{id:"5",value:45,category:"panda"},{id:"6",value:25,category:"dog"}],_v=[{id:"1",value:10,category:"dog"},{id:"2",value:50,category:"panda"},{id:"4",value:20,category:"cat"},{id:"5",value:25,category:"panda"}];function Lu(p,a,i){const o=p.slice();return o[15]=a[i],o[17]=i,o}function Tu(p){let a,i,o,h,g,b,f,x,y;return{c(){a=Dn("circle"),this.h()},l(E){a=$n(E,"circle",{id:!0,cx:!0,cy:!0,fill:!0,r:!0,class:!0}),R(a).forEach(m),this.h()},h(){P(a,"id",i=p[15].id),P(a,"cx",o=p[5]/2),P(a,"cy",h=p[17]*80),P(a,"fill",g=p[7][p[15].category]),P(a,"r",b=p[4](p[15].value)),P(a,"class","svelte-1i0thcy")},m(E,C){B(E,a,C),y=!0},p(E,C){p=E,(!y||C&1&&i!==(i=p[15].id))&&P(a,"id",i),(!y||C&32&&o!==(o=p[5]/2))&&P(a,"cx",o),(!y||C&1&&h!==(h=p[17]*80))&&P(a,"cy",h),(!y||C&1&&g!==(g=p[7][p[15].category]))&&P(a,"fill",g),(!y||C&17&&b!==(b=p[4](p[15].value)))&&P(a,"r",b)},i(E){y||(yi(()=>{x&&x.end(1),f=s_(a,yu,{x:-300,duration:200*p[17],delay:300}),f.start()}),y=!0)},o(E){f&&f.invalidate(),x=u_(a,yu,{x:200,duration:100*p[17]}),y=!1},d(E){E&&m(a),E&&x&&x.end()}}}function Iu(p,a){let i,o,h,g=a[3]&&Tu(a);return{key:p,first:null,c(){i=mi(),g&&g.c(),o=mi(),this.h()},l(b){i=mi(),g&&g.l(b),o=mi(),this.h()},h(){this.first=i},m(b,f){B(b,i,f),g&&g.m(b,f),B(b,o,f),h=!0},p(b,f){a=b,a[3]?g?(g.p(a,f),f&8&&pe(g,1)):(g=Tu(a),g.c(),pe(g,1),g.m(o.parentNode,o)):g&&(Cu(),ve(g,1,1,()=>{g=null}),Du())},i(b){h||(pe(g),h=!0)},o(b){ve(g),h=!1},d(b){b&&m(i),g&&g.d(b),b&&m(o)}}}function vv(p){let a,i,o,h,g,b,f,x,y,E,C,U,A,W=[],q=new Map,ne,ee,V,ge,ye=p[0];const me=N=>N[15].id;for(let N=0;N<ye.length;N+=1){let z=Lu(p,ye,N),se=me(z);q.set(se,W[N]=Iu(se,z))}return{c(){a=$("div"),i=$("button"),o=k("Enter data"),h=J(),g=$("button"),b=k("Update data"),f=J(),x=$("div"),y=$("div"),E=k("click on buttons to see graph"),C=J(),U=Dn("svg"),A=Dn("g");for(let N=0;N<W.length;N+=1)W[N].c();this.h()},l(N){a=O(N,"DIV",{class:!0});var z=R(a);i=O(z,"BUTTON",{class:!0});var se=R(i);o=M(se,"Enter data"),se.forEach(m),h=Q(z),g=O(z,"BUTTON",{class:!0});var Ze=R(g);b=M(Ze,"Update data"),Ze.forEach(m),z.forEach(m),f=Q(N),x=O(N,"DIV",{class:!0});var Ye=R(x);y=O(Ye,"DIV",{class:!0});var Ee=R(y);E=M(Ee,"click on buttons to see graph"),Ee.forEach(m),C=Q(Ye),U=$n(Ye,"svg",{width:!0,height:!0});var ke=R(U);A=$n(ke,"g",{transform:!0});var Te=R(A);for(let Ne=0;Ne<W.length;Ne+=1)W[Ne].l(Te);Te.forEach(m),ke.forEach(m),Ye.forEach(m),this.h()},h(){P(i,"class","svelte-1i0thcy"),P(g,"class","svelte-1i0thcy"),P(a,"class","buttons svelte-1i0thcy"),P(y,"class","graph-note svelte-1i0thcy"),P(A,"transform","translate("+p[6].left+", "+p[6].top+")"),P(U,"width",p[1]),P(U,"height",p[2]),P(x,"class","graph-container svelte-1i0thcy"),yi(()=>p[12].call(x))},m(N,z){B(N,a,z),_(a,i),_(i,o),_(a,h),_(a,g),_(g,b),B(N,f,z),B(N,x,z),_(x,y),_(y,E),_(x,C),_(x,U),_(U,A);for(let se=0;se<W.length;se+=1)W[se].m(A,null);ne=Ka(x,p[12].bind(x)),ee=!0,V||(ge=[xu(i,"click",p[10]),xu(g,"click",p[11])],V=!0)},p(N,[z]){z&185&&(ye=N[0],Cu(),W=o_(W,z,me,1,N,ye,q,A,c_,Iu,null,Lu),Du()),(!ee||z&2)&&P(U,"width",N[1]),(!ee||z&4)&&P(U,"height",N[2])},i(N){if(!ee){for(let z=0;z<ye.length;z+=1)pe(W[z]);ee=!0}},o(N){for(let z=0;z<W.length;z+=1)ve(W[z]);ee=!1},d(N){N&&m(a),N&&m(f),N&&m(x);for(let z=0;z<W.length;z+=1)W[z].d();ne(),V=!1,f_(ge)}}}function mv(p,a,i){let o,h,g;Si.prototype.appendSelect=Ai;let b=Ha,f=!1,x,y;const E={top:50,right:0,bottom:50,left:0},C={cat:"#219ebc",panda:"#ee3e3e",dog:"#6b6065"},U=()=>{i(0,b=Ha),i(3,f=!0)},A=()=>{i(0,b=_v)};function W(){x=this.clientWidth,y=this.clientHeight,i(1,x),i(2,y)}return p.$$.update=()=>{p.$$.dirty&2&&i(5,o=x-E.left-E.right),p.$$.dirty&4&&i(9,h=y-E.top-E.bottom),p.$$.dirty&768&&h_().domain(Ha.map(q=>q.id)).range([0,h]),p.$$.dirty&257&&i(4,g=Li().domain(v_(b,q=>q.value)).range([20,50]))},[b,x,y,f,g,o,E,C,$u,h,U,A,W]}class wv extends kt{constructor(a){super(),Mt(this,a,mv,vv,Wt,{})}}const bv=`
<script>
  ...
	import { fly } from 'svelte/transition';
	
	let data = initialData
	let enter = false
	
	// Width and heigh which come from graph container 
	// and are passed in as the width and height of the svg
	let w;
	let h;
	const margin = { top: 50, right: 0, bottom: 50, left: 0 }
	$: boundedWidth = w - margin.left - margin.right
	$: boundedHeight = h - margin.top - margin.bottom

	// Scales 
	$: yScale = d3.scalePoint()
		.domain(initialData.map(d => d.id))
		.range([0, boundedHeight])

  // Cat, panda and dog come from the data file; see 'data.js'
	const colourScale = ({
		'cat': '#219ebc',
		'panda': '#ee3e3e',
		'dog': '#6b6065'
		})

	$: radiusScale = d3.scaleLinear()
		.domain(d3.extent(data, d => d.value))
		.range([20, 50])

<\/script>

// Buttons control the 'entering' and update of the data
<div class='buttons'>
	<button on:click={() => { 
		data = initialData
		enter = true 
		}}>Enter data</button>
	<button on:click={() => { 
		data = changedData 
		}}>Update data</button>
</div>
<div
	class="graph-container"
	bind:clientWidth={w}
	bind:clientHeight={h}
>
	<svg width={w} height={h}>
		<g transform='translate({margin.left}, {margin.top})'>
			{#each data as d, i (d.id)} // Make sure to have a keyed each block to ensure transitions work
				{#if enter}
					<circle
						id={d.id}
						in:fly={{ x: -300, duration: 200 * i, delay: 300 }} // Takes care of 'enter'
						out:fly={{x: 200, duration: 100 * i}} // Takes care of 'exit'
						cx={boundedWidth/2}
						cy={i * 80}
						fill={colourScale[d.category]}
						r={radiusScale(d.value)}
					></circle>
				{/if}
			{/each}
		</g>
	</svg>
</div>



<style lang="scss">
	circle {
		transition: all 1s; // Takes care of 'update'
	}
</style>
`;function xv(p){let a;return{c(){a=$("div")},l(i){a=O(i,"DIV",{}),R(a).forEach(m)},m(i,o){B(i,a,o)},p:ie,i:ie,o:ie,d(i){i&&m(a)}}}function yv(p){let a,i;return a=new Ci({props:{language:"javascript",source:bv,showCopyButton:!0}}),{c(){Pe(a.$$.fragment)},l(o){Be(a.$$.fragment,o)},m(o,h){Fe(a,o,h),i=!0},p:ie,i(o){i||(pe(a.$$.fragment,o),i=!0)},o(o){ve(a.$$.fragment,o),i=!1},d(o){Ue(a,o)}}}function Ev(p){let a,i,o,h,g,b;a=new gv({});const f=[yv,xv],x=[];function y(E,C){return 0}return h=y(),g=x[h]=f[h](p),{c(){Pe(a.$$.fragment),i=J(),o=$("div"),g.c(),this.h()},l(E){Be(a.$$.fragment,E),i=Q(E),o=O(E,"DIV",{class:!0});var C=R(o);g.l(C),C.forEach(m),this.h()},h(){P(o,"class","codeblock svelte-knnyit")},m(E,C){Fe(a,E,C),B(E,i,C),B(E,o,C),x[h].m(o,null),b=!0},p(E,C){g.p(E,C)},i(E){b||(pe(a.$$.fragment,E),pe(g),b=!0)},o(E){ve(a.$$.fragment,E),ve(g),b=!1},d(E){Ue(a,E),E&&m(i),E&&m(o),x[h].d()}}}function Sv(p){let a,i;return{c(){a=$("h2"),i=k(p[1]),this.h()},l(o){a=O(o,"H2",{slot:!0,class:!0});var h=R(a);i=M(h,p[1]),h.forEach(m),this.h()},h(){P(a,"slot","title"),P(a,"class","svelte-knnyit")},m(o,h){B(o,a,h),_(a,i)},p(o,h){h&2&&Ei(i,o[1])},d(o){o&&m(a)}}}function Av(p){let a;return{c(){a=$("div"),this.h()},l(i){a=O(i,"DIV",{slot:!0,class:!0});var o=R(a);o.forEach(m),this.h()},h(){P(a,"slot","external-link"),P(a,"class","external-link")},m(i,o){B(i,a,o)},p:ie,d(i){i&&m(a)}}}function Lv(p){let a,i,o,h,g,b;return a=new Ii({props:{internalLink:p[2],date:p[3],$$slots:{"external-link":[Av],title:[Sv],default:[Ev]},$$scope:{ctx:p}}}),g=new wv({}),{c(){Pe(a.$$.fragment),i=J(),o=$("br"),h=J(),Pe(g.$$.fragment)},l(f){Be(a.$$.fragment,f),i=Q(f),o=O(f,"BR",{}),h=Q(f),Be(g.$$.fragment,f)},m(f,x){Fe(a,f,x),B(f,i,x),B(f,o,x),B(f,h,x),Fe(g,f,x),b=!0},p(f,x){const y={};x&4&&(y.internalLink=f[2]),x&8&&(y.date=f[3]),x&66&&(y.$$scope={dirty:x,ctx:f}),a.$set(y)},i(f){b||(pe(a.$$.fragment,f),pe(g.$$.fragment,f),b=!0)},o(f){ve(a.$$.fragment,f),ve(g.$$.fragment,f),b=!1},d(f){Ue(a,f),f&&m(i),f&&m(o),f&&m(h),Ue(g,f)}}}function Tv(p){let a,i;return a=new Ti({props:{id:p[0],$$slots:{default:[Lv]},$$scope:{ctx:p}}}),{c(){Pe(a.$$.fragment)},l(o){Be(a.$$.fragment,o)},m(o,h){Fe(a,o,h),i=!0},p(o,[h]){const g={};h&1&&(g.id=o[0]),h&78&&(g.$$scope={dirty:h,ctx:o}),a.$set(g)},i(o){i||(pe(a.$$.fragment,o),i=!0)},o(o){ve(a.$$.fragment,o),i=!1},d(o){Ue(a,o)}}}function Iv(p,a,i){let{id:o}=a,{sectionTitle:h}=a,{internalLink:g}=a,{externalLink:b}=a,{externalLinkTitle:f}=a,{date:x}=a;return p.$$set=y=>{"id"in y&&i(0,o=y.id),"sectionTitle"in y&&i(1,h=y.sectionTitle),"internalLink"in y&&i(2,g=y.internalLink),"externalLink"in y&&i(4,b=y.externalLink),"externalLinkTitle"in y&&i(5,f=y.externalLinkTitle),"date"in y&&i(3,x=y.date)},[o,h,g,x,b,f]}class Cv extends kt{constructor(a){super(),Mt(this,a,Iv,Tv,Wt,{id:0,sectionTitle:1,internalLink:2,externalLink:4,externalLinkTitle:5,date:3})}}const Dv=[{anchor:"#d3-first-graph-pattern1",title:"D3 in Svelte, the D3 way - Pattern 1"},{anchor:"#d3-first-graph-pattern2",title:"D3 in Svelte, the D3 way - Pattern 2"},{anchor:"#svelte-first-graph-pattern1",title:"D3 in Svelte, the Svelte way - Pattern 1"},{anchor:"#svelte-graph-with-transitions",title:"Svlete with D3 and Svelte Transitions"}];function $v(p){let a,i;return{c(){a=$("h1"),i=k("Graphs"),this.h()},l(o){a=O(o,"H1",{slot:!0});var h=R(a);i=M(h,"Graphs"),h.forEach(m),this.h()},h(){P(a,"slot","title")},m(o,h){B(o,a,h),_(a,i)},p:ie,d(o){o&&m(a)}}}function Ov(p){let a,i,o,h,g,b,f,x,y,E,C,U;return a=new d_({props:{icon:m_,$$slots:{title:[$v]},$$scope:{ctx:p}}}),o=new p_({props:{menuItems:Dv}}),g=new M_({props:{id:"d3-first-graph-pattern1",sectionTitle:"D3 in Svelte, the D3 way - Pattern 1",externalLink:"https://svelte.dev/repl/3840b929acb1406dbb86e88ed85801ab?version=3.48.0",externalLinkTitle:"Svelte repl",internalLink:"https://github.com/reuters-graphics/example_svelte-graph-patterns/tree/main/src/lib/components/graphs/D3FirstGraphPattern1",date:"April 2022"}}),f=new V_({props:{id:"d3-first-graph-pattern2",sectionTitle:"D3 in Svelte, the D3 way - Pattern 2",externalLink:"https://svelte.dev/repl/924317731dab41e6ac808bbce7c1fab3?version=3.48.0",externalLinkTitle:"Svelte repl",internalLink:"https://github.com/reuters-graphics/example_svelte-graph-patterns/tree/main/src/lib/components/graphs/D3FirstGraphPattern2",date:"April 2022"}}),y=new dv({props:{id:"svelte-first-graph-pattern1",sectionTitle:"D3 in Svelte, the Svelte way - Pattern 1",externalLink:"https://svelte.dev/repl/d2fed3e55b0846c79d13cdb82a88510a?version=3.48.0",externalLinkTitle:"Svelte repl",internalLink:"https://github.com/reuters-graphics/example_svelte-graph-patterns/tree/main/src/lib/components/graphs/SvelteFirstGraphPattern1",date:"April 2022"}}),C=new Cv({props:{id:"svelte-graph-with-transitions",sectionTitle:"Svlete with D3 and Svelte Transitions",externalLink:"",externalLinkTitle:"",internalLink:"https://github.com/reuters-graphics/example_svelte-graph-patterns/tree/main/src/lib/components/graphs/SvelteGraphWithTransitions",date:"June 2022"}}),{c(){Pe(a.$$.fragment),i=J(),Pe(o.$$.fragment),h=J(),Pe(g.$$.fragment),b=J(),Pe(f.$$.fragment),x=J(),Pe(y.$$.fragment),E=J(),Pe(C.$$.fragment)},l(A){Be(a.$$.fragment,A),i=Q(A),Be(o.$$.fragment,A),h=Q(A),Be(g.$$.fragment,A),b=Q(A),Be(f.$$.fragment,A),x=Q(A),Be(y.$$.fragment,A),E=Q(A),Be(C.$$.fragment,A)},m(A,W){Fe(a,A,W),B(A,i,W),Fe(o,A,W),B(A,h,W),Fe(g,A,W),B(A,b,W),Fe(f,A,W),B(A,x,W),Fe(y,A,W),B(A,E,W),Fe(C,A,W),U=!0},p(A,[W]){const q={};W&1&&(q.$$scope={dirty:W,ctx:A}),a.$set(q)},i(A){U||(pe(a.$$.fragment,A),pe(o.$$.fragment,A),pe(g.$$.fragment,A),pe(f.$$.fragment,A),pe(y.$$.fragment,A),pe(C.$$.fragment,A),U=!0)},o(A){ve(a.$$.fragment,A),ve(o.$$.fragment,A),ve(g.$$.fragment,A),ve(f.$$.fragment,A),ve(y.$$.fragment,A),ve(C.$$.fragment,A),U=!1},d(A){Ue(a,A),A&&m(i),Ue(o,A),A&&m(h),Ue(g,A),A&&m(b),Ue(f,A),A&&m(x),Ue(y,A),A&&m(E),Ue(C,A)}}}class Nv extends kt{constructor(a){super(),Mt(this,a,null,Ov,Wt,{})}}export{Nv as default};
