var r_=Object.defineProperty;var i_=(g,a,i)=>a in g?r_(g,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):g[a]=i;var Ar=(g,a,i)=>(i_(g,typeof a!="symbol"?a+"":a,i),i);import{S as kt,i as Mt,s as Wt,e as D,t as R,k as J,c as $,a as O,h as k,d as v,m as Q,b as W,g as B,J as _,E as fe,K as Ei,L as Ka,M as bi,w as Pe,x as Be,y as Fe,q as pe,o as ve,B as Ue,j as On,v as a_,N as Dn,O as $n,P as l_,l as wi,Q as s_,R as u_,n as Cu,p as Du,T as yu,U as o_,V as f_,W as h_}from"../../chunks/index-c1ea72d5.js";import"../../chunks/codeblocks-e4ede99b.js";import{s as Ai,a as Si,b as yi,l as Li,m as Za,c as Ya,S as Ti,N as Ii,P as Ci,d as Sr,p as c_,e as d_,M as p_}from"../../chunks/appendSelect-664fcfb9.js";import{l as Lr}from"../../chunks/lodash.default-06a7c2fb.js";import{a as g_,b as __,d as $u,f as xu,e as v_}from"../../chunks/index-0efaa515.js";import{g as m_}from"../../chunks/noun-monitoring-1320561-376ef7f2.js";import"../../chunks/paths-396f020f.js";function w_(g){let a,i,o,f,d,w,h,y,x,E,C,U,S,P,q,ne,ee,V,ge,xe,me,N,z,le,Ze,Ye,Ee,ke,Te,Ne,nt,st,Ie,Se,se,$e,_e,Ce,Qe;return{c(){a=D("p"),i=R(`Minimal example of how to use class-based D3 - rather than Svelte - for DOM manipulation, making sure graph re-drawing/responsiveness 
	only triggers from Svelte when necessary by using reactive statements and declarations.`),o=J(),f=D("h3"),d=R("Main points"),w=J(),h=D("ul"),y=D("li"),x=R(`Width and height of the graph are controlled by the width and height of the graph container,
		which are defined as bound variables in Svelte. They are passed in as graph props, which are defined as
		`),E=D("span"),C=R("reactive declarations"),U=R("."),S=J(),P=D("li"),q=R(`The graph itself is defined entirely in D3, using a class-based graph template (thought it doesn't have to be class-based), 
		together with data and props. 
		`),ne=D("br"),ee=R(`
		To "listen" for updates to the data or props 
		(in this example props only, but it would work the same way with the data),
		we define the graph-drawing logic inside of a `),V=D("span"),ge=R("reactive statement"),xe=R(`.
		Svelte will only run the logic inside of the reactive statement when one or more of the variables 
		that the statement depends on is updated. This will prevent any unnecessary triggers of the 
		graph-drawing logic.`),me=J(),N=D("li"),z=R("This approach doesn't use "),le=D("code"),Ze=R("onMount"),Ye=R(` at all to draw the graph when the graph component's wrapper DOM element is loaded 
		on mount of the component. Instead, we perform a check inside the reactive declaration for the wrapper DOM element. This does 
		essentially the same. 
		`),Ee=D("br"),ke=R(`
		Alternatively, we can call `),Te=D("code"),Ne=R("onMount"),nt=R(` 
		with just the bit of the logic that inserts the svg element into the 
		container DOM element, and then use a reactive declaration for the rest of the logic,
		including passing in reactive props and drawing the graph. 
		`),st=D("br"),Ie=R(`
		The latter approach is more Svelt-y and more 'correct', as it uses `),Se=D("code"),se=R("onMount"),$e=R(`
		as it is intended, namely to perform some action that depends on the component having just mounted. 
		However, I have found the two ways to work identically, and the former to 'look' a little bit cleaner.`),_e=J(),Ce=D("h3"),Qe=R("Code highlights"),this.h()},l(ue){a=$(ue,"P",{class:!0});var he=O(a);i=k(he,`Minimal example of how to use class-based D3 - rather than Svelte - for DOM manipulation, making sure graph re-drawing/responsiveness 
	only triggers from Svelte when necessary by using reactive statements and declarations.`),he.forEach(v),o=Q(ue),f=$(ue,"H3",{});var Me=O(f);d=k(Me,"Main points"),Me.forEach(v),w=Q(ue),h=$(ue,"UL",{});var rt=O(h);y=$(rt,"LI",{});var Oe=O(y);x=k(Oe,`Width and height of the graph are controlled by the width and height of the graph container,
		which are defined as bound variables in Svelte. They are passed in as graph props, which are defined as
		`),E=$(Oe,"SPAN",{class:!0});var it=O(E);C=k(it,"reactive declarations"),it.forEach(v),U=k(Oe,"."),Oe.forEach(v),S=Q(rt),P=$(rt,"LI",{});var De=O(P);q=k(De,`The graph itself is defined entirely in D3, using a class-based graph template (thought it doesn't have to be class-based), 
		together with data and props. 
		`),ne=$(De,"BR",{}),ee=k(De,`
		To "listen" for updates to the data or props 
		(in this example props only, but it would work the same way with the data),
		we define the graph-drawing logic inside of a `),V=$(De,"SPAN",{class:!0});var ut=O(V);ge=k(ut,"reactive statement"),ut.forEach(v),xe=k(De,`.
		Svelte will only run the logic inside of the reactive statement when one or more of the variables 
		that the statement depends on is updated. This will prevent any unnecessary triggers of the 
		graph-drawing logic.`),De.forEach(v),me=Q(rt),N=$(rt,"LI",{});var we=O(N);z=k(we,"This approach doesn't use "),le=$(we,"CODE",{});var St=O(le);Ze=k(St,"onMount"),St.forEach(v),Ye=k(we,` at all to draw the graph when the graph component's wrapper DOM element is loaded 
		on mount of the component. Instead, we perform a check inside the reactive declaration for the wrapper DOM element. This does 
		essentially the same. 
		`),Ee=$(we,"BR",{}),ke=k(we,`
		Alternatively, we can call `),Te=$(we,"CODE",{});var Ge=O(Te);Ne=k(Ge,"onMount"),Ge.forEach(v),nt=k(we,` 
		with just the bit of the logic that inserts the svg element into the 
		container DOM element, and then use a reactive declaration for the rest of the logic,
		including passing in reactive props and drawing the graph. 
		`),st=$(we,"BR",{}),Ie=k(we,`
		The latter approach is more Svelt-y and more 'correct', as it uses `),Se=$(we,"CODE",{});var ot=O(Se);se=k(ot,"onMount"),ot.forEach(v),$e=k(we,`
		as it is intended, namely to perform some action that depends on the component having just mounted. 
		However, I have found the two ways to work identically, and the former to 'look' a little bit cleaner.`),we.forEach(v),rt.forEach(v),_e=Q(ue),Ce=$(ue,"H3",{});var Pt=O(Ce);Qe=k(Pt,"Code highlights"),Pt.forEach(v),this.h()},h(){W(a,"class","summary"),W(E,"class","accent"),W(V,"class","accent")},m(ue,he){B(ue,a,he),_(a,i),B(ue,o,he),B(ue,f,he),_(f,d),B(ue,w,he),B(ue,h,he),_(h,y),_(y,x),_(y,E),_(E,C),_(y,U),_(h,S),_(h,P),_(P,q),_(P,ne),_(P,ee),_(P,V),_(V,ge),_(P,xe),_(h,me),_(h,N),_(N,z),_(N,le),_(le,Ze),_(N,Ye),_(N,Ee),_(N,ke),_(N,Te),_(Te,Ne),_(N,nt),_(N,st),_(N,Ie),_(N,Se),_(Se,se),_(N,$e),B(ue,_e,he),B(ue,Ce,he),_(Ce,Qe)},p:fe,i:fe,o:fe,d(ue){ue&&v(a),ue&&v(o),ue&&v(f),ue&&v(w),ue&&v(h),ue&&v(_e),ue&&v(Ce)}}}class b_ extends kt{constructor(a){super(),Mt(this,a,null,w_,Wt,{})}}let Ga=[{id:"ani",name:"Ani",number:10},{id:"beniko",name:"Beniko",number:20},{id:"clara",name:"Clara",number:5},{id:"dobby",name:"Dobby",number:30},{id:"eli",name:"Eli",number:22},{id:"francisco",name:"Francisco",number:50}];Ga=Lr.sortBy(Ga,g=>g.number).reverse();var y_=Ga;Ai.prototype.appendSelect=Si;class x_{constructor(){Ar(this,"defaultData",[]);Ar(this,"defaultProps",{})}selection(a){return a?(this._selection=yi(a),this):this._selection}data(a){return a?(this._data=a,this):this._data||this.defaultData}props(a){return a?(this._props=Lr.merge(this._props||this.defaultProps,a),this):this._props||this.defaultProps}draw(){const a=this.data(),{width:i,height:o,margin:f,boundedWidth:d,boundedHeight:w,fill:h}=this.props();console.log("logging from draw function",i,o);const y=Li().domain([0,Za(a,U=>U.number)]).range([0,d]),x=Ya().domain(a.map(U=>U.id)).range([0,w]).paddingInner(.3);return this.selection().appendSelect("svg").attr("width",i).attr("height",o).classed("svg",!0).appendSelect("g.plot").attr("transform",`translate(${f.left}, ${f.top})`).selectAll(".bar").data(a,U=>U.id).join("rect").classed("bar",!0).attr("x",0).attr("y",U=>x(U.id)).attr("width",U=>y(U.number)).attr("height",x.bandwidth()).style("fill",h),this}}function E_(g){let a,i,o,f;return{c(){a=D("div"),i=D("div"),o=R("resize window to see responsiveness"),this.h()},l(d){a=$(d,"DIV",{class:!0});var w=O(a);i=$(w,"DIV",{class:!0});var h=O(i);o=k(h,"resize window to see responsiveness"),h.forEach(v),w.forEach(v),this.h()},h(){W(i,"class","graph-note svelte-1mwpgsz"),W(a,"class","graph-container svelte-1mwpgsz"),Ei(()=>g[6].call(a))},m(d,w){B(d,a,w),_(a,i),_(i,o),f=Ka(a,g[6].bind(a)),g[7](a)},p:fe,i:fe,o:fe,d(d){d&&v(a),f(),g[7](null)}}}function A_(g,a,i){let o,f,d,w,h;const y={top:50,right:20,bottom:30,left:60};let x;const E=new x_;function C(){w=this.clientWidth,h=this.clientHeight,i(0,w),i(1,h)}function U(S){bi[S?"unshift":"push"](()=>{x=S,i(2,x)})}return g.$$.update=()=>{g.$$.dirty&1&&i(5,o=w-y.left-y.right),g.$$.dirty&2&&i(4,f=h-y.top-y.bottom),g.$$.dirty&51&&i(3,d={width:w,height:h,margin:y,boundedWidth:o,boundedHeight:f,fill:w>=500?"#6b6065":"#ee3e3e"}),g.$$.dirty&12&&x&&E.selection(x).data(y_).props(d).draw()},[w,h,x,d,f,o,C,U]}class S_ extends kt{constructor(a){super(),Mt(this,a,A_,E_,Wt,{})}}const L_=`
<script>
  ...
  // 1. Define variables for the dimensions, which are bound to the container
  let w;
  let h;
  const margin = { top: 50, right: 20, bottom: 30, left: 60 }
  $: boundedWidth = w - margin.left - margin.right // derive based on width and margin
  $: boundedHeight = h - margin.top - margin.bottom // derive based on height and margin

  // 2. Define the graph props in a reactive declaration
  $: props = {
    width: w,
    height: h,
    margin: margin,
    boundedWidth: boundedWidth,
    boundedHeight: boundedHeight,
    fill: w >= 500 ? '#6b6065' : '#8a4b97' // responsive as well
  }

  // 3. Initialise the graph and the bound container into which it is inserted
  let graphContainer; // will become non-null when DOM mounts
  const graph = new Graph()

  // 4. Wrap the graph-drawing logic inside a reactive statement
  // making sure to check that the DOM element for graphContainer exists
  // We don't need to use onMount or afterUpdate that way
  $: if (graphContainer) {
      graph
        .selection(graphContainer)
        .data(data)
        .props(props)
        .draw()
  }
  ...
<script>

<div
    class="graph-container"
    bind:clientWidth={w}
    bind:clientHeight={h}
    bind:this={graphContainer}
  >
</div>
`;function T_(g){let a;return{c(){a=D("div")},l(i){a=$(i,"DIV",{}),O(a).forEach(v)},m(i,o){B(i,a,o)},p:fe,i:fe,o:fe,d(i){i&&v(a)}}}function I_(g){let a,i;return a=new Ci({props:{language:"javascript",source:L_,showCopyButton:!0}}),{c(){Pe(a.$$.fragment)},l(o){Be(a.$$.fragment,o)},m(o,f){Fe(a,o,f),i=!0},p:fe,i(o){i||(pe(a.$$.fragment,o),i=!0)},o(o){ve(a.$$.fragment,o),i=!1},d(o){Ue(a,o)}}}function C_(g){let a,i,o,f,d,w;a=new b_({});const h=[I_,T_],y=[];function x(E,C){return 0}return f=x(),d=y[f]=h[f](g),{c(){Pe(a.$$.fragment),i=J(),o=D("div"),d.c(),this.h()},l(E){Be(a.$$.fragment,E),i=Q(E),o=$(E,"DIV",{class:!0});var C=O(o);d.l(C),C.forEach(v),this.h()},h(){W(o,"class","codeblock svelte-knnyit")},m(E,C){Fe(a,E,C),B(E,i,C),B(E,o,C),y[f].m(o,null),w=!0},p(E,C){d.p(E,C)},i(E){w||(pe(a.$$.fragment,E),pe(d),w=!0)},o(E){ve(a.$$.fragment,E),ve(d),w=!1},d(E){Ue(a,E),E&&v(i),E&&v(o),y[f].d()}}}function D_(g){let a,i;return{c(){a=D("h2"),i=R(g[1]),this.h()},l(o){a=$(o,"H2",{slot:!0,class:!0});var f=O(a);i=k(f,g[1]),f.forEach(v),this.h()},h(){W(a,"slot","title"),W(a,"class","svelte-knnyit")},m(o,f){B(o,a,f),_(a,i)},p(o,f){f&2&&On(i,o[1])},d(o){o&&v(a)}}}function $_(g){let a,i,o;return{c(){a=D("div"),i=D("a"),o=R(g[4]),this.h()},l(f){a=$(f,"DIV",{slot:!0,class:!0});var d=O(a);i=$(d,"A",{href:!0});var w=O(i);o=k(w,g[4]),w.forEach(v),d.forEach(v),this.h()},h(){W(i,"href",g[3]),W(a,"slot","external-link"),W(a,"class","external-link")},m(f,d){B(f,a,d),_(a,i),_(i,o)},p(f,d){d&16&&On(o,f[4]),d&8&&W(i,"href",f[3])},d(f){f&&v(a)}}}function O_(g){let a,i,o,f,d,w;return a=new Ii({props:{internalLink:g[2],date:g[5],$$slots:{"external-link":[$_],title:[D_],default:[C_]},$$scope:{ctx:g}}}),d=new S_({}),{c(){Pe(a.$$.fragment),i=J(),o=D("br"),f=J(),Pe(d.$$.fragment)},l(h){Be(a.$$.fragment,h),i=Q(h),o=$(h,"BR",{}),f=Q(h),Be(d.$$.fragment,h)},m(h,y){Fe(a,h,y),B(h,i,y),B(h,o,y),B(h,f,y),Fe(d,h,y),w=!0},p(h,y){const x={};y&4&&(x.internalLink=h[2]),y&32&&(x.date=h[5]),y&90&&(x.$$scope={dirty:y,ctx:h}),a.$set(x)},i(h){w||(pe(a.$$.fragment,h),pe(d.$$.fragment,h),w=!0)},o(h){ve(a.$$.fragment,h),ve(d.$$.fragment,h),w=!1},d(h){Ue(a,h),h&&v(i),h&&v(o),h&&v(f),Ue(d,h)}}}function R_(g){let a,i;return a=new Ti({props:{id:g[0],$$slots:{default:[O_]},$$scope:{ctx:g}}}),{c(){Pe(a.$$.fragment)},l(o){Be(a.$$.fragment,o)},m(o,f){Fe(a,o,f),i=!0},p(o,[f]){const d={};f&1&&(d.id=o[0]),f&126&&(d.$$scope={dirty:f,ctx:o}),a.$set(d)},i(o){i||(pe(a.$$.fragment,o),i=!0)},o(o){ve(a.$$.fragment,o),i=!1},d(o){Ue(a,o)}}}function k_(g,a,i){let{id:o}=a,{sectionTitle:f}=a,{internalLink:d}=a,{externalLink:w}=a,{externalLinkTitle:h}=a,{date:y}=a;return g.$$set=x=>{"id"in x&&i(0,o=x.id),"sectionTitle"in x&&i(1,f=x.sectionTitle),"internalLink"in x&&i(2,d=x.internalLink),"externalLink"in x&&i(3,w=x.externalLink),"externalLinkTitle"in x&&i(4,h=x.externalLinkTitle),"date"in x&&i(5,y=x.date)},[o,f,d,w,h,y]}class M_ extends kt{constructor(a){super(),Mt(this,a,k_,R_,Wt,{id:0,sectionTitle:1,internalLink:2,externalLink:3,externalLinkTitle:4,date:5})}}function W_(g){let a,i,o,f,d,w,h,y,x,E,C,U,S,P,q,ne,ee,V,ge,xe,me,N,z,le,Ze,Ye,Ee,ke,Te,Ne,nt,st,Ie,Se,se,$e,_e,Ce,Qe,ue,he,Me,rt,Oe,it,De,ut,we,St,Ge,ot,Pt,be,Ve,vn,tt,Xe,wt,Xt,Bt,bt,Jt,Ft;return{c(){a=D("p"),i=R(`Minimal example of how to use class-based D3 - rather than Svelte - for DOM manipulation. 
  Similar to above, but instead of using reactive statements and declarations from Svelte, we use `),o=D("code"),f=R("onMount"),d=R(`,
  together with a resize event.`),w=J(),h=D("h3"),y=R("Main points"),x=J(),E=D("ul"),C=D("li"),U=R("Instead of binding the "),S=D("code"),P=R("clientWidth"),q=R(" and "),ne=D("code"),ee=R("clientHeight"),V=R(` of the container div of 
    the graph to variables which are then passed as props to the graph, we use don't pass any width and height related props, 
    but instead get them from inside the graph-drawing logic with 
    `),ge=D("br"),xe=J(),me=D("code"),N=R("const width = container.getBoundingClientRect().width"),z=J(),le=D("li"),Ze=R("Thus, instead of having reactive props, the props passed to the graph only contain constants."),Ye=J(),Ee=D("li"),ke=R("The "),Te=D("span"),Ne=R("graph is initialised from "),nt=D("code"),st=R("onMount"),Ie=R(`, and because the responsive
    width and height are no longer passed in as props, we need a 
    `),Se=D("span"),se=R("separate resize event listener"),$e=R(" to be able to update the graph based on the dimensions of the container, if we want it to be responsive."),_e=J(),Ce=D("h3"),Qe=R("Disadvantages to reactive declaration approach"),ue=J(),he=D("ul"),Me=D("li"),rt=R(`If anything needed to update 
      in the graph because of updating data or props, 
      we would `),Oe=D("span"),it=R("need to put the graph-drawing logic in an "),De=D("code"),ut=R("afterUpdate"),we=R(" as well"),St=R(`. 
      This might be ok if the changing variables only change very rarely, but not ok when they update continously, 
      as is the case for example with a scroller. 
      The reason for that is that the `),Ge=D("code"),ot=R("afterUpdate"),Pt=R(` logic will fire more often that needed. 
      When all the graph-drawing logic is placed in a reactive statement, this will only fire when one of the variables that the statement includes has updated.`),be=J(),Ve=D("li"),vn=R(`We need to write an extra event listener for resize and do not very Svelt-y code inside 
    the graph logic like 
    `),tt=D("br"),Xe=J(),wt=D("code"),Xt=R("const width = container.getBoundingClientRect().width"),Bt=R(` when we 
    could instead just bind the container's dimensions to variables which are then passed as props to the graph, 
    making it both cleaner and eliminating the need to use a resize event.`),bt=J(),Jt=D("h3"),Ft=R("Code highlights"),this.h()},l(X){a=$(X,"P",{class:!0});var qe=O(a);i=k(qe,`Minimal example of how to use class-based D3 - rather than Svelte - for DOM manipulation. 
  Similar to above, but instead of using reactive statements and declarations from Svelte, we use `),o=$(qe,"CODE",{});var an=O(o);f=k(an,"onMount"),an.forEach(v),d=k(qe,`,
  together with a resize event.`),qe.forEach(v),w=Q(X),h=$(X,"H3",{});var Lt=O(h);y=k(Lt,"Main points"),Lt.forEach(v),x=Q(X),E=$(X,"UL",{});var Tt=O(E);C=$(Tt,"LI",{});var dt=O(C);U=k(dt,"Instead of binding the "),S=$(dt,"CODE",{});var Ut=O(S);P=k(Ut,"clientWidth"),Ut.forEach(v),q=k(dt," and "),ne=$(dt,"CODE",{});var ln=O(ne);ee=k(ln,"clientHeight"),ln.forEach(v),V=k(dt,` of the container div of 
    the graph to variables which are then passed as props to the graph, we use don't pass any width and height related props, 
    but instead get them from inside the graph-drawing logic with 
    `),ge=$(dt,"BR",{}),xe=Q(dt),me=$(dt,"CODE",{});var sn=O(me);N=k(sn,"const width = container.getBoundingClientRect().width"),sn.forEach(v),dt.forEach(v),z=Q(Tt),le=$(Tt,"LI",{});var Hn=O(le);Ze=k(Hn,"Thus, instead of having reactive props, the props passed to the graph only contain constants."),Hn.forEach(v),Ye=Q(Tt),Ee=$(Tt,"LI",{});var mn=O(Ee);ke=k(mn,"The "),Te=$(mn,"SPAN",{class:!0});var ar=O(Te);Ne=k(ar,"graph is initialised from "),nt=$(ar,"CODE",{});var Tr=O(nt);st=k(Tr,"onMount"),Tr.forEach(v),ar.forEach(v),Ie=k(mn,`, and because the responsive
    width and height are no longer passed in as props, we need a 
    `),Se=$(mn,"SPAN",{class:!0});var lr=O(Se);se=k(lr,"separate resize event listener"),lr.forEach(v),$e=k(mn," to be able to update the graph based on the dimensions of the container, if we want it to be responsive."),mn.forEach(v),Tt.forEach(v),_e=Q(X),Ce=$(X,"H3",{});var sr=O(Ce);Qe=k(sr,"Disadvantages to reactive declaration approach"),sr.forEach(v),ue=Q(X),he=$(X,"UL",{});var Gn=O(he);Me=$(Gn,"LI",{});var wn=O(Me);rt=k(wn,`If anything needed to update 
      in the graph because of updating data or props, 
      we would `),Oe=$(wn,"SPAN",{class:!0});var zn=O(Oe);it=k(zn,"need to put the graph-drawing logic in an "),De=$(zn,"CODE",{});var Ir=O(De);ut=k(Ir,"afterUpdate"),Ir.forEach(v),we=k(zn," as well"),zn.forEach(v),St=k(wn,`. 
      This might be ok if the changing variables only change very rarely, but not ok when they update continously, 
      as is the case for example with a scroller. 
      The reason for that is that the `),Ge=$(wn,"CODE",{});var ur=O(Ge);ot=k(ur,"afterUpdate"),ur.forEach(v),Pt=k(wn,` logic will fire more often that needed. 
      When all the graph-drawing logic is placed in a reactive statement, this will only fire when one of the variables that the statement includes has updated.`),wn.forEach(v),be=Q(Gn),Ve=$(Gn,"LI",{});var bn=O(Ve);vn=k(bn,`We need to write an extra event listener for resize and do not very Svelt-y code inside 
    the graph logic like 
    `),tt=$(bn,"BR",{}),Xe=Q(bn),wt=$(bn,"CODE",{});var Cr=O(wt);Xt=k(Cr,"const width = container.getBoundingClientRect().width"),Cr.forEach(v),Bt=k(bn,` when we 
    could instead just bind the container's dimensions to variables which are then passed as props to the graph, 
    making it both cleaner and eliminating the need to use a resize event.`),bn.forEach(v),Gn.forEach(v),bt=Q(X),Jt=$(X,"H3",{});var Dr=O(Jt);Ft=k(Dr,"Code highlights"),Dr.forEach(v),this.h()},h(){W(a,"class","summary"),W(Te,"class","accent"),W(Se,"class","accent"),W(Oe,"class","accent")},m(X,qe){B(X,a,qe),_(a,i),_(a,o),_(o,f),_(a,d),B(X,w,qe),B(X,h,qe),_(h,y),B(X,x,qe),B(X,E,qe),_(E,C),_(C,U),_(C,S),_(S,P),_(C,q),_(C,ne),_(ne,ee),_(C,V),_(C,ge),_(C,xe),_(C,me),_(me,N),_(E,z),_(E,le),_(le,Ze),_(E,Ye),_(E,Ee),_(Ee,ke),_(Ee,Te),_(Te,Ne),_(Te,nt),_(nt,st),_(Ee,Ie),_(Ee,Se),_(Se,se),_(Ee,$e),B(X,_e,qe),B(X,Ce,qe),_(Ce,Qe),B(X,ue,qe),B(X,he,qe),_(he,Me),_(Me,rt),_(Me,Oe),_(Oe,it),_(Oe,De),_(De,ut),_(Oe,we),_(Me,St),_(Me,Ge),_(Ge,ot),_(Me,Pt),_(he,be),_(he,Ve),_(Ve,vn),_(Ve,tt),_(Ve,Xe),_(Ve,wt),_(wt,Xt),_(Ve,Bt),B(X,bt,qe),B(X,Jt,qe),_(Jt,Ft)},p:fe,i:fe,o:fe,d(X){X&&v(a),X&&v(w),X&&v(h),X&&v(x),X&&v(E),X&&v(_e),X&&v(Ce),X&&v(ue),X&&v(he),X&&v(bt),X&&v(Jt)}}}class P_ extends kt{constructor(a){super(),Mt(this,a,null,W_,Wt,{})}}let za=[{id:"ani",name:"Ani",number:10},{id:"beniko",name:"Beniko",number:20},{id:"clara",name:"Clara",number:5},{id:"dobby",name:"Dobby",number:30},{id:"eli",name:"Eli",number:22},{id:"francisco",name:"Francisco",number:50}];za=Lr.sortBy(za,g=>g.number).reverse();var B_=za;Ai.prototype.appendSelect=Si;class F_{constructor(){Ar(this,"defaultData",[]);Ar(this,"defaultProps",{})}selection(a){return a?(this._selection=yi(a),this):this._selection}data(a){return a?(this._data=a,this):this._data||this.defaultData}props(a){return a?(this._props=Lr.merge(this._props||this.defaultProps,a),this):this._props||this.defaultProps}draw(){const a=this.data();let{margin:i,fill:o}=this.props();const f=this.selection().node(),{width:d,height:w}=f.getBoundingClientRect(),h=d-i.left-i.right,y=w-i.top-i.bottom;o=d>=500?"#6b6065":"#ee3e3e";const x=Li().domain([0,Za(a,S=>S.number)]).range([0,h]),E=Ya().domain(a.map(S=>S.id)).range([0,y]).paddingInner(.3);return this.selection().appendSelect("svg").attr("width",d).attr("height",w).classed("svg",!0).appendSelect("g.plot").attr("transform",`translate(${i.left}, ${i.top})`).selectAll(".bar").data(a,S=>S.id).join("rect").classed("bar",!0).attr("x",0).attr("y",S=>E(S.id)).attr("width",S=>x(S.number)).attr("height",E.bandwidth()).style("fill",o),this}}function U_(g){let a,i,o;return{c(){a=D("div"),i=D("div"),o=R("resize window to see responsiveness"),this.h()},l(f){a=$(f,"DIV",{class:!0});var d=O(a);i=$(d,"DIV",{class:!0});var w=O(i);o=k(w,"resize window to see responsiveness"),w.forEach(v),d.forEach(v),this.h()},h(){W(i,"class","graph-note svelte-1mwpgsz"),W(a,"class","graph-container svelte-1mwpgsz")},m(f,d){B(f,a,d),_(a,i),_(i,o),g[1](a)},p:fe,i:fe,o:fe,d(f){f&&v(a),g[1](null)}}}function N_(g,a,i){const o={margin:{top:50,right:20,bottom:30,left:60}};let f;const d=new F_,w=()=>d.draw();a_(()=>(d.selection(f).data(B_).props(o).draw(),window&&window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}));function h(y){bi[y?"unshift":"push"](()=>{f=y,i(0,f)})}return[f,h]}class H_ extends kt{constructor(a){super(),Mt(this,a,N_,U_,Wt,{})}}const G_=`
  // From the Graph.svelte file
  <script>
    ...
    
    // 1. Define any graph props - not reactive in this case, just constants
    const props = {
      margin: { top: 50, right: 20, bottom: 30, left: 60 },
    }
    
    // 2. Initialise the graph and the bound container into which it is injected
    let graphContainer;
    const graph = new Graph()

    // 3. Define resize event; Note that the logic for changing the graph 
    // based on width is inside the draw method of the graph class itself
    const resize = () => graph.draw();

    // 4. Draw the graph on mount and add event listener for resize
    onMount(() => {
      graph.selection(graphContainer).data(data).props(props).draw();
      if (window) window.addEventListener('resize', resize);
      return () => {
        window.removeEventListener('resize', resize);
      };
    });
    
    // 4. If any of the props passed to the graph change 
    // we'd also need an afterUpdate or a reactive declaration 

    ...
  <\/script>

  <div class="graph-container" bind:this={graphContainer}></div>

  // From the Graph.js file
  ...
  draw() {
    const data = this.data();
    let { margin, fill } = this.props();
    const container = this.selection().node();
    const { width, height } = container.getBoundingClientRect(); 
    const boundedWidth = width - margin.left - margin.right;
    const boundedHeight = height - margin.top - margin.bottom;
    fill = width >= 500 ? '#6b6065' : '#ee3e3e'
    ...
  }
  ...
`;function z_(g){let a;return{c(){a=D("div")},l(i){a=$(i,"DIV",{}),O(a).forEach(v)},m(i,o){B(i,a,o)},p:fe,i:fe,o:fe,d(i){i&&v(a)}}}function q_(g){let a,i;return a=new Ci({props:{language:"javascript",source:G_,showCopyButton:!0}}),{c(){Pe(a.$$.fragment)},l(o){Be(a.$$.fragment,o)},m(o,f){Fe(a,o,f),i=!0},p:fe,i(o){i||(pe(a.$$.fragment,o),i=!0)},o(o){ve(a.$$.fragment,o),i=!1},d(o){Ue(a,o)}}}function K_(g){let a,i,o,f,d,w;a=new P_({});const h=[q_,z_],y=[];function x(E,C){return 0}return f=x(),d=y[f]=h[f](g),{c(){Pe(a.$$.fragment),i=J(),o=D("div"),d.c(),this.h()},l(E){Be(a.$$.fragment,E),i=Q(E),o=$(E,"DIV",{class:!0});var C=O(o);d.l(C),C.forEach(v),this.h()},h(){W(o,"class","codeblock svelte-knnyit")},m(E,C){Fe(a,E,C),B(E,i,C),B(E,o,C),y[f].m(o,null),w=!0},p(E,C){d.p(E,C)},i(E){w||(pe(a.$$.fragment,E),pe(d),w=!0)},o(E){ve(a.$$.fragment,E),ve(d),w=!1},d(E){Ue(a,E),E&&v(i),E&&v(o),y[f].d()}}}function Z_(g){let a,i;return{c(){a=D("h2"),i=R(g[1]),this.h()},l(o){a=$(o,"H2",{slot:!0,class:!0});var f=O(a);i=k(f,g[1]),f.forEach(v),this.h()},h(){W(a,"slot","title"),W(a,"class","svelte-knnyit")},m(o,f){B(o,a,f),_(a,i)},p(o,f){f&2&&On(i,o[1])},d(o){o&&v(a)}}}function Y_(g){let a,i,o;return{c(){a=D("div"),i=D("a"),o=R(g[4]),this.h()},l(f){a=$(f,"DIV",{slot:!0,class:!0});var d=O(a);i=$(d,"A",{href:!0});var w=O(i);o=k(w,g[4]),w.forEach(v),d.forEach(v),this.h()},h(){W(i,"href",g[3]),W(a,"slot","external-link"),W(a,"class","external-link")},m(f,d){B(f,a,d),_(a,i),_(i,o)},p(f,d){d&16&&On(o,f[4]),d&8&&W(i,"href",f[3])},d(f){f&&v(a)}}}function X_(g){let a,i,o,f,d,w;return a=new Ii({props:{internalLink:g[2],date:g[5],$$slots:{"external-link":[Y_],title:[Z_],default:[K_]},$$scope:{ctx:g}}}),d=new H_({}),{c(){Pe(a.$$.fragment),i=J(),o=D("br"),f=J(),Pe(d.$$.fragment)},l(h){Be(a.$$.fragment,h),i=Q(h),o=$(h,"BR",{}),f=Q(h),Be(d.$$.fragment,h)},m(h,y){Fe(a,h,y),B(h,i,y),B(h,o,y),B(h,f,y),Fe(d,h,y),w=!0},p(h,y){const x={};y&4&&(x.internalLink=h[2]),y&32&&(x.date=h[5]),y&90&&(x.$$scope={dirty:y,ctx:h}),a.$set(x)},i(h){w||(pe(a.$$.fragment,h),pe(d.$$.fragment,h),w=!0)},o(h){ve(a.$$.fragment,h),ve(d.$$.fragment,h),w=!1},d(h){Ue(a,h),h&&v(i),h&&v(o),h&&v(f),Ue(d,h)}}}function J_(g){let a,i;return a=new Ti({props:{id:g[0],$$slots:{default:[X_]},$$scope:{ctx:g}}}),{c(){Pe(a.$$.fragment)},l(o){Be(a.$$.fragment,o)},m(o,f){Fe(a,o,f),i=!0},p(o,[f]){const d={};f&1&&(d.id=o[0]),f&126&&(d.$$scope={dirty:f,ctx:o}),a.$set(d)},i(o){i||(pe(a.$$.fragment,o),i=!0)},o(o){ve(a.$$.fragment,o),i=!1},d(o){Ue(a,o)}}}function Q_(g,a,i){let{id:o}=a,{sectionTitle:f}=a,{internalLink:d}=a,{externalLink:w}=a,{externalLinkTitle:h}=a,{date:y}=a;return g.$$set=x=>{"id"in x&&i(0,o=x.id),"sectionTitle"in x&&i(1,f=x.sectionTitle),"internalLink"in x&&i(2,d=x.internalLink),"externalLink"in x&&i(3,w=x.externalLink),"externalLinkTitle"in x&&i(4,h=x.externalLinkTitle),"date"in x&&i(5,y=x.date)},[o,f,d,w,h,y]}class V_ extends kt{constructor(a){super(),Mt(this,a,Q_,J_,Wt,{id:0,sectionTitle:1,internalLink:2,externalLink:3,externalLinkTitle:4,date:5})}}function j_(g){let a,i,o,f,d,w,h,y,x,E,C,U,S,P,q,ne,ee,V,ge,xe,me,N,z,le,Ze,Ye,Ee,ke,Te,Ne,nt,st,Ie,Se;return{c(){a=D("p"),i=R(`Minimal example of how to use Svelte for svg graphs, using D3 only for helper functions (e.g. scales) and for axes. 
  Graph is responsive based on the width of the container and uses only reactive declarations and statements.`),o=J(),f=D("h3"),d=R("Main points"),w=J(),h=D("ul"),y=D("li"),x=R(`Width and height of the graph are based on the width and height of the container, which we obtain with 
    Svelte binding, e.g. `),E=D("code"),C=R("bind:clientWidth=w"),U=R(`. These are also used to based other values on, such as 
    fill, and make them responsive.`),S=J(),P=D("li"),q=D("span"),ne=R("Scales and axes"),ee=R(" are defined as "),V=D("span"),ge=R("reactive declarations"),xe=R(` as they depend on the 
    width and height (w and h variables).`),me=J(),N=D("li"),z=D("span"),le=R("Axes are called on a bound group element inside a reactive statement"),Ze=R("."),Ye=J(),Ee=D("li"),ke=R(`All the graph-drawing logic happens declaratively in the DOM, and the data is looped-over with a 
    Svelte `),Te=D("code"),Ne=R("each"),nt=R(" statement."),st=J(),Ie=D("h3"),Se=R("Code highlights"),this.h()},l(se){a=$(se,"P",{class:!0});var $e=O(a);i=k($e,`Minimal example of how to use Svelte for svg graphs, using D3 only for helper functions (e.g. scales) and for axes. 
  Graph is responsive based on the width of the container and uses only reactive declarations and statements.`),$e.forEach(v),o=Q(se),f=$(se,"H3",{});var _e=O(f);d=k(_e,"Main points"),_e.forEach(v),w=Q(se),h=$(se,"UL",{});var Ce=O(h);y=$(Ce,"LI",{});var Qe=O(y);x=k(Qe,`Width and height of the graph are based on the width and height of the container, which we obtain with 
    Svelte binding, e.g. `),E=$(Qe,"CODE",{});var ue=O(E);C=k(ue,"bind:clientWidth=w"),ue.forEach(v),U=k(Qe,`. These are also used to based other values on, such as 
    fill, and make them responsive.`),Qe.forEach(v),S=Q(Ce),P=$(Ce,"LI",{});var he=O(P);q=$(he,"SPAN",{class:!0});var Me=O(q);ne=k(Me,"Scales and axes"),Me.forEach(v),ee=k(he," are defined as "),V=$(he,"SPAN",{class:!0});var rt=O(V);ge=k(rt,"reactive declarations"),rt.forEach(v),xe=k(he,` as they depend on the 
    width and height (w and h variables).`),he.forEach(v),me=Q(Ce),N=$(Ce,"LI",{});var Oe=O(N);z=$(Oe,"SPAN",{class:!0});var it=O(z);le=k(it,"Axes are called on a bound group element inside a reactive statement"),it.forEach(v),Ze=k(Oe,"."),Oe.forEach(v),Ye=Q(Ce),Ee=$(Ce,"LI",{});var De=O(Ee);ke=k(De,`All the graph-drawing logic happens declaratively in the DOM, and the data is looped-over with a 
    Svelte `),Te=$(De,"CODE",{});var ut=O(Te);Ne=k(ut,"each"),ut.forEach(v),nt=k(De," statement."),De.forEach(v),Ce.forEach(v),st=Q(se),Ie=$(se,"H3",{});var we=O(Ie);Se=k(we,"Code highlights"),we.forEach(v),this.h()},h(){W(a,"class","summary"),W(q,"class","accent"),W(V,"class","accent"),W(z,"class","accent")},m(se,$e){B(se,a,$e),_(a,i),B(se,o,$e),B(se,f,$e),_(f,d),B(se,w,$e),B(se,h,$e),_(h,y),_(y,x),_(y,E),_(E,C),_(y,U),_(h,S),_(h,P),_(P,q),_(q,ne),_(P,ee),_(P,V),_(V,ge),_(P,xe),_(h,me),_(h,N),_(N,z),_(z,le),_(N,Ze),_(h,Ye),_(h,Ee),_(Ee,ke),_(Ee,Te),_(Te,Ne),_(Ee,nt),B(se,st,$e),B(se,Ie,$e),_(Ie,Se)},p:fe,i:fe,o:fe,d(se){se&&v(a),se&&v(o),se&&v(f),se&&v(w),se&&v(h),se&&v(st),se&&v(Ie)}}}class ev extends kt{constructor(a){super(),Mt(this,a,null,j_,Wt,{})}}var Eu={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(g,a){(function(){var i,o="4.17.21",f=200,d="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",w="Expected a function",h="Invalid `variable` option passed into `_.template`",y="__lodash_hash_undefined__",x=500,E="__lodash_placeholder__",C=1,U=2,S=4,P=1,q=2,ne=1,ee=2,V=4,ge=8,xe=16,me=32,N=64,z=128,le=256,Ze=512,Ye=30,Ee="...",ke=800,Te=16,Ne=1,nt=2,st=3,Ie=1/0,Se=9007199254740991,se=17976931348623157e292,$e=0/0,_e=4294967295,Ce=_e-1,Qe=_e>>>1,ue=[["ary",z],["bind",ne],["bindKey",ee],["curry",ge],["curryRight",xe],["flip",Ze],["partial",me],["partialRight",N],["rearg",le]],he="[object Arguments]",Me="[object Array]",rt="[object AsyncFunction]",Oe="[object Boolean]",it="[object Date]",De="[object DOMException]",ut="[object Error]",we="[object Function]",St="[object GeneratorFunction]",Ge="[object Map]",ot="[object Number]",Pt="[object Null]",be="[object Object]",Ve="[object Promise]",vn="[object Proxy]",tt="[object RegExp]",Xe="[object Set]",wt="[object String]",Xt="[object Symbol]",Bt="[object Undefined]",bt="[object WeakMap]",Jt="[object WeakSet]",Ft="[object ArrayBuffer]",X="[object DataView]",qe="[object Float32Array]",an="[object Float64Array]",Lt="[object Int8Array]",Tt="[object Int16Array]",dt="[object Int32Array]",Ut="[object Uint8Array]",ln="[object Uint8ClampedArray]",sn="[object Uint16Array]",Hn="[object Uint32Array]",mn=/\b__p \+= '';/g,ar=/\b(__p \+=) '' \+/g,Tr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,lr=/&(?:amp|lt|gt|quot|#39);/g,sr=/[&<>"']/g,Gn=RegExp(lr.source),wn=RegExp(sr.source),zn=/<%-([\s\S]+?)%>/g,Ir=/<%([\s\S]+?)%>/g,ur=/<%=([\s\S]+?)%>/g,bn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Cr=/^\w*$/,Dr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Di=/[\\^$.*+?()[\]{}|]/g,Ou=RegExp(Di.source),$i=/^\s+/,Ru=/\s/,ku=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Mu=/\{\n\/\* \[wrapped with (.+)\] \*/,Wu=/,? & /,Pu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bu=/[()=,{}\[\]\/\s]/,Fu=/\\(\\)?/g,Uu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xa=/\w*$/,Nu=/^[-+]0x[0-9a-f]+$/i,Hu=/^0b[01]+$/i,Gu=/^\[object .+?Constructor\]$/,zu=/^0o[0-7]+$/i,qu=/^(?:0|[1-9]\d*)$/,Ku=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$r=/($^)/,Zu=/['\n\r\u2028\u2029\\]/g,Or="\\ud800-\\udfff",Yu="\\u0300-\\u036f",Xu="\\ufe20-\\ufe2f",Ju="\\u20d0-\\u20ff",Ja=Yu+Xu+Ju,Qa="\\u2700-\\u27bf",Va="a-z\\xdf-\\xf6\\xf8-\\xff",Qu="\\xac\\xb1\\xd7\\xf7",Vu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ju="\\u2000-\\u206f",eo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ja="A-Z\\xc0-\\xd6\\xd8-\\xde",el="\\ufe0e\\ufe0f",tl=Qu+Vu+ju+eo,Oi="['\u2019]",to="["+Or+"]",nl="["+tl+"]",Rr="["+Ja+"]",rl="\\d+",no="["+Qa+"]",il="["+Va+"]",al="[^"+Or+tl+rl+Qa+Va+ja+"]",Ri="\\ud83c[\\udffb-\\udfff]",ro="(?:"+Rr+"|"+Ri+")",ll="[^"+Or+"]",ki="(?:\\ud83c[\\udde6-\\uddff]){2}",Mi="[\\ud800-\\udbff][\\udc00-\\udfff]",qn="["+ja+"]",sl="\\u200d",ul="(?:"+il+"|"+al+")",io="(?:"+qn+"|"+al+")",ol="(?:"+Oi+"(?:d|ll|m|re|s|t|ve))?",fl="(?:"+Oi+"(?:D|LL|M|RE|S|T|VE))?",hl=ro+"?",cl="["+el+"]?",ao="(?:"+sl+"(?:"+[ll,ki,Mi].join("|")+")"+cl+hl+")*",lo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",so="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",dl=cl+hl+ao,uo="(?:"+[no,ki,Mi].join("|")+")"+dl,oo="(?:"+[ll+Rr+"?",Rr,ki,Mi,to].join("|")+")",fo=RegExp(Oi,"g"),ho=RegExp(Rr,"g"),Wi=RegExp(Ri+"(?="+Ri+")|"+oo+dl,"g"),co=RegExp([qn+"?"+il+"+"+ol+"(?="+[nl,qn,"$"].join("|")+")",io+"+"+fl+"(?="+[nl,qn+ul,"$"].join("|")+")",qn+"?"+ul+"+"+ol,qn+"+"+fl,so,lo,rl,uo].join("|"),"g"),po=RegExp("["+sl+Or+Ja+el+"]"),go=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_o=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],vo=-1,He={};He[qe]=He[an]=He[Lt]=He[Tt]=He[dt]=He[Ut]=He[ln]=He[sn]=He[Hn]=!0,He[he]=He[Me]=He[Ft]=He[Oe]=He[X]=He[it]=He[ut]=He[we]=He[Ge]=He[ot]=He[be]=He[tt]=He[Xe]=He[wt]=He[bt]=!1;var We={};We[he]=We[Me]=We[Ft]=We[X]=We[Oe]=We[it]=We[qe]=We[an]=We[Lt]=We[Tt]=We[dt]=We[Ge]=We[ot]=We[be]=We[tt]=We[Xe]=We[wt]=We[Xt]=We[Ut]=We[ln]=We[sn]=We[Hn]=!0,We[ut]=We[we]=We[bt]=!1;var mo={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},wo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bo={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},yo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xo=parseFloat,Eo=parseInt,pl=typeof Sr=="object"&&Sr&&Sr.Object===Object&&Sr,Ao=typeof self=="object"&&self&&self.Object===Object&&self,ht=pl||Ao||Function("return this")(),Pi=a&&!a.nodeType&&a,Rn=Pi&&!0&&g&&!g.nodeType&&g,gl=Rn&&Rn.exports===Pi,Bi=gl&&pl.process,Nt=function(){try{var m=Rn&&Rn.require&&Rn.require("util").types;return m||Bi&&Bi.binding&&Bi.binding("util")}catch{}}(),_l=Nt&&Nt.isArrayBuffer,vl=Nt&&Nt.isDate,ml=Nt&&Nt.isMap,wl=Nt&&Nt.isRegExp,bl=Nt&&Nt.isSet,yl=Nt&&Nt.isTypedArray;function It(m,L,A){switch(A.length){case 0:return m.call(L);case 1:return m.call(L,A[0]);case 2:return m.call(L,A[0],A[1]);case 3:return m.call(L,A[0],A[1],A[2])}return m.apply(L,A)}function So(m,L,A,H){for(var j=-1,ye=m==null?0:m.length;++j<ye;){var at=m[j];L(H,at,A(at),m)}return H}function Ht(m,L){for(var A=-1,H=m==null?0:m.length;++A<H&&L(m[A],A,m)!==!1;);return m}function Lo(m,L){for(var A=m==null?0:m.length;A--&&L(m[A],A,m)!==!1;);return m}function xl(m,L){for(var A=-1,H=m==null?0:m.length;++A<H;)if(!L(m[A],A,m))return!1;return!0}function yn(m,L){for(var A=-1,H=m==null?0:m.length,j=0,ye=[];++A<H;){var at=m[A];L(at,A,m)&&(ye[j++]=at)}return ye}function kr(m,L){var A=m==null?0:m.length;return!!A&&Kn(m,L,0)>-1}function Fi(m,L,A){for(var H=-1,j=m==null?0:m.length;++H<j;)if(A(L,m[H]))return!0;return!1}function ze(m,L){for(var A=-1,H=m==null?0:m.length,j=Array(H);++A<H;)j[A]=L(m[A],A,m);return j}function xn(m,L){for(var A=-1,H=L.length,j=m.length;++A<H;)m[j+A]=L[A];return m}function Ui(m,L,A,H){var j=-1,ye=m==null?0:m.length;for(H&&ye&&(A=m[++j]);++j<ye;)A=L(A,m[j],j,m);return A}function To(m,L,A,H){var j=m==null?0:m.length;for(H&&j&&(A=m[--j]);j--;)A=L(A,m[j],j,m);return A}function Ni(m,L){for(var A=-1,H=m==null?0:m.length;++A<H;)if(L(m[A],A,m))return!0;return!1}var Io=Hi("length");function Co(m){return m.split("")}function Do(m){return m.match(Pu)||[]}function El(m,L,A){var H;return A(m,function(j,ye,at){if(L(j,ye,at))return H=ye,!1}),H}function Mr(m,L,A,H){for(var j=m.length,ye=A+(H?1:-1);H?ye--:++ye<j;)if(L(m[ye],ye,m))return ye;return-1}function Kn(m,L,A){return L===L?Ho(m,L,A):Mr(m,Al,A)}function $o(m,L,A,H){for(var j=A-1,ye=m.length;++j<ye;)if(H(m[j],L))return j;return-1}function Al(m){return m!==m}function Sl(m,L){var A=m==null?0:m.length;return A?zi(m,L)/A:$e}function Hi(m){return function(L){return L==null?i:L[m]}}function Gi(m){return function(L){return m==null?i:m[L]}}function Ll(m,L,A,H,j){return j(m,function(ye,at,Re){A=H?(H=!1,ye):L(A,ye,at,Re)}),A}function Oo(m,L){var A=m.length;for(m.sort(L);A--;)m[A]=m[A].value;return m}function zi(m,L){for(var A,H=-1,j=m.length;++H<j;){var ye=L(m[H]);ye!==i&&(A=A===i?ye:A+ye)}return A}function qi(m,L){for(var A=-1,H=Array(m);++A<m;)H[A]=L(A);return H}function Ro(m,L){return ze(L,function(A){return[A,m[A]]})}function Tl(m){return m&&m.slice(0,$l(m)+1).replace($i,"")}function Ct(m){return function(L){return m(L)}}function Ki(m,L){return ze(L,function(A){return m[A]})}function or(m,L){return m.has(L)}function Il(m,L){for(var A=-1,H=m.length;++A<H&&Kn(L,m[A],0)>-1;);return A}function Cl(m,L){for(var A=m.length;A--&&Kn(L,m[A],0)>-1;);return A}function ko(m,L){for(var A=m.length,H=0;A--;)m[A]===L&&++H;return H}var Mo=Gi(mo),Wo=Gi(wo);function Po(m){return"\\"+yo[m]}function Bo(m,L){return m==null?i:m[L]}function Zn(m){return po.test(m)}function Fo(m){return go.test(m)}function Uo(m){for(var L,A=[];!(L=m.next()).done;)A.push(L.value);return A}function Zi(m){var L=-1,A=Array(m.size);return m.forEach(function(H,j){A[++L]=[j,H]}),A}function Dl(m,L){return function(A){return m(L(A))}}function En(m,L){for(var A=-1,H=m.length,j=0,ye=[];++A<H;){var at=m[A];(at===L||at===E)&&(m[A]=E,ye[j++]=A)}return ye}function Wr(m){var L=-1,A=Array(m.size);return m.forEach(function(H){A[++L]=H}),A}function No(m){var L=-1,A=Array(m.size);return m.forEach(function(H){A[++L]=[H,H]}),A}function Ho(m,L,A){for(var H=A-1,j=m.length;++H<j;)if(m[H]===L)return H;return-1}function Go(m,L,A){for(var H=A+1;H--;)if(m[H]===L)return H;return H}function Yn(m){return Zn(m)?qo(m):Io(m)}function Qt(m){return Zn(m)?Ko(m):Co(m)}function $l(m){for(var L=m.length;L--&&Ru.test(m.charAt(L)););return L}var zo=Gi(bo);function qo(m){for(var L=Wi.lastIndex=0;Wi.test(m);)++L;return L}function Ko(m){return m.match(Wi)||[]}function Zo(m){return m.match(co)||[]}var Yo=function m(L){L=L==null?ht:Xn.defaults(ht.Object(),L,Xn.pick(ht,_o));var A=L.Array,H=L.Date,j=L.Error,ye=L.Function,at=L.Math,Re=L.Object,Yi=L.RegExp,Xo=L.String,Gt=L.TypeError,Pr=A.prototype,Jo=ye.prototype,Jn=Re.prototype,Br=L["__core-js_shared__"],Fr=Jo.toString,Le=Jn.hasOwnProperty,Qo=0,Ol=function(){var e=/[^.]+$/.exec(Br&&Br.keys&&Br.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ur=Jn.toString,Vo=Fr.call(Re),jo=ht._,ef=Yi("^"+Fr.call(Le).replace(Di,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nr=gl?L.Buffer:i,An=L.Symbol,Hr=L.Uint8Array,Rl=Nr?Nr.allocUnsafe:i,Gr=Dl(Re.getPrototypeOf,Re),kl=Re.create,Ml=Jn.propertyIsEnumerable,zr=Pr.splice,Wl=An?An.isConcatSpreadable:i,fr=An?An.iterator:i,kn=An?An.toStringTag:i,qr=function(){try{var e=Fn(Re,"defineProperty");return e({},"",{}),e}catch{}}(),tf=L.clearTimeout!==ht.clearTimeout&&L.clearTimeout,nf=H&&H.now!==ht.Date.now&&H.now,rf=L.setTimeout!==ht.setTimeout&&L.setTimeout,Kr=at.ceil,Zr=at.floor,Xi=Re.getOwnPropertySymbols,af=Nr?Nr.isBuffer:i,Pl=L.isFinite,lf=Pr.join,sf=Dl(Re.keys,Re),lt=at.max,pt=at.min,uf=H.now,of=L.parseInt,Bl=at.random,ff=Pr.reverse,Ji=Fn(L,"DataView"),hr=Fn(L,"Map"),Qi=Fn(L,"Promise"),Qn=Fn(L,"Set"),cr=Fn(L,"WeakMap"),dr=Fn(Re,"create"),Yr=cr&&new cr,Vn={},hf=Un(Ji),cf=Un(hr),df=Un(Qi),pf=Un(Qn),gf=Un(cr),Xr=An?An.prototype:i,pr=Xr?Xr.valueOf:i,Fl=Xr?Xr.toString:i;function s(e){if(Je(e)&&!te(e)&&!(e instanceof ce)){if(e instanceof zt)return e;if(Le.call(e,"__wrapped__"))return Us(e)}return new zt(e)}var jn=function(){function e(){}return function(t){if(!Ke(t))return{};if(kl)return kl(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Jr(){}function zt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}s.templateSettings={escape:zn,evaluate:Ir,interpolate:ur,variable:"",imports:{_:s}},s.prototype=Jr.prototype,s.prototype.constructor=s,zt.prototype=jn(Jr.prototype),zt.prototype.constructor=zt;function ce(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_e,this.__views__=[]}function _f(){var e=new ce(this.__wrapped__);return e.__actions__=yt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yt(this.__views__),e}function vf(){if(this.__filtered__){var e=new ce(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function mf(){var e=this.__wrapped__.value(),t=this.__dir__,n=te(e),r=t<0,l=n?e.length:0,u=Dh(0,l,this.__views__),c=u.start,p=u.end,b=p-c,T=r?p:c-1,I=this.__iteratees__,M=I.length,F=0,G=pt(b,this.__takeCount__);if(!n||!r&&l==b&&G==b)return os(e,this.__actions__);var Z=[];e:for(;b--&&F<G;){T+=t;for(var ie=-1,Y=e[T];++ie<M;){var oe=I[ie],de=oe.iteratee,Ot=oe.type,mt=de(Y);if(Ot==nt)Y=mt;else if(!mt){if(Ot==Ne)continue e;break e}}Z[F++]=Y}return Z}ce.prototype=jn(Jr.prototype),ce.prototype.constructor=ce;function Mn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function wf(){this.__data__=dr?dr(null):{},this.size=0}function bf(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function yf(e){var t=this.__data__;if(dr){var n=t[e];return n===y?i:n}return Le.call(t,e)?t[e]:i}function xf(e){var t=this.__data__;return dr?t[e]!==i:Le.call(t,e)}function Ef(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=dr&&t===i?y:t,this}Mn.prototype.clear=wf,Mn.prototype.delete=bf,Mn.prototype.get=yf,Mn.prototype.has=xf,Mn.prototype.set=Ef;function un(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Af(){this.__data__=[],this.size=0}function Sf(e){var t=this.__data__,n=Qr(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():zr.call(t,n,1),--this.size,!0}function Lf(e){var t=this.__data__,n=Qr(t,e);return n<0?i:t[n][1]}function Tf(e){return Qr(this.__data__,e)>-1}function If(e,t){var n=this.__data__,r=Qr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}un.prototype.clear=Af,un.prototype.delete=Sf,un.prototype.get=Lf,un.prototype.has=Tf,un.prototype.set=If;function on(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Cf(){this.size=0,this.__data__={hash:new Mn,map:new(hr||un),string:new Mn}}function Df(e){var t=oi(this,e).delete(e);return this.size-=t?1:0,t}function $f(e){return oi(this,e).get(e)}function Of(e){return oi(this,e).has(e)}function Rf(e,t){var n=oi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}on.prototype.clear=Cf,on.prototype.delete=Df,on.prototype.get=$f,on.prototype.has=Of,on.prototype.set=Rf;function Wn(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new on;++t<n;)this.add(e[t])}function kf(e){return this.__data__.set(e,y),this}function Mf(e){return this.__data__.has(e)}Wn.prototype.add=Wn.prototype.push=kf,Wn.prototype.has=Mf;function Vt(e){var t=this.__data__=new un(e);this.size=t.size}function Wf(){this.__data__=new un,this.size=0}function Pf(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Bf(e){return this.__data__.get(e)}function Ff(e){return this.__data__.has(e)}function Uf(e,t){var n=this.__data__;if(n instanceof un){var r=n.__data__;if(!hr||r.length<f-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new on(r)}return n.set(e,t),this.size=n.size,this}Vt.prototype.clear=Wf,Vt.prototype.delete=Pf,Vt.prototype.get=Bf,Vt.prototype.has=Ff,Vt.prototype.set=Uf;function Ul(e,t){var n=te(e),r=!n&&Nn(e),l=!n&&!r&&Cn(e),u=!n&&!r&&!l&&rr(e),c=n||r||l||u,p=c?qi(e.length,Xo):[],b=p.length;for(var T in e)(t||Le.call(e,T))&&!(c&&(T=="length"||l&&(T=="offset"||T=="parent")||u&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||dn(T,b)))&&p.push(T);return p}function Nl(e){var t=e.length;return t?e[ua(0,t-1)]:i}function Nf(e,t){return fi(yt(e),Pn(t,0,e.length))}function Hf(e){return fi(yt(e))}function Vi(e,t,n){(n!==i&&!jt(e[t],n)||n===i&&!(t in e))&&fn(e,t,n)}function gr(e,t,n){var r=e[t];(!(Le.call(e,t)&&jt(r,n))||n===i&&!(t in e))&&fn(e,t,n)}function Qr(e,t){for(var n=e.length;n--;)if(jt(e[n][0],t))return n;return-1}function Gf(e,t,n,r){return Sn(e,function(l,u,c){t(r,l,n(l),c)}),r}function Hl(e,t){return e&&nn(t,ft(t),e)}function zf(e,t){return e&&nn(t,Et(t),e)}function fn(e,t,n){t=="__proto__"&&qr?qr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ji(e,t){for(var n=-1,r=t.length,l=A(r),u=e==null;++n<r;)l[n]=u?i:Ra(e,t[n]);return l}function Pn(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function qt(e,t,n,r,l,u){var c,p=t&C,b=t&U,T=t&S;if(n&&(c=l?n(e,r,l,u):n(e)),c!==i)return c;if(!Ke(e))return e;var I=te(e);if(I){if(c=Oh(e),!p)return yt(e,c)}else{var M=gt(e),F=M==we||M==St;if(Cn(e))return cs(e,p);if(M==be||M==he||F&&!l){if(c=b||F?{}:$s(e),!p)return b?yh(e,zf(c,e)):bh(e,Hl(c,e))}else{if(!We[M])return l?e:{};c=Rh(e,M,p)}}u||(u=new Vt);var G=u.get(e);if(G)return G;u.set(e,c),lu(e)?e.forEach(function(Y){c.add(qt(Y,t,n,Y,e,u))}):iu(e)&&e.forEach(function(Y,oe){c.set(oe,qt(Y,t,n,oe,e,u))});var Z=T?b?wa:ma:b?Et:ft,ie=I?i:Z(e);return Ht(ie||e,function(Y,oe){ie&&(oe=Y,Y=e[oe]),gr(c,oe,qt(Y,t,n,oe,e,u))}),c}function qf(e){var t=ft(e);return function(n){return Gl(n,e,t)}}function Gl(e,t,n){var r=n.length;if(e==null)return!r;for(e=Re(e);r--;){var l=n[r],u=t[l],c=e[l];if(c===i&&!(l in e)||!u(c))return!1}return!0}function zl(e,t,n){if(typeof e!="function")throw new Gt(w);return xr(function(){e.apply(i,n)},t)}function _r(e,t,n,r){var l=-1,u=kr,c=!0,p=e.length,b=[],T=t.length;if(!p)return b;n&&(t=ze(t,Ct(n))),r?(u=Fi,c=!1):t.length>=f&&(u=or,c=!1,t=new Wn(t));e:for(;++l<p;){var I=e[l],M=n==null?I:n(I);if(I=r||I!==0?I:0,c&&M===M){for(var F=T;F--;)if(t[F]===M)continue e;b.push(I)}else u(t,M,r)||b.push(I)}return b}var Sn=vs(tn),ql=vs(ta,!0);function Kf(e,t){var n=!0;return Sn(e,function(r,l,u){return n=!!t(r,l,u),n}),n}function Vr(e,t,n){for(var r=-1,l=e.length;++r<l;){var u=e[r],c=t(u);if(c!=null&&(p===i?c===c&&!$t(c):n(c,p)))var p=c,b=u}return b}function Zf(e,t,n,r){var l=e.length;for(n=re(n),n<0&&(n=-n>l?0:l+n),r=r===i||r>l?l:re(r),r<0&&(r+=l),r=n>r?0:uu(r);n<r;)e[n++]=t;return e}function Kl(e,t){var n=[];return Sn(e,function(r,l,u){t(r,l,u)&&n.push(r)}),n}function ct(e,t,n,r,l){var u=-1,c=e.length;for(n||(n=Mh),l||(l=[]);++u<c;){var p=e[u];t>0&&n(p)?t>1?ct(p,t-1,n,r,l):xn(l,p):r||(l[l.length]=p)}return l}var ea=ms(),Zl=ms(!0);function tn(e,t){return e&&ea(e,t,ft)}function ta(e,t){return e&&Zl(e,t,ft)}function jr(e,t){return yn(t,function(n){return pn(e[n])})}function Bn(e,t){t=Tn(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[rn(t[n++])];return n&&n==r?e:i}function Yl(e,t,n){var r=t(e);return te(e)?r:xn(r,n(e))}function _t(e){return e==null?e===i?Bt:Pt:kn&&kn in Re(e)?Ch(e):Hh(e)}function na(e,t){return e>t}function Yf(e,t){return e!=null&&Le.call(e,t)}function Xf(e,t){return e!=null&&t in Re(e)}function Jf(e,t,n){return e>=pt(t,n)&&e<lt(t,n)}function ra(e,t,n){for(var r=n?Fi:kr,l=e[0].length,u=e.length,c=u,p=A(u),b=1/0,T=[];c--;){var I=e[c];c&&t&&(I=ze(I,Ct(t))),b=pt(I.length,b),p[c]=!n&&(t||l>=120&&I.length>=120)?new Wn(c&&I):i}I=e[0];var M=-1,F=p[0];e:for(;++M<l&&T.length<b;){var G=I[M],Z=t?t(G):G;if(G=n||G!==0?G:0,!(F?or(F,Z):r(T,Z,n))){for(c=u;--c;){var ie=p[c];if(!(ie?or(ie,Z):r(e[c],Z,n)))continue e}F&&F.push(Z),T.push(G)}}return T}function Qf(e,t,n,r){return tn(e,function(l,u,c){t(r,n(l),u,c)}),r}function vr(e,t,n){t=Tn(t,e),e=Ms(e,t);var r=e==null?e:e[rn(Zt(t))];return r==null?i:It(r,e,n)}function Xl(e){return Je(e)&&_t(e)==he}function Vf(e){return Je(e)&&_t(e)==Ft}function jf(e){return Je(e)&&_t(e)==it}function mr(e,t,n,r,l){return e===t?!0:e==null||t==null||!Je(e)&&!Je(t)?e!==e&&t!==t:eh(e,t,n,r,mr,l)}function eh(e,t,n,r,l,u){var c=te(e),p=te(t),b=c?Me:gt(e),T=p?Me:gt(t);b=b==he?be:b,T=T==he?be:T;var I=b==be,M=T==be,F=b==T;if(F&&Cn(e)){if(!Cn(t))return!1;c=!0,I=!1}if(F&&!I)return u||(u=new Vt),c||rr(e)?Is(e,t,n,r,l,u):Th(e,t,b,n,r,l,u);if(!(n&P)){var G=I&&Le.call(e,"__wrapped__"),Z=M&&Le.call(t,"__wrapped__");if(G||Z){var ie=G?e.value():e,Y=Z?t.value():t;return u||(u=new Vt),l(ie,Y,n,r,u)}}return F?(u||(u=new Vt),Ih(e,t,n,r,l,u)):!1}function th(e){return Je(e)&&gt(e)==Ge}function ia(e,t,n,r){var l=n.length,u=l,c=!r;if(e==null)return!u;for(e=Re(e);l--;){var p=n[l];if(c&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++l<u;){p=n[l];var b=p[0],T=e[b],I=p[1];if(c&&p[2]){if(T===i&&!(b in e))return!1}else{var M=new Vt;if(r)var F=r(T,I,b,e,t,M);if(!(F===i?mr(I,T,P|q,r,M):F))return!1}}return!0}function Jl(e){if(!Ke(e)||Ph(e))return!1;var t=pn(e)?ef:Gu;return t.test(Un(e))}function nh(e){return Je(e)&&_t(e)==tt}function rh(e){return Je(e)&&gt(e)==Xe}function ih(e){return Je(e)&&_i(e.length)&&!!He[_t(e)]}function Ql(e){return typeof e=="function"?e:e==null?At:typeof e=="object"?te(e)?es(e[0],e[1]):jl(e):wu(e)}function aa(e){if(!yr(e))return sf(e);var t=[];for(var n in Re(e))Le.call(e,n)&&n!="constructor"&&t.push(n);return t}function ah(e){if(!Ke(e))return Nh(e);var t=yr(e),n=[];for(var r in e)r=="constructor"&&(t||!Le.call(e,r))||n.push(r);return n}function la(e,t){return e<t}function Vl(e,t){var n=-1,r=xt(e)?A(e.length):[];return Sn(e,function(l,u,c){r[++n]=t(l,u,c)}),r}function jl(e){var t=ya(e);return t.length==1&&t[0][2]?Rs(t[0][0],t[0][1]):function(n){return n===e||ia(n,e,t)}}function es(e,t){return Ea(e)&&Os(t)?Rs(rn(e),t):function(n){var r=Ra(n,e);return r===i&&r===t?ka(n,e):mr(t,r,P|q)}}function ei(e,t,n,r,l){e!==t&&ea(t,function(u,c){if(l||(l=new Vt),Ke(u))lh(e,t,c,n,ei,r,l);else{var p=r?r(Sa(e,c),u,c+"",e,t,l):i;p===i&&(p=u),Vi(e,c,p)}},Et)}function lh(e,t,n,r,l,u,c){var p=Sa(e,n),b=Sa(t,n),T=c.get(b);if(T){Vi(e,n,T);return}var I=u?u(p,b,n+"",e,t,c):i,M=I===i;if(M){var F=te(b),G=!F&&Cn(b),Z=!F&&!G&&rr(b);I=b,F||G||Z?te(p)?I=p:je(p)?I=yt(p):G?(M=!1,I=cs(b,!0)):Z?(M=!1,I=ds(b,!0)):I=[]:Er(b)||Nn(b)?(I=p,Nn(p)?I=ou(p):(!Ke(p)||pn(p))&&(I=$s(b))):M=!1}M&&(c.set(b,I),l(I,b,r,u,c),c.delete(b)),Vi(e,n,I)}function ts(e,t){var n=e.length;if(!!n)return t+=t<0?n:0,dn(t,n)?e[t]:i}function ns(e,t,n){t.length?t=ze(t,function(u){return te(u)?function(c){return Bn(c,u.length===1?u[0]:u)}:u}):t=[At];var r=-1;t=ze(t,Ct(K()));var l=Vl(e,function(u,c,p){var b=ze(t,function(T){return T(u)});return{criteria:b,index:++r,value:u}});return Oo(l,function(u,c){return wh(u,c,n)})}function sh(e,t){return rs(e,t,function(n,r){return ka(e,r)})}function rs(e,t,n){for(var r=-1,l=t.length,u={};++r<l;){var c=t[r],p=Bn(e,c);n(p,c)&&wr(u,Tn(c,e),p)}return u}function uh(e){return function(t){return Bn(t,e)}}function sa(e,t,n,r){var l=r?$o:Kn,u=-1,c=t.length,p=e;for(e===t&&(t=yt(t)),n&&(p=ze(e,Ct(n)));++u<c;)for(var b=0,T=t[u],I=n?n(T):T;(b=l(p,I,b,r))>-1;)p!==e&&zr.call(p,b,1),zr.call(e,b,1);return e}function is(e,t){for(var n=e?t.length:0,r=n-1;n--;){var l=t[n];if(n==r||l!==u){var u=l;dn(l)?zr.call(e,l,1):ha(e,l)}}return e}function ua(e,t){return e+Zr(Bl()*(t-e+1))}function oh(e,t,n,r){for(var l=-1,u=lt(Kr((t-e)/(n||1)),0),c=A(u);u--;)c[r?u:++l]=e,e+=n;return c}function oa(e,t){var n="";if(!e||t<1||t>Se)return n;do t%2&&(n+=e),t=Zr(t/2),t&&(e+=e);while(t);return n}function ae(e,t){return La(ks(e,t,At),e+"")}function fh(e){return Nl(ir(e))}function hh(e,t){var n=ir(e);return fi(n,Pn(t,0,n.length))}function wr(e,t,n,r){if(!Ke(e))return e;t=Tn(t,e);for(var l=-1,u=t.length,c=u-1,p=e;p!=null&&++l<u;){var b=rn(t[l]),T=n;if(b==="__proto__"||b==="constructor"||b==="prototype")return e;if(l!=c){var I=p[b];T=r?r(I,b,p):i,T===i&&(T=Ke(I)?I:dn(t[l+1])?[]:{})}gr(p,b,T),p=p[b]}return e}var as=Yr?function(e,t){return Yr.set(e,t),e}:At,ch=qr?function(e,t){return qr(e,"toString",{configurable:!0,enumerable:!1,value:Wa(t),writable:!0})}:At;function dh(e){return fi(ir(e))}function Kt(e,t,n){var r=-1,l=e.length;t<0&&(t=-t>l?0:l+t),n=n>l?l:n,n<0&&(n+=l),l=t>n?0:n-t>>>0,t>>>=0;for(var u=A(l);++r<l;)u[r]=e[r+t];return u}function ph(e,t){var n;return Sn(e,function(r,l,u){return n=t(r,l,u),!n}),!!n}function ti(e,t,n){var r=0,l=e==null?r:e.length;if(typeof t=="number"&&t===t&&l<=Qe){for(;r<l;){var u=r+l>>>1,c=e[u];c!==null&&!$t(c)&&(n?c<=t:c<t)?r=u+1:l=u}return l}return fa(e,t,At,n)}function fa(e,t,n,r){var l=0,u=e==null?0:e.length;if(u===0)return 0;t=n(t);for(var c=t!==t,p=t===null,b=$t(t),T=t===i;l<u;){var I=Zr((l+u)/2),M=n(e[I]),F=M!==i,G=M===null,Z=M===M,ie=$t(M);if(c)var Y=r||Z;else T?Y=Z&&(r||F):p?Y=Z&&F&&(r||!G):b?Y=Z&&F&&!G&&(r||!ie):G||ie?Y=!1:Y=r?M<=t:M<t;Y?l=I+1:u=I}return pt(u,Ce)}function ls(e,t){for(var n=-1,r=e.length,l=0,u=[];++n<r;){var c=e[n],p=t?t(c):c;if(!n||!jt(p,b)){var b=p;u[l++]=c===0?0:c}}return u}function ss(e){return typeof e=="number"?e:$t(e)?$e:+e}function Dt(e){if(typeof e=="string")return e;if(te(e))return ze(e,Dt)+"";if($t(e))return Fl?Fl.call(e):"";var t=e+"";return t=="0"&&1/e==-Ie?"-0":t}function Ln(e,t,n){var r=-1,l=kr,u=e.length,c=!0,p=[],b=p;if(n)c=!1,l=Fi;else if(u>=f){var T=t?null:Sh(e);if(T)return Wr(T);c=!1,l=or,b=new Wn}else b=t?[]:p;e:for(;++r<u;){var I=e[r],M=t?t(I):I;if(I=n||I!==0?I:0,c&&M===M){for(var F=b.length;F--;)if(b[F]===M)continue e;t&&b.push(M),p.push(I)}else l(b,M,n)||(b!==p&&b.push(M),p.push(I))}return p}function ha(e,t){return t=Tn(t,e),e=Ms(e,t),e==null||delete e[rn(Zt(t))]}function us(e,t,n,r){return wr(e,t,n(Bn(e,t)),r)}function ni(e,t,n,r){for(var l=e.length,u=r?l:-1;(r?u--:++u<l)&&t(e[u],u,e););return n?Kt(e,r?0:u,r?u+1:l):Kt(e,r?u+1:0,r?l:u)}function os(e,t){var n=e;return n instanceof ce&&(n=n.value()),Ui(t,function(r,l){return l.func.apply(l.thisArg,xn([r],l.args))},n)}function ca(e,t,n){var r=e.length;if(r<2)return r?Ln(e[0]):[];for(var l=-1,u=A(r);++l<r;)for(var c=e[l],p=-1;++p<r;)p!=l&&(u[l]=_r(u[l]||c,e[p],t,n));return Ln(ct(u,1),t,n)}function fs(e,t,n){for(var r=-1,l=e.length,u=t.length,c={};++r<l;){var p=r<u?t[r]:i;n(c,e[r],p)}return c}function da(e){return je(e)?e:[]}function pa(e){return typeof e=="function"?e:At}function Tn(e,t){return te(e)?e:Ea(e,t)?[e]:Fs(Ae(e))}var gh=ae;function In(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:Kt(e,t,n)}var hs=tf||function(e){return ht.clearTimeout(e)};function cs(e,t){if(t)return e.slice();var n=e.length,r=Rl?Rl(n):new e.constructor(n);return e.copy(r),r}function ga(e){var t=new e.constructor(e.byteLength);return new Hr(t).set(new Hr(e)),t}function _h(e,t){var n=t?ga(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function vh(e){var t=new e.constructor(e.source,Xa.exec(e));return t.lastIndex=e.lastIndex,t}function mh(e){return pr?Re(pr.call(e)):{}}function ds(e,t){var n=t?ga(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ps(e,t){if(e!==t){var n=e!==i,r=e===null,l=e===e,u=$t(e),c=t!==i,p=t===null,b=t===t,T=$t(t);if(!p&&!T&&!u&&e>t||u&&c&&b&&!p&&!T||r&&c&&b||!n&&b||!l)return 1;if(!r&&!u&&!T&&e<t||T&&n&&l&&!r&&!u||p&&n&&l||!c&&l||!b)return-1}return 0}function wh(e,t,n){for(var r=-1,l=e.criteria,u=t.criteria,c=l.length,p=n.length;++r<c;){var b=ps(l[r],u[r]);if(b){if(r>=p)return b;var T=n[r];return b*(T=="desc"?-1:1)}}return e.index-t.index}function gs(e,t,n,r){for(var l=-1,u=e.length,c=n.length,p=-1,b=t.length,T=lt(u-c,0),I=A(b+T),M=!r;++p<b;)I[p]=t[p];for(;++l<c;)(M||l<u)&&(I[n[l]]=e[l]);for(;T--;)I[p++]=e[l++];return I}function _s(e,t,n,r){for(var l=-1,u=e.length,c=-1,p=n.length,b=-1,T=t.length,I=lt(u-p,0),M=A(I+T),F=!r;++l<I;)M[l]=e[l];for(var G=l;++b<T;)M[G+b]=t[b];for(;++c<p;)(F||l<u)&&(M[G+n[c]]=e[l++]);return M}function yt(e,t){var n=-1,r=e.length;for(t||(t=A(r));++n<r;)t[n]=e[n];return t}function nn(e,t,n,r){var l=!n;n||(n={});for(var u=-1,c=t.length;++u<c;){var p=t[u],b=r?r(n[p],e[p],p,n,e):i;b===i&&(b=e[p]),l?fn(n,p,b):gr(n,p,b)}return n}function bh(e,t){return nn(e,xa(e),t)}function yh(e,t){return nn(e,Cs(e),t)}function ri(e,t){return function(n,r){var l=te(n)?So:Gf,u=t?t():{};return l(n,e,K(r,2),u)}}function er(e){return ae(function(t,n){var r=-1,l=n.length,u=l>1?n[l-1]:i,c=l>2?n[2]:i;for(u=e.length>3&&typeof u=="function"?(l--,u):i,c&&vt(n[0],n[1],c)&&(u=l<3?i:u,l=1),t=Re(t);++r<l;){var p=n[r];p&&e(t,p,r,u)}return t})}function vs(e,t){return function(n,r){if(n==null)return n;if(!xt(n))return e(n,r);for(var l=n.length,u=t?l:-1,c=Re(n);(t?u--:++u<l)&&r(c[u],u,c)!==!1;);return n}}function ms(e){return function(t,n,r){for(var l=-1,u=Re(t),c=r(t),p=c.length;p--;){var b=c[e?p:++l];if(n(u[b],b,u)===!1)break}return t}}function xh(e,t,n){var r=t&ne,l=br(e);function u(){var c=this&&this!==ht&&this instanceof u?l:e;return c.apply(r?n:this,arguments)}return u}function ws(e){return function(t){t=Ae(t);var n=Zn(t)?Qt(t):i,r=n?n[0]:t.charAt(0),l=n?In(n,1).join(""):t.slice(1);return r[e]()+l}}function tr(e){return function(t){return Ui(vu(_u(t).replace(fo,"")),e,"")}}function br(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=jn(e.prototype),r=e.apply(n,t);return Ke(r)?r:n}}function Eh(e,t,n){var r=br(e);function l(){for(var u=arguments.length,c=A(u),p=u,b=nr(l);p--;)c[p]=arguments[p];var T=u<3&&c[0]!==b&&c[u-1]!==b?[]:En(c,b);if(u-=T.length,u<n)return As(e,t,ii,l.placeholder,i,c,T,i,i,n-u);var I=this&&this!==ht&&this instanceof l?r:e;return It(I,this,c)}return l}function bs(e){return function(t,n,r){var l=Re(t);if(!xt(t)){var u=K(n,3);t=ft(t),n=function(p){return u(l[p],p,l)}}var c=e(t,n,r);return c>-1?l[u?t[c]:c]:i}}function ys(e){return cn(function(t){var n=t.length,r=n,l=zt.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if(typeof u!="function")throw new Gt(w);if(l&&!c&&ui(u)=="wrapper")var c=new zt([],!0)}for(r=c?r:n;++r<n;){u=t[r];var p=ui(u),b=p=="wrapper"?ba(u):i;b&&Aa(b[0])&&b[1]==(z|ge|me|le)&&!b[4].length&&b[9]==1?c=c[ui(b[0])].apply(c,b[3]):c=u.length==1&&Aa(u)?c[p]():c.thru(u)}return function(){var T=arguments,I=T[0];if(c&&T.length==1&&te(I))return c.plant(I).value();for(var M=0,F=n?t[M].apply(this,T):I;++M<n;)F=t[M].call(this,F);return F}})}function ii(e,t,n,r,l,u,c,p,b,T){var I=t&z,M=t&ne,F=t&ee,G=t&(ge|xe),Z=t&Ze,ie=F?i:br(e);function Y(){for(var oe=arguments.length,de=A(oe),Ot=oe;Ot--;)de[Ot]=arguments[Ot];if(G)var mt=nr(Y),Rt=ko(de,mt);if(r&&(de=gs(de,r,l,G)),u&&(de=_s(de,u,c,G)),oe-=Rt,G&&oe<T){var et=En(de,mt);return As(e,t,ii,Y.placeholder,n,de,et,p,b,T-oe)}var en=M?n:this,_n=F?en[e]:e;return oe=de.length,p?de=Gh(de,p):Z&&oe>1&&de.reverse(),I&&b<oe&&(de.length=b),this&&this!==ht&&this instanceof Y&&(_n=ie||br(_n)),_n.apply(en,de)}return Y}function xs(e,t){return function(n,r){return Qf(n,e,t(r),{})}}function ai(e,t){return function(n,r){var l;if(n===i&&r===i)return t;if(n!==i&&(l=n),r!==i){if(l===i)return r;typeof n=="string"||typeof r=="string"?(n=Dt(n),r=Dt(r)):(n=ss(n),r=ss(r)),l=e(n,r)}return l}}function _a(e){return cn(function(t){return t=ze(t,Ct(K())),ae(function(n){var r=this;return e(t,function(l){return It(l,r,n)})})})}function li(e,t){t=t===i?" ":Dt(t);var n=t.length;if(n<2)return n?oa(t,e):t;var r=oa(t,Kr(e/Yn(t)));return Zn(t)?In(Qt(r),0,e).join(""):r.slice(0,e)}function Ah(e,t,n,r){var l=t&ne,u=br(e);function c(){for(var p=-1,b=arguments.length,T=-1,I=r.length,M=A(I+b),F=this&&this!==ht&&this instanceof c?u:e;++T<I;)M[T]=r[T];for(;b--;)M[T++]=arguments[++p];return It(F,l?n:this,M)}return c}function Es(e){return function(t,n,r){return r&&typeof r!="number"&&vt(t,n,r)&&(n=r=i),t=gn(t),n===i?(n=t,t=0):n=gn(n),r=r===i?t<n?1:-1:gn(r),oh(t,n,r,e)}}function si(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=Yt(t),n=Yt(n)),e(t,n)}}function As(e,t,n,r,l,u,c,p,b,T){var I=t&ge,M=I?c:i,F=I?i:c,G=I?u:i,Z=I?i:u;t|=I?me:N,t&=~(I?N:me),t&V||(t&=~(ne|ee));var ie=[e,t,l,G,M,Z,F,p,b,T],Y=n.apply(i,ie);return Aa(e)&&Ws(Y,ie),Y.placeholder=r,Ps(Y,e,t)}function va(e){var t=at[e];return function(n,r){if(n=Yt(n),r=r==null?0:pt(re(r),292),r&&Pl(n)){var l=(Ae(n)+"e").split("e"),u=t(l[0]+"e"+(+l[1]+r));return l=(Ae(u)+"e").split("e"),+(l[0]+"e"+(+l[1]-r))}return t(n)}}var Sh=Qn&&1/Wr(new Qn([,-0]))[1]==Ie?function(e){return new Qn(e)}:Fa;function Ss(e){return function(t){var n=gt(t);return n==Ge?Zi(t):n==Xe?No(t):Ro(t,e(t))}}function hn(e,t,n,r,l,u,c,p){var b=t&ee;if(!b&&typeof e!="function")throw new Gt(w);var T=r?r.length:0;if(T||(t&=~(me|N),r=l=i),c=c===i?c:lt(re(c),0),p=p===i?p:re(p),T-=l?l.length:0,t&N){var I=r,M=l;r=l=i}var F=b?i:ba(e),G=[e,t,n,r,l,I,M,u,c,p];if(F&&Uh(G,F),e=G[0],t=G[1],n=G[2],r=G[3],l=G[4],p=G[9]=G[9]===i?b?0:e.length:lt(G[9]-T,0),!p&&t&(ge|xe)&&(t&=~(ge|xe)),!t||t==ne)var Z=xh(e,t,n);else t==ge||t==xe?Z=Eh(e,t,p):(t==me||t==(ne|me))&&!l.length?Z=Ah(e,t,n,r):Z=ii.apply(i,G);var ie=F?as:Ws;return Ps(ie(Z,G),e,t)}function Ls(e,t,n,r){return e===i||jt(e,Jn[n])&&!Le.call(r,n)?t:e}function Ts(e,t,n,r,l,u){return Ke(e)&&Ke(t)&&(u.set(t,e),ei(e,t,i,Ts,u),u.delete(t)),e}function Lh(e){return Er(e)?i:e}function Is(e,t,n,r,l,u){var c=n&P,p=e.length,b=t.length;if(p!=b&&!(c&&b>p))return!1;var T=u.get(e),I=u.get(t);if(T&&I)return T==t&&I==e;var M=-1,F=!0,G=n&q?new Wn:i;for(u.set(e,t),u.set(t,e);++M<p;){var Z=e[M],ie=t[M];if(r)var Y=c?r(ie,Z,M,t,e,u):r(Z,ie,M,e,t,u);if(Y!==i){if(Y)continue;F=!1;break}if(G){if(!Ni(t,function(oe,de){if(!or(G,de)&&(Z===oe||l(Z,oe,n,r,u)))return G.push(de)})){F=!1;break}}else if(!(Z===ie||l(Z,ie,n,r,u))){F=!1;break}}return u.delete(e),u.delete(t),F}function Th(e,t,n,r,l,u,c){switch(n){case X:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ft:return!(e.byteLength!=t.byteLength||!u(new Hr(e),new Hr(t)));case Oe:case it:case ot:return jt(+e,+t);case ut:return e.name==t.name&&e.message==t.message;case tt:case wt:return e==t+"";case Ge:var p=Zi;case Xe:var b=r&P;if(p||(p=Wr),e.size!=t.size&&!b)return!1;var T=c.get(e);if(T)return T==t;r|=q,c.set(e,t);var I=Is(p(e),p(t),r,l,u,c);return c.delete(e),I;case Xt:if(pr)return pr.call(e)==pr.call(t)}return!1}function Ih(e,t,n,r,l,u){var c=n&P,p=ma(e),b=p.length,T=ma(t),I=T.length;if(b!=I&&!c)return!1;for(var M=b;M--;){var F=p[M];if(!(c?F in t:Le.call(t,F)))return!1}var G=u.get(e),Z=u.get(t);if(G&&Z)return G==t&&Z==e;var ie=!0;u.set(e,t),u.set(t,e);for(var Y=c;++M<b;){F=p[M];var oe=e[F],de=t[F];if(r)var Ot=c?r(de,oe,F,t,e,u):r(oe,de,F,e,t,u);if(!(Ot===i?oe===de||l(oe,de,n,r,u):Ot)){ie=!1;break}Y||(Y=F=="constructor")}if(ie&&!Y){var mt=e.constructor,Rt=t.constructor;mt!=Rt&&"constructor"in e&&"constructor"in t&&!(typeof mt=="function"&&mt instanceof mt&&typeof Rt=="function"&&Rt instanceof Rt)&&(ie=!1)}return u.delete(e),u.delete(t),ie}function cn(e){return La(ks(e,i,Gs),e+"")}function ma(e){return Yl(e,ft,xa)}function wa(e){return Yl(e,Et,Cs)}var ba=Yr?function(e){return Yr.get(e)}:Fa;function ui(e){for(var t=e.name+"",n=Vn[t],r=Le.call(Vn,t)?n.length:0;r--;){var l=n[r],u=l.func;if(u==null||u==e)return l.name}return t}function nr(e){var t=Le.call(s,"placeholder")?s:e;return t.placeholder}function K(){var e=s.iteratee||Pa;return e=e===Pa?Ql:e,arguments.length?e(arguments[0],arguments[1]):e}function oi(e,t){var n=e.__data__;return Wh(t)?n[typeof t=="string"?"string":"hash"]:n.map}function ya(e){for(var t=ft(e),n=t.length;n--;){var r=t[n],l=e[r];t[n]=[r,l,Os(l)]}return t}function Fn(e,t){var n=Bo(e,t);return Jl(n)?n:i}function Ch(e){var t=Le.call(e,kn),n=e[kn];try{e[kn]=i;var r=!0}catch{}var l=Ur.call(e);return r&&(t?e[kn]=n:delete e[kn]),l}var xa=Xi?function(e){return e==null?[]:(e=Re(e),yn(Xi(e),function(t){return Ml.call(e,t)}))}:Ua,Cs=Xi?function(e){for(var t=[];e;)xn(t,xa(e)),e=Gr(e);return t}:Ua,gt=_t;(Ji&&gt(new Ji(new ArrayBuffer(1)))!=X||hr&&gt(new hr)!=Ge||Qi&&gt(Qi.resolve())!=Ve||Qn&&gt(new Qn)!=Xe||cr&&gt(new cr)!=bt)&&(gt=function(e){var t=_t(e),n=t==be?e.constructor:i,r=n?Un(n):"";if(r)switch(r){case hf:return X;case cf:return Ge;case df:return Ve;case pf:return Xe;case gf:return bt}return t});function Dh(e,t,n){for(var r=-1,l=n.length;++r<l;){var u=n[r],c=u.size;switch(u.type){case"drop":e+=c;break;case"dropRight":t-=c;break;case"take":t=pt(t,e+c);break;case"takeRight":e=lt(e,t-c);break}}return{start:e,end:t}}function $h(e){var t=e.match(Mu);return t?t[1].split(Wu):[]}function Ds(e,t,n){t=Tn(t,e);for(var r=-1,l=t.length,u=!1;++r<l;){var c=rn(t[r]);if(!(u=e!=null&&n(e,c)))break;e=e[c]}return u||++r!=l?u:(l=e==null?0:e.length,!!l&&_i(l)&&dn(c,l)&&(te(e)||Nn(e)))}function Oh(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function $s(e){return typeof e.constructor=="function"&&!yr(e)?jn(Gr(e)):{}}function Rh(e,t,n){var r=e.constructor;switch(t){case Ft:return ga(e);case Oe:case it:return new r(+e);case X:return _h(e,n);case qe:case an:case Lt:case Tt:case dt:case Ut:case ln:case sn:case Hn:return ds(e,n);case Ge:return new r;case ot:case wt:return new r(e);case tt:return vh(e);case Xe:return new r;case Xt:return mh(e)}}function kh(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ku,`{
/* [wrapped with `+t+`] */
`)}function Mh(e){return te(e)||Nn(e)||!!(Wl&&e&&e[Wl])}function dn(e,t){var n=typeof e;return t=t==null?Se:t,!!t&&(n=="number"||n!="symbol"&&qu.test(e))&&e>-1&&e%1==0&&e<t}function vt(e,t,n){if(!Ke(n))return!1;var r=typeof t;return(r=="number"?xt(n)&&dn(t,n.length):r=="string"&&t in n)?jt(n[t],e):!1}function Ea(e,t){if(te(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||$t(e)?!0:Cr.test(e)||!bn.test(e)||t!=null&&e in Re(t)}function Wh(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Aa(e){var t=ui(e),n=s[t];if(typeof n!="function"||!(t in ce.prototype))return!1;if(e===n)return!0;var r=ba(n);return!!r&&e===r[0]}function Ph(e){return!!Ol&&Ol in e}var Bh=Br?pn:Na;function yr(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Jn;return e===n}function Os(e){return e===e&&!Ke(e)}function Rs(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==i||e in Re(n))}}function Fh(e){var t=pi(e,function(r){return n.size===x&&n.clear(),r}),n=t.cache;return t}function Uh(e,t){var n=e[1],r=t[1],l=n|r,u=l<(ne|ee|z),c=r==z&&n==ge||r==z&&n==le&&e[7].length<=t[8]||r==(z|le)&&t[7].length<=t[8]&&n==ge;if(!(u||c))return e;r&ne&&(e[2]=t[2],l|=n&ne?0:V);var p=t[3];if(p){var b=e[3];e[3]=b?gs(b,p,t[4]):p,e[4]=b?En(e[3],E):t[4]}return p=t[5],p&&(b=e[5],e[5]=b?_s(b,p,t[6]):p,e[6]=b?En(e[5],E):t[6]),p=t[7],p&&(e[7]=p),r&z&&(e[8]=e[8]==null?t[8]:pt(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}function Nh(e){var t=[];if(e!=null)for(var n in Re(e))t.push(n);return t}function Hh(e){return Ur.call(e)}function ks(e,t,n){return t=lt(t===i?e.length-1:t,0),function(){for(var r=arguments,l=-1,u=lt(r.length-t,0),c=A(u);++l<u;)c[l]=r[t+l];l=-1;for(var p=A(t+1);++l<t;)p[l]=r[l];return p[t]=n(c),It(e,this,p)}}function Ms(e,t){return t.length<2?e:Bn(e,Kt(t,0,-1))}function Gh(e,t){for(var n=e.length,r=pt(t.length,n),l=yt(e);r--;){var u=t[r];e[r]=dn(u,n)?l[u]:i}return e}function Sa(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Ws=Bs(as),xr=rf||function(e,t){return ht.setTimeout(e,t)},La=Bs(ch);function Ps(e,t,n){var r=t+"";return La(e,kh(r,zh($h(r),n)))}function Bs(e){var t=0,n=0;return function(){var r=uf(),l=Te-(r-n);if(n=r,l>0){if(++t>=ke)return arguments[0]}else t=0;return e.apply(i,arguments)}}function fi(e,t){var n=-1,r=e.length,l=r-1;for(t=t===i?r:t;++n<t;){var u=ua(n,l),c=e[u];e[u]=e[n],e[n]=c}return e.length=t,e}var Fs=Fh(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Dr,function(n,r,l,u){t.push(l?u.replace(Fu,"$1"):r||n)}),t});function rn(e){if(typeof e=="string"||$t(e))return e;var t=e+"";return t=="0"&&1/e==-Ie?"-0":t}function Un(e){if(e!=null){try{return Fr.call(e)}catch{}try{return e+""}catch{}}return""}function zh(e,t){return Ht(ue,function(n){var r="_."+n[0];t&n[1]&&!kr(e,r)&&e.push(r)}),e.sort()}function Us(e){if(e instanceof ce)return e.clone();var t=new zt(e.__wrapped__,e.__chain__);return t.__actions__=yt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function qh(e,t,n){(n?vt(e,t,n):t===i)?t=1:t=lt(re(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var l=0,u=0,c=A(Kr(r/t));l<r;)c[u++]=Kt(e,l,l+=t);return c}function Kh(e){for(var t=-1,n=e==null?0:e.length,r=0,l=[];++t<n;){var u=e[t];u&&(l[r++]=u)}return l}function Zh(){var e=arguments.length;if(!e)return[];for(var t=A(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return xn(te(n)?yt(n):[n],ct(t,1))}var Yh=ae(function(e,t){return je(e)?_r(e,ct(t,1,je,!0)):[]}),Xh=ae(function(e,t){var n=Zt(t);return je(n)&&(n=i),je(e)?_r(e,ct(t,1,je,!0),K(n,2)):[]}),Jh=ae(function(e,t){var n=Zt(t);return je(n)&&(n=i),je(e)?_r(e,ct(t,1,je,!0),i,n):[]});function Qh(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:re(t),Kt(e,t<0?0:t,r)):[]}function Vh(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:re(t),t=r-t,Kt(e,0,t<0?0:t)):[]}function jh(e,t){return e&&e.length?ni(e,K(t,3),!0,!0):[]}function ec(e,t){return e&&e.length?ni(e,K(t,3),!0):[]}function tc(e,t,n,r){var l=e==null?0:e.length;return l?(n&&typeof n!="number"&&vt(e,t,n)&&(n=0,r=l),Zf(e,t,n,r)):[]}function Ns(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var l=n==null?0:re(n);return l<0&&(l=lt(r+l,0)),Mr(e,K(t,3),l)}function Hs(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var l=r-1;return n!==i&&(l=re(n),l=n<0?lt(r+l,0):pt(l,r-1)),Mr(e,K(t,3),l,!0)}function Gs(e){var t=e==null?0:e.length;return t?ct(e,1):[]}function nc(e){var t=e==null?0:e.length;return t?ct(e,Ie):[]}function rc(e,t){var n=e==null?0:e.length;return n?(t=t===i?1:re(t),ct(e,t)):[]}function ic(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var l=e[t];r[l[0]]=l[1]}return r}function zs(e){return e&&e.length?e[0]:i}function ac(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var l=n==null?0:re(n);return l<0&&(l=lt(r+l,0)),Kn(e,t,l)}function lc(e){var t=e==null?0:e.length;return t?Kt(e,0,-1):[]}var sc=ae(function(e){var t=ze(e,da);return t.length&&t[0]===e[0]?ra(t):[]}),uc=ae(function(e){var t=Zt(e),n=ze(e,da);return t===Zt(n)?t=i:n.pop(),n.length&&n[0]===e[0]?ra(n,K(t,2)):[]}),oc=ae(function(e){var t=Zt(e),n=ze(e,da);return t=typeof t=="function"?t:i,t&&n.pop(),n.length&&n[0]===e[0]?ra(n,i,t):[]});function fc(e,t){return e==null?"":lf.call(e,t)}function Zt(e){var t=e==null?0:e.length;return t?e[t-1]:i}function hc(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var l=r;return n!==i&&(l=re(n),l=l<0?lt(r+l,0):pt(l,r-1)),t===t?Go(e,t,l):Mr(e,Al,l,!0)}function cc(e,t){return e&&e.length?ts(e,re(t)):i}var dc=ae(qs);function qs(e,t){return e&&e.length&&t&&t.length?sa(e,t):e}function pc(e,t,n){return e&&e.length&&t&&t.length?sa(e,t,K(n,2)):e}function gc(e,t,n){return e&&e.length&&t&&t.length?sa(e,t,i,n):e}var _c=cn(function(e,t){var n=e==null?0:e.length,r=ji(e,t);return is(e,ze(t,function(l){return dn(l,n)?+l:l}).sort(ps)),r});function vc(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,l=[],u=e.length;for(t=K(t,3);++r<u;){var c=e[r];t(c,r,e)&&(n.push(c),l.push(r))}return is(e,l),n}function Ta(e){return e==null?e:ff.call(e)}function mc(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&vt(e,t,n)?(t=0,n=r):(t=t==null?0:re(t),n=n===i?r:re(n)),Kt(e,t,n)):[]}function wc(e,t){return ti(e,t)}function bc(e,t,n){return fa(e,t,K(n,2))}function yc(e,t){var n=e==null?0:e.length;if(n){var r=ti(e,t);if(r<n&&jt(e[r],t))return r}return-1}function xc(e,t){return ti(e,t,!0)}function Ec(e,t,n){return fa(e,t,K(n,2),!0)}function Ac(e,t){var n=e==null?0:e.length;if(n){var r=ti(e,t,!0)-1;if(jt(e[r],t))return r}return-1}function Sc(e){return e&&e.length?ls(e):[]}function Lc(e,t){return e&&e.length?ls(e,K(t,2)):[]}function Tc(e){var t=e==null?0:e.length;return t?Kt(e,1,t):[]}function Ic(e,t,n){return e&&e.length?(t=n||t===i?1:re(t),Kt(e,0,t<0?0:t)):[]}function Cc(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:re(t),t=r-t,Kt(e,t<0?0:t,r)):[]}function Dc(e,t){return e&&e.length?ni(e,K(t,3),!1,!0):[]}function $c(e,t){return e&&e.length?ni(e,K(t,3)):[]}var Oc=ae(function(e){return Ln(ct(e,1,je,!0))}),Rc=ae(function(e){var t=Zt(e);return je(t)&&(t=i),Ln(ct(e,1,je,!0),K(t,2))}),kc=ae(function(e){var t=Zt(e);return t=typeof t=="function"?t:i,Ln(ct(e,1,je,!0),i,t)});function Mc(e){return e&&e.length?Ln(e):[]}function Wc(e,t){return e&&e.length?Ln(e,K(t,2)):[]}function Pc(e,t){return t=typeof t=="function"?t:i,e&&e.length?Ln(e,i,t):[]}function Ia(e){if(!(e&&e.length))return[];var t=0;return e=yn(e,function(n){if(je(n))return t=lt(n.length,t),!0}),qi(t,function(n){return ze(e,Hi(n))})}function Ks(e,t){if(!(e&&e.length))return[];var n=Ia(e);return t==null?n:ze(n,function(r){return It(t,i,r)})}var Bc=ae(function(e,t){return je(e)?_r(e,t):[]}),Fc=ae(function(e){return ca(yn(e,je))}),Uc=ae(function(e){var t=Zt(e);return je(t)&&(t=i),ca(yn(e,je),K(t,2))}),Nc=ae(function(e){var t=Zt(e);return t=typeof t=="function"?t:i,ca(yn(e,je),i,t)}),Hc=ae(Ia);function Gc(e,t){return fs(e||[],t||[],gr)}function zc(e,t){return fs(e||[],t||[],wr)}var qc=ae(function(e){var t=e.length,n=t>1?e[t-1]:i;return n=typeof n=="function"?(e.pop(),n):i,Ks(e,n)});function Zs(e){var t=s(e);return t.__chain__=!0,t}function Kc(e,t){return t(e),e}function hi(e,t){return t(e)}var Zc=cn(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,l=function(u){return ji(u,e)};return t>1||this.__actions__.length||!(r instanceof ce)||!dn(n)?this.thru(l):(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:hi,args:[l],thisArg:i}),new zt(r,this.__chain__).thru(function(u){return t&&!u.length&&u.push(i),u}))});function Yc(){return Zs(this)}function Xc(){return new zt(this.value(),this.__chain__)}function Jc(){this.__values__===i&&(this.__values__=su(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function Qc(){return this}function Vc(e){for(var t,n=this;n instanceof Jr;){var r=Us(n);r.__index__=0,r.__values__=i,t?l.__wrapped__=r:t=r;var l=r;n=n.__wrapped__}return l.__wrapped__=e,t}function jc(){var e=this.__wrapped__;if(e instanceof ce){var t=e;return this.__actions__.length&&(t=new ce(this)),t=t.reverse(),t.__actions__.push({func:hi,args:[Ta],thisArg:i}),new zt(t,this.__chain__)}return this.thru(Ta)}function ed(){return os(this.__wrapped__,this.__actions__)}var td=ri(function(e,t,n){Le.call(e,n)?++e[n]:fn(e,n,1)});function nd(e,t,n){var r=te(e)?xl:Kf;return n&&vt(e,t,n)&&(t=i),r(e,K(t,3))}function rd(e,t){var n=te(e)?yn:Kl;return n(e,K(t,3))}var id=bs(Ns),ad=bs(Hs);function ld(e,t){return ct(ci(e,t),1)}function sd(e,t){return ct(ci(e,t),Ie)}function ud(e,t,n){return n=n===i?1:re(n),ct(ci(e,t),n)}function Ys(e,t){var n=te(e)?Ht:Sn;return n(e,K(t,3))}function Xs(e,t){var n=te(e)?Lo:ql;return n(e,K(t,3))}var od=ri(function(e,t,n){Le.call(e,n)?e[n].push(t):fn(e,n,[t])});function fd(e,t,n,r){e=xt(e)?e:ir(e),n=n&&!r?re(n):0;var l=e.length;return n<0&&(n=lt(l+n,0)),vi(e)?n<=l&&e.indexOf(t,n)>-1:!!l&&Kn(e,t,n)>-1}var hd=ae(function(e,t,n){var r=-1,l=typeof t=="function",u=xt(e)?A(e.length):[];return Sn(e,function(c){u[++r]=l?It(t,c,n):vr(c,t,n)}),u}),cd=ri(function(e,t,n){fn(e,n,t)});function ci(e,t){var n=te(e)?ze:Vl;return n(e,K(t,3))}function dd(e,t,n,r){return e==null?[]:(te(t)||(t=t==null?[]:[t]),n=r?i:n,te(n)||(n=n==null?[]:[n]),ns(e,t,n))}var pd=ri(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function gd(e,t,n){var r=te(e)?Ui:Ll,l=arguments.length<3;return r(e,K(t,4),n,l,Sn)}function _d(e,t,n){var r=te(e)?To:Ll,l=arguments.length<3;return r(e,K(t,4),n,l,ql)}function vd(e,t){var n=te(e)?yn:Kl;return n(e,gi(K(t,3)))}function md(e){var t=te(e)?Nl:fh;return t(e)}function wd(e,t,n){(n?vt(e,t,n):t===i)?t=1:t=re(t);var r=te(e)?Nf:hh;return r(e,t)}function bd(e){var t=te(e)?Hf:dh;return t(e)}function yd(e){if(e==null)return 0;if(xt(e))return vi(e)?Yn(e):e.length;var t=gt(e);return t==Ge||t==Xe?e.size:aa(e).length}function xd(e,t,n){var r=te(e)?Ni:ph;return n&&vt(e,t,n)&&(t=i),r(e,K(t,3))}var Ed=ae(function(e,t){if(e==null)return[];var n=t.length;return n>1&&vt(e,t[0],t[1])?t=[]:n>2&&vt(t[0],t[1],t[2])&&(t=[t[0]]),ns(e,ct(t,1),[])}),di=nf||function(){return ht.Date.now()};function Ad(e,t){if(typeof t!="function")throw new Gt(w);return e=re(e),function(){if(--e<1)return t.apply(this,arguments)}}function Js(e,t,n){return t=n?i:t,t=e&&t==null?e.length:t,hn(e,z,i,i,i,i,t)}function Qs(e,t){var n;if(typeof t!="function")throw new Gt(w);return e=re(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Ca=ae(function(e,t,n){var r=ne;if(n.length){var l=En(n,nr(Ca));r|=me}return hn(e,r,t,n,l)}),Vs=ae(function(e,t,n){var r=ne|ee;if(n.length){var l=En(n,nr(Vs));r|=me}return hn(t,r,e,n,l)});function js(e,t,n){t=n?i:t;var r=hn(e,ge,i,i,i,i,i,t);return r.placeholder=js.placeholder,r}function eu(e,t,n){t=n?i:t;var r=hn(e,xe,i,i,i,i,i,t);return r.placeholder=eu.placeholder,r}function tu(e,t,n){var r,l,u,c,p,b,T=0,I=!1,M=!1,F=!0;if(typeof e!="function")throw new Gt(w);t=Yt(t)||0,Ke(n)&&(I=!!n.leading,M="maxWait"in n,u=M?lt(Yt(n.maxWait)||0,t):u,F="trailing"in n?!!n.trailing:F);function G(et){var en=r,_n=l;return r=l=i,T=et,c=e.apply(_n,en),c}function Z(et){return T=et,p=xr(oe,t),I?G(et):c}function ie(et){var en=et-b,_n=et-T,bu=t-en;return M?pt(bu,u-_n):bu}function Y(et){var en=et-b,_n=et-T;return b===i||en>=t||en<0||M&&_n>=u}function oe(){var et=di();if(Y(et))return de(et);p=xr(oe,ie(et))}function de(et){return p=i,F&&r?G(et):(r=l=i,c)}function Ot(){p!==i&&hs(p),T=0,r=b=l=p=i}function mt(){return p===i?c:de(di())}function Rt(){var et=di(),en=Y(et);if(r=arguments,l=this,b=et,en){if(p===i)return Z(b);if(M)return hs(p),p=xr(oe,t),G(b)}return p===i&&(p=xr(oe,t)),c}return Rt.cancel=Ot,Rt.flush=mt,Rt}var Sd=ae(function(e,t){return zl(e,1,t)}),Ld=ae(function(e,t,n){return zl(e,Yt(t)||0,n)});function Td(e){return hn(e,Ze)}function pi(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Gt(w);var n=function(){var r=arguments,l=t?t.apply(this,r):r[0],u=n.cache;if(u.has(l))return u.get(l);var c=e.apply(this,r);return n.cache=u.set(l,c)||u,c};return n.cache=new(pi.Cache||on),n}pi.Cache=on;function gi(e){if(typeof e!="function")throw new Gt(w);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Id(e){return Qs(2,e)}var Cd=gh(function(e,t){t=t.length==1&&te(t[0])?ze(t[0],Ct(K())):ze(ct(t,1),Ct(K()));var n=t.length;return ae(function(r){for(var l=-1,u=pt(r.length,n);++l<u;)r[l]=t[l].call(this,r[l]);return It(e,this,r)})}),Da=ae(function(e,t){var n=En(t,nr(Da));return hn(e,me,i,t,n)}),nu=ae(function(e,t){var n=En(t,nr(nu));return hn(e,N,i,t,n)}),Dd=cn(function(e,t){return hn(e,le,i,i,i,t)});function $d(e,t){if(typeof e!="function")throw new Gt(w);return t=t===i?t:re(t),ae(e,t)}function Od(e,t){if(typeof e!="function")throw new Gt(w);return t=t==null?0:lt(re(t),0),ae(function(n){var r=n[t],l=In(n,0,t);return r&&xn(l,r),It(e,this,l)})}function Rd(e,t,n){var r=!0,l=!0;if(typeof e!="function")throw new Gt(w);return Ke(n)&&(r="leading"in n?!!n.leading:r,l="trailing"in n?!!n.trailing:l),tu(e,t,{leading:r,maxWait:t,trailing:l})}function kd(e){return Js(e,1)}function Md(e,t){return Da(pa(t),e)}function Wd(){if(!arguments.length)return[];var e=arguments[0];return te(e)?e:[e]}function Pd(e){return qt(e,S)}function Bd(e,t){return t=typeof t=="function"?t:i,qt(e,S,t)}function Fd(e){return qt(e,C|S)}function Ud(e,t){return t=typeof t=="function"?t:i,qt(e,C|S,t)}function Nd(e,t){return t==null||Gl(e,t,ft(t))}function jt(e,t){return e===t||e!==e&&t!==t}var Hd=si(na),Gd=si(function(e,t){return e>=t}),Nn=Xl(function(){return arguments}())?Xl:function(e){return Je(e)&&Le.call(e,"callee")&&!Ml.call(e,"callee")},te=A.isArray,zd=_l?Ct(_l):Vf;function xt(e){return e!=null&&_i(e.length)&&!pn(e)}function je(e){return Je(e)&&xt(e)}function qd(e){return e===!0||e===!1||Je(e)&&_t(e)==Oe}var Cn=af||Na,Kd=vl?Ct(vl):jf;function Zd(e){return Je(e)&&e.nodeType===1&&!Er(e)}function Yd(e){if(e==null)return!0;if(xt(e)&&(te(e)||typeof e=="string"||typeof e.splice=="function"||Cn(e)||rr(e)||Nn(e)))return!e.length;var t=gt(e);if(t==Ge||t==Xe)return!e.size;if(yr(e))return!aa(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0}function Xd(e,t){return mr(e,t)}function Jd(e,t,n){n=typeof n=="function"?n:i;var r=n?n(e,t):i;return r===i?mr(e,t,i,n):!!r}function $a(e){if(!Je(e))return!1;var t=_t(e);return t==ut||t==De||typeof e.message=="string"&&typeof e.name=="string"&&!Er(e)}function Qd(e){return typeof e=="number"&&Pl(e)}function pn(e){if(!Ke(e))return!1;var t=_t(e);return t==we||t==St||t==rt||t==vn}function ru(e){return typeof e=="number"&&e==re(e)}function _i(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Se}function Ke(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Je(e){return e!=null&&typeof e=="object"}var iu=ml?Ct(ml):th;function Vd(e,t){return e===t||ia(e,t,ya(t))}function jd(e,t,n){return n=typeof n=="function"?n:i,ia(e,t,ya(t),n)}function ep(e){return au(e)&&e!=+e}function tp(e){if(Bh(e))throw new j(d);return Jl(e)}function np(e){return e===null}function rp(e){return e==null}function au(e){return typeof e=="number"||Je(e)&&_t(e)==ot}function Er(e){if(!Je(e)||_t(e)!=be)return!1;var t=Gr(e);if(t===null)return!0;var n=Le.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Fr.call(n)==Vo}var Oa=wl?Ct(wl):nh;function ip(e){return ru(e)&&e>=-Se&&e<=Se}var lu=bl?Ct(bl):rh;function vi(e){return typeof e=="string"||!te(e)&&Je(e)&&_t(e)==wt}function $t(e){return typeof e=="symbol"||Je(e)&&_t(e)==Xt}var rr=yl?Ct(yl):ih;function ap(e){return e===i}function lp(e){return Je(e)&&gt(e)==bt}function sp(e){return Je(e)&&_t(e)==Jt}var up=si(la),op=si(function(e,t){return e<=t});function su(e){if(!e)return[];if(xt(e))return vi(e)?Qt(e):yt(e);if(fr&&e[fr])return Uo(e[fr]());var t=gt(e),n=t==Ge?Zi:t==Xe?Wr:ir;return n(e)}function gn(e){if(!e)return e===0?e:0;if(e=Yt(e),e===Ie||e===-Ie){var t=e<0?-1:1;return t*se}return e===e?e:0}function re(e){var t=gn(e),n=t%1;return t===t?n?t-n:t:0}function uu(e){return e?Pn(re(e),0,_e):0}function Yt(e){if(typeof e=="number")return e;if($t(e))return $e;if(Ke(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ke(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Tl(e);var n=Hu.test(e);return n||zu.test(e)?Eo(e.slice(2),n?2:8):Nu.test(e)?$e:+e}function ou(e){return nn(e,Et(e))}function fp(e){return e?Pn(re(e),-Se,Se):e===0?e:0}function Ae(e){return e==null?"":Dt(e)}var hp=er(function(e,t){if(yr(t)||xt(t)){nn(t,ft(t),e);return}for(var n in t)Le.call(t,n)&&gr(e,n,t[n])}),fu=er(function(e,t){nn(t,Et(t),e)}),mi=er(function(e,t,n,r){nn(t,Et(t),e,r)}),cp=er(function(e,t,n,r){nn(t,ft(t),e,r)}),dp=cn(ji);function pp(e,t){var n=jn(e);return t==null?n:Hl(n,t)}var gp=ae(function(e,t){e=Re(e);var n=-1,r=t.length,l=r>2?t[2]:i;for(l&&vt(t[0],t[1],l)&&(r=1);++n<r;)for(var u=t[n],c=Et(u),p=-1,b=c.length;++p<b;){var T=c[p],I=e[T];(I===i||jt(I,Jn[T])&&!Le.call(e,T))&&(e[T]=u[T])}return e}),_p=ae(function(e){return e.push(i,Ts),It(hu,i,e)});function vp(e,t){return El(e,K(t,3),tn)}function mp(e,t){return El(e,K(t,3),ta)}function wp(e,t){return e==null?e:ea(e,K(t,3),Et)}function bp(e,t){return e==null?e:Zl(e,K(t,3),Et)}function yp(e,t){return e&&tn(e,K(t,3))}function xp(e,t){return e&&ta(e,K(t,3))}function Ep(e){return e==null?[]:jr(e,ft(e))}function Ap(e){return e==null?[]:jr(e,Et(e))}function Ra(e,t,n){var r=e==null?i:Bn(e,t);return r===i?n:r}function Sp(e,t){return e!=null&&Ds(e,t,Yf)}function ka(e,t){return e!=null&&Ds(e,t,Xf)}var Lp=xs(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Ur.call(t)),e[t]=n},Wa(At)),Tp=xs(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Ur.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]},K),Ip=ae(vr);function ft(e){return xt(e)?Ul(e):aa(e)}function Et(e){return xt(e)?Ul(e,!0):ah(e)}function Cp(e,t){var n={};return t=K(t,3),tn(e,function(r,l,u){fn(n,t(r,l,u),r)}),n}function Dp(e,t){var n={};return t=K(t,3),tn(e,function(r,l,u){fn(n,l,t(r,l,u))}),n}var $p=er(function(e,t,n){ei(e,t,n)}),hu=er(function(e,t,n,r){ei(e,t,n,r)}),Op=cn(function(e,t){var n={};if(e==null)return n;var r=!1;t=ze(t,function(u){return u=Tn(u,e),r||(r=u.length>1),u}),nn(e,wa(e),n),r&&(n=qt(n,C|U|S,Lh));for(var l=t.length;l--;)ha(n,t[l]);return n});function Rp(e,t){return cu(e,gi(K(t)))}var kp=cn(function(e,t){return e==null?{}:sh(e,t)});function cu(e,t){if(e==null)return{};var n=ze(wa(e),function(r){return[r]});return t=K(t),rs(e,n,function(r,l){return t(r,l[0])})}function Mp(e,t,n){t=Tn(t,e);var r=-1,l=t.length;for(l||(l=1,e=i);++r<l;){var u=e==null?i:e[rn(t[r])];u===i&&(r=l,u=n),e=pn(u)?u.call(e):u}return e}function Wp(e,t,n){return e==null?e:wr(e,t,n)}function Pp(e,t,n,r){return r=typeof r=="function"?r:i,e==null?e:wr(e,t,n,r)}var du=Ss(ft),pu=Ss(Et);function Bp(e,t,n){var r=te(e),l=r||Cn(e)||rr(e);if(t=K(t,4),n==null){var u=e&&e.constructor;l?n=r?new u:[]:Ke(e)?n=pn(u)?jn(Gr(e)):{}:n={}}return(l?Ht:tn)(e,function(c,p,b){return t(n,c,p,b)}),n}function Fp(e,t){return e==null?!0:ha(e,t)}function Up(e,t,n){return e==null?e:us(e,t,pa(n))}function Np(e,t,n,r){return r=typeof r=="function"?r:i,e==null?e:us(e,t,pa(n),r)}function ir(e){return e==null?[]:Ki(e,ft(e))}function Hp(e){return e==null?[]:Ki(e,Et(e))}function Gp(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=Yt(n),n=n===n?n:0),t!==i&&(t=Yt(t),t=t===t?t:0),Pn(Yt(e),t,n)}function zp(e,t,n){return t=gn(t),n===i?(n=t,t=0):n=gn(n),e=Yt(e),Jf(e,t,n)}function qp(e,t,n){if(n&&typeof n!="boolean"&&vt(e,t,n)&&(t=n=i),n===i&&(typeof t=="boolean"?(n=t,t=i):typeof e=="boolean"&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=gn(e),t===i?(t=e,e=0):t=gn(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var l=Bl();return pt(e+l*(t-e+xo("1e-"+((l+"").length-1))),t)}return ua(e,t)}var Kp=tr(function(e,t,n){return t=t.toLowerCase(),e+(n?gu(t):t)});function gu(e){return Ma(Ae(e).toLowerCase())}function _u(e){return e=Ae(e),e&&e.replace(Ku,Mo).replace(ho,"")}function Zp(e,t,n){e=Ae(e),t=Dt(t);var r=e.length;n=n===i?r:Pn(re(n),0,r);var l=n;return n-=t.length,n>=0&&e.slice(n,l)==t}function Yp(e){return e=Ae(e),e&&wn.test(e)?e.replace(sr,Wo):e}function Xp(e){return e=Ae(e),e&&Ou.test(e)?e.replace(Di,"\\$&"):e}var Jp=tr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Qp=tr(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Vp=ws("toLowerCase");function jp(e,t,n){e=Ae(e),t=re(t);var r=t?Yn(e):0;if(!t||r>=t)return e;var l=(t-r)/2;return li(Zr(l),n)+e+li(Kr(l),n)}function eg(e,t,n){e=Ae(e),t=re(t);var r=t?Yn(e):0;return t&&r<t?e+li(t-r,n):e}function tg(e,t,n){e=Ae(e),t=re(t);var r=t?Yn(e):0;return t&&r<t?li(t-r,n)+e:e}function ng(e,t,n){return n||t==null?t=0:t&&(t=+t),of(Ae(e).replace($i,""),t||0)}function rg(e,t,n){return(n?vt(e,t,n):t===i)?t=1:t=re(t),oa(Ae(e),t)}function ig(){var e=arguments,t=Ae(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var ag=tr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function lg(e,t,n){return n&&typeof n!="number"&&vt(e,t,n)&&(t=n=i),n=n===i?_e:n>>>0,n?(e=Ae(e),e&&(typeof t=="string"||t!=null&&!Oa(t))&&(t=Dt(t),!t&&Zn(e))?In(Qt(e),0,n):e.split(t,n)):[]}var sg=tr(function(e,t,n){return e+(n?" ":"")+Ma(t)});function ug(e,t,n){return e=Ae(e),n=n==null?0:Pn(re(n),0,e.length),t=Dt(t),e.slice(n,n+t.length)==t}function og(e,t,n){var r=s.templateSettings;n&&vt(e,t,n)&&(t=i),e=Ae(e),t=mi({},t,r,Ls);var l=mi({},t.imports,r.imports,Ls),u=ft(l),c=Ki(l,u),p,b,T=0,I=t.interpolate||$r,M="__p += '",F=Yi((t.escape||$r).source+"|"+I.source+"|"+(I===ur?Uu:$r).source+"|"+(t.evaluate||$r).source+"|$","g"),G="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++vo+"]")+`
`;e.replace(F,function(Y,oe,de,Ot,mt,Rt){return de||(de=Ot),M+=e.slice(T,Rt).replace(Zu,Po),oe&&(p=!0,M+=`' +
__e(`+oe+`) +
'`),mt&&(b=!0,M+=`';
`+mt+`;
__p += '`),de&&(M+=`' +
((__t = (`+de+`)) == null ? '' : __t) +
'`),T=Rt+Y.length,Y}),M+=`';
`;var Z=Le.call(t,"variable")&&t.variable;if(!Z)M=`with (obj) {
`+M+`
}
`;else if(Bu.test(Z))throw new j(h);M=(b?M.replace(mn,""):M).replace(ar,"$1").replace(Tr,"$1;"),M="function("+(Z||"obj")+`) {
`+(Z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(p?", __e = _.escape":"")+(b?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+M+`return __p
}`;var ie=mu(function(){return ye(u,G+"return "+M).apply(i,c)});if(ie.source=M,$a(ie))throw ie;return ie}function fg(e){return Ae(e).toLowerCase()}function hg(e){return Ae(e).toUpperCase()}function cg(e,t,n){if(e=Ae(e),e&&(n||t===i))return Tl(e);if(!e||!(t=Dt(t)))return e;var r=Qt(e),l=Qt(t),u=Il(r,l),c=Cl(r,l)+1;return In(r,u,c).join("")}function dg(e,t,n){if(e=Ae(e),e&&(n||t===i))return e.slice(0,$l(e)+1);if(!e||!(t=Dt(t)))return e;var r=Qt(e),l=Cl(r,Qt(t))+1;return In(r,0,l).join("")}function pg(e,t,n){if(e=Ae(e),e&&(n||t===i))return e.replace($i,"");if(!e||!(t=Dt(t)))return e;var r=Qt(e),l=Il(r,Qt(t));return In(r,l).join("")}function gg(e,t){var n=Ye,r=Ee;if(Ke(t)){var l="separator"in t?t.separator:l;n="length"in t?re(t.length):n,r="omission"in t?Dt(t.omission):r}e=Ae(e);var u=e.length;if(Zn(e)){var c=Qt(e);u=c.length}if(n>=u)return e;var p=n-Yn(r);if(p<1)return r;var b=c?In(c,0,p).join(""):e.slice(0,p);if(l===i)return b+r;if(c&&(p+=b.length-p),Oa(l)){if(e.slice(p).search(l)){var T,I=b;for(l.global||(l=Yi(l.source,Ae(Xa.exec(l))+"g")),l.lastIndex=0;T=l.exec(I);)var M=T.index;b=b.slice(0,M===i?p:M)}}else if(e.indexOf(Dt(l),p)!=p){var F=b.lastIndexOf(l);F>-1&&(b=b.slice(0,F))}return b+r}function _g(e){return e=Ae(e),e&&Gn.test(e)?e.replace(lr,zo):e}var vg=tr(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Ma=ws("toUpperCase");function vu(e,t,n){return e=Ae(e),t=n?i:t,t===i?Fo(e)?Zo(e):Do(e):e.match(t)||[]}var mu=ae(function(e,t){try{return It(e,i,t)}catch(n){return $a(n)?n:new j(n)}}),mg=cn(function(e,t){return Ht(t,function(n){n=rn(n),fn(e,n,Ca(e[n],e))}),e});function wg(e){var t=e==null?0:e.length,n=K();return e=t?ze(e,function(r){if(typeof r[1]!="function")throw new Gt(w);return[n(r[0]),r[1]]}):[],ae(function(r){for(var l=-1;++l<t;){var u=e[l];if(It(u[0],this,r))return It(u[1],this,r)}})}function bg(e){return qf(qt(e,C))}function Wa(e){return function(){return e}}function yg(e,t){return e==null||e!==e?t:e}var xg=ys(),Eg=ys(!0);function At(e){return e}function Pa(e){return Ql(typeof e=="function"?e:qt(e,C))}function Ag(e){return jl(qt(e,C))}function Sg(e,t){return es(e,qt(t,C))}var Lg=ae(function(e,t){return function(n){return vr(n,e,t)}}),Tg=ae(function(e,t){return function(n){return vr(e,n,t)}});function Ba(e,t,n){var r=ft(t),l=jr(t,r);n==null&&!(Ke(t)&&(l.length||!r.length))&&(n=t,t=e,e=this,l=jr(t,ft(t)));var u=!(Ke(n)&&"chain"in n)||!!n.chain,c=pn(e);return Ht(l,function(p){var b=t[p];e[p]=b,c&&(e.prototype[p]=function(){var T=this.__chain__;if(u||T){var I=e(this.__wrapped__),M=I.__actions__=yt(this.__actions__);return M.push({func:b,args:arguments,thisArg:e}),I.__chain__=T,I}return b.apply(e,xn([this.value()],arguments))})}),e}function Ig(){return ht._===this&&(ht._=jo),this}function Fa(){}function Cg(e){return e=re(e),ae(function(t){return ts(t,e)})}var Dg=_a(ze),$g=_a(xl),Og=_a(Ni);function wu(e){return Ea(e)?Hi(rn(e)):uh(e)}function Rg(e){return function(t){return e==null?i:Bn(e,t)}}var kg=Es(),Mg=Es(!0);function Ua(){return[]}function Na(){return!1}function Wg(){return{}}function Pg(){return""}function Bg(){return!0}function Fg(e,t){if(e=re(e),e<1||e>Se)return[];var n=_e,r=pt(e,_e);t=K(t),e-=_e;for(var l=qi(r,t);++n<e;)t(n);return l}function Ug(e){return te(e)?ze(e,rn):$t(e)?[e]:yt(Fs(Ae(e)))}function Ng(e){var t=++Qo;return Ae(e)+t}var Hg=ai(function(e,t){return e+t},0),Gg=va("ceil"),zg=ai(function(e,t){return e/t},1),qg=va("floor");function Kg(e){return e&&e.length?Vr(e,At,na):i}function Zg(e,t){return e&&e.length?Vr(e,K(t,2),na):i}function Yg(e){return Sl(e,At)}function Xg(e,t){return Sl(e,K(t,2))}function Jg(e){return e&&e.length?Vr(e,At,la):i}function Qg(e,t){return e&&e.length?Vr(e,K(t,2),la):i}var Vg=ai(function(e,t){return e*t},1),jg=va("round"),e_=ai(function(e,t){return e-t},0);function t_(e){return e&&e.length?zi(e,At):0}function n_(e,t){return e&&e.length?zi(e,K(t,2)):0}return s.after=Ad,s.ary=Js,s.assign=hp,s.assignIn=fu,s.assignInWith=mi,s.assignWith=cp,s.at=dp,s.before=Qs,s.bind=Ca,s.bindAll=mg,s.bindKey=Vs,s.castArray=Wd,s.chain=Zs,s.chunk=qh,s.compact=Kh,s.concat=Zh,s.cond=wg,s.conforms=bg,s.constant=Wa,s.countBy=td,s.create=pp,s.curry=js,s.curryRight=eu,s.debounce=tu,s.defaults=gp,s.defaultsDeep=_p,s.defer=Sd,s.delay=Ld,s.difference=Yh,s.differenceBy=Xh,s.differenceWith=Jh,s.drop=Qh,s.dropRight=Vh,s.dropRightWhile=jh,s.dropWhile=ec,s.fill=tc,s.filter=rd,s.flatMap=ld,s.flatMapDeep=sd,s.flatMapDepth=ud,s.flatten=Gs,s.flattenDeep=nc,s.flattenDepth=rc,s.flip=Td,s.flow=xg,s.flowRight=Eg,s.fromPairs=ic,s.functions=Ep,s.functionsIn=Ap,s.groupBy=od,s.initial=lc,s.intersection=sc,s.intersectionBy=uc,s.intersectionWith=oc,s.invert=Lp,s.invertBy=Tp,s.invokeMap=hd,s.iteratee=Pa,s.keyBy=cd,s.keys=ft,s.keysIn=Et,s.map=ci,s.mapKeys=Cp,s.mapValues=Dp,s.matches=Ag,s.matchesProperty=Sg,s.memoize=pi,s.merge=$p,s.mergeWith=hu,s.method=Lg,s.methodOf=Tg,s.mixin=Ba,s.negate=gi,s.nthArg=Cg,s.omit=Op,s.omitBy=Rp,s.once=Id,s.orderBy=dd,s.over=Dg,s.overArgs=Cd,s.overEvery=$g,s.overSome=Og,s.partial=Da,s.partialRight=nu,s.partition=pd,s.pick=kp,s.pickBy=cu,s.property=wu,s.propertyOf=Rg,s.pull=dc,s.pullAll=qs,s.pullAllBy=pc,s.pullAllWith=gc,s.pullAt=_c,s.range=kg,s.rangeRight=Mg,s.rearg=Dd,s.reject=vd,s.remove=vc,s.rest=$d,s.reverse=Ta,s.sampleSize=wd,s.set=Wp,s.setWith=Pp,s.shuffle=bd,s.slice=mc,s.sortBy=Ed,s.sortedUniq=Sc,s.sortedUniqBy=Lc,s.split=lg,s.spread=Od,s.tail=Tc,s.take=Ic,s.takeRight=Cc,s.takeRightWhile=Dc,s.takeWhile=$c,s.tap=Kc,s.throttle=Rd,s.thru=hi,s.toArray=su,s.toPairs=du,s.toPairsIn=pu,s.toPath=Ug,s.toPlainObject=ou,s.transform=Bp,s.unary=kd,s.union=Oc,s.unionBy=Rc,s.unionWith=kc,s.uniq=Mc,s.uniqBy=Wc,s.uniqWith=Pc,s.unset=Fp,s.unzip=Ia,s.unzipWith=Ks,s.update=Up,s.updateWith=Np,s.values=ir,s.valuesIn=Hp,s.without=Bc,s.words=vu,s.wrap=Md,s.xor=Fc,s.xorBy=Uc,s.xorWith=Nc,s.zip=Hc,s.zipObject=Gc,s.zipObjectDeep=zc,s.zipWith=qc,s.entries=du,s.entriesIn=pu,s.extend=fu,s.extendWith=mi,Ba(s,s),s.add=Hg,s.attempt=mu,s.camelCase=Kp,s.capitalize=gu,s.ceil=Gg,s.clamp=Gp,s.clone=Pd,s.cloneDeep=Fd,s.cloneDeepWith=Ud,s.cloneWith=Bd,s.conformsTo=Nd,s.deburr=_u,s.defaultTo=yg,s.divide=zg,s.endsWith=Zp,s.eq=jt,s.escape=Yp,s.escapeRegExp=Xp,s.every=nd,s.find=id,s.findIndex=Ns,s.findKey=vp,s.findLast=ad,s.findLastIndex=Hs,s.findLastKey=mp,s.floor=qg,s.forEach=Ys,s.forEachRight=Xs,s.forIn=wp,s.forInRight=bp,s.forOwn=yp,s.forOwnRight=xp,s.get=Ra,s.gt=Hd,s.gte=Gd,s.has=Sp,s.hasIn=ka,s.head=zs,s.identity=At,s.includes=fd,s.indexOf=ac,s.inRange=zp,s.invoke=Ip,s.isArguments=Nn,s.isArray=te,s.isArrayBuffer=zd,s.isArrayLike=xt,s.isArrayLikeObject=je,s.isBoolean=qd,s.isBuffer=Cn,s.isDate=Kd,s.isElement=Zd,s.isEmpty=Yd,s.isEqual=Xd,s.isEqualWith=Jd,s.isError=$a,s.isFinite=Qd,s.isFunction=pn,s.isInteger=ru,s.isLength=_i,s.isMap=iu,s.isMatch=Vd,s.isMatchWith=jd,s.isNaN=ep,s.isNative=tp,s.isNil=rp,s.isNull=np,s.isNumber=au,s.isObject=Ke,s.isObjectLike=Je,s.isPlainObject=Er,s.isRegExp=Oa,s.isSafeInteger=ip,s.isSet=lu,s.isString=vi,s.isSymbol=$t,s.isTypedArray=rr,s.isUndefined=ap,s.isWeakMap=lp,s.isWeakSet=sp,s.join=fc,s.kebabCase=Jp,s.last=Zt,s.lastIndexOf=hc,s.lowerCase=Qp,s.lowerFirst=Vp,s.lt=up,s.lte=op,s.max=Kg,s.maxBy=Zg,s.mean=Yg,s.meanBy=Xg,s.min=Jg,s.minBy=Qg,s.stubArray=Ua,s.stubFalse=Na,s.stubObject=Wg,s.stubString=Pg,s.stubTrue=Bg,s.multiply=Vg,s.nth=cc,s.noConflict=Ig,s.noop=Fa,s.now=di,s.pad=jp,s.padEnd=eg,s.padStart=tg,s.parseInt=ng,s.random=qp,s.reduce=gd,s.reduceRight=_d,s.repeat=rg,s.replace=ig,s.result=Mp,s.round=jg,s.runInContext=m,s.sample=md,s.size=yd,s.snakeCase=ag,s.some=xd,s.sortedIndex=wc,s.sortedIndexBy=bc,s.sortedIndexOf=yc,s.sortedLastIndex=xc,s.sortedLastIndexBy=Ec,s.sortedLastIndexOf=Ac,s.startCase=sg,s.startsWith=ug,s.subtract=e_,s.sum=t_,s.sumBy=n_,s.template=og,s.times=Fg,s.toFinite=gn,s.toInteger=re,s.toLength=uu,s.toLower=fg,s.toNumber=Yt,s.toSafeInteger=fp,s.toString=Ae,s.toUpper=hg,s.trim=cg,s.trimEnd=dg,s.trimStart=pg,s.truncate=gg,s.unescape=_g,s.uniqueId=Ng,s.upperCase=vg,s.upperFirst=Ma,s.each=Ys,s.eachRight=Xs,s.first=zs,Ba(s,function(){var e={};return tn(s,function(t,n){Le.call(s.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),s.VERSION=o,Ht(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){s[e].placeholder=s}),Ht(["drop","take"],function(e,t){ce.prototype[e]=function(n){n=n===i?1:lt(re(n),0);var r=this.__filtered__&&!t?new ce(this):this.clone();return r.__filtered__?r.__takeCount__=pt(n,r.__takeCount__):r.__views__.push({size:pt(n,_e),type:e+(r.__dir__<0?"Right":"")}),r},ce.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),Ht(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Ne||n==st;ce.prototype[e]=function(l){var u=this.clone();return u.__iteratees__.push({iteratee:K(l,3),type:n}),u.__filtered__=u.__filtered__||r,u}}),Ht(["head","last"],function(e,t){var n="take"+(t?"Right":"");ce.prototype[e]=function(){return this[n](1).value()[0]}}),Ht(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");ce.prototype[e]=function(){return this.__filtered__?new ce(this):this[n](1)}}),ce.prototype.compact=function(){return this.filter(At)},ce.prototype.find=function(e){return this.filter(e).head()},ce.prototype.findLast=function(e){return this.reverse().find(e)},ce.prototype.invokeMap=ae(function(e,t){return typeof e=="function"?new ce(this):this.map(function(n){return vr(n,e,t)})}),ce.prototype.reject=function(e){return this.filter(gi(K(e)))},ce.prototype.slice=function(e,t){e=re(e);var n=this;return n.__filtered__&&(e>0||t<0)?new ce(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(t=re(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},ce.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ce.prototype.toArray=function(){return this.take(_e)},tn(ce.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),l=s[r?"take"+(t=="last"?"Right":""):t],u=r||/^find/.test(t);!l||(s.prototype[t]=function(){var c=this.__wrapped__,p=r?[1]:arguments,b=c instanceof ce,T=p[0],I=b||te(c),M=function(oe){var de=l.apply(s,xn([oe],p));return r&&F?de[0]:de};I&&n&&typeof T=="function"&&T.length!=1&&(b=I=!1);var F=this.__chain__,G=!!this.__actions__.length,Z=u&&!F,ie=b&&!G;if(!u&&I){c=ie?c:new ce(this);var Y=e.apply(c,p);return Y.__actions__.push({func:hi,args:[M],thisArg:i}),new zt(Y,F)}return Z&&ie?e.apply(this,p):(Y=this.thru(M),Z?r?Y.value()[0]:Y.value():Y)})}),Ht(["pop","push","shift","sort","splice","unshift"],function(e){var t=Pr[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);s.prototype[e]=function(){var l=arguments;if(r&&!this.__chain__){var u=this.value();return t.apply(te(u)?u:[],l)}return this[n](function(c){return t.apply(te(c)?c:[],l)})}}),tn(ce.prototype,function(e,t){var n=s[t];if(n){var r=n.name+"";Le.call(Vn,r)||(Vn[r]=[]),Vn[r].push({name:t,func:n})}}),Vn[ii(i,ee).name]=[{name:"wrapper",func:i}],ce.prototype.clone=_f,ce.prototype.reverse=vf,ce.prototype.value=mf,s.prototype.at=Zc,s.prototype.chain=Yc,s.prototype.commit=Xc,s.prototype.next=Jc,s.prototype.plant=Vc,s.prototype.reverse=jc,s.prototype.toJSON=s.prototype.valueOf=s.prototype.value=ed,s.prototype.first=s.prototype.head,fr&&(s.prototype[fr]=Qc),s},Xn=Yo();Rn?((Rn.exports=Xn)._=Xn,Pi._=Xn):ht._=Xn}).call(Sr)})(Eu,Eu.exports);let qa=[{id:"ani",name:"Ani",number:10},{id:"beniko",name:"Beniko",number:20},{id:"clara",name:"Clara",number:5},{id:"dobby",name:"Dobby",number:30},{id:"eli",name:"Eli",number:22},{id:"francisco",name:"Francisco",number:50}];qa=Lr.sortBy(qa,g=>g.number).reverse();var xi=qa;function Au(g,a,i){const o=g.slice();return o[16]=a[i],o[18]=i,o}function Su(g){let a,i,o,f,d;return{c(){a=Dn("rect"),this.h()},l(w){a=$n(w,"rect",{x:!0,width:!0,y:!0,height:!0,fill:!0}),O(a).forEach(v),this.h()},h(){W(a,"x",i=0),W(a,"width",o=g[5](g[16].number)),W(a,"y",f=g[4](g[16].id)),W(a,"height",d=g[4].bandwidth()),W(a,"fill",g[7])},m(w,h){B(w,a,h)},p(w,h){h&32&&o!==(o=w[5](w[16].number))&&W(a,"width",o),h&16&&f!==(f=w[4](w[16].id))&&W(a,"y",f),h&16&&d!==(d=w[4].bandwidth())&&W(a,"height",d),h&128&&W(a,"fill",w[7])},d(w){w&&v(a)}}}function tv(g){let a,i,o,f,d,w,h,y,x,E,C=xi,U=[];for(let S=0;S<C.length;S+=1)U[S]=Su(Au(g,C,S));return{c(){a=D("div"),i=D("div"),o=R("resize window to see responsiveness"),f=J(),d=Dn("svg"),w=Dn("g");for(let S=0;S<U.length;S+=1)U[S].c();h=Dn("g"),x=Dn("g"),this.h()},l(S){a=$(S,"DIV",{class:!0});var P=O(a);i=$(P,"DIV",{class:!0});var q=O(i);o=k(q,"resize window to see responsiveness"),q.forEach(v),f=Q(P),d=$n(P,"svg",{width:!0,height:!0});var ne=O(d);w=$n(ne,"g",{transform:!0});var ee=O(w);for(let V=0;V<U.length;V+=1)U[V].l(ee);h=$n(ee,"g",{transform:!0,id:!0}),O(h).forEach(v),x=$n(ee,"g",{transform:!0,id:!0}),O(x).forEach(v),ee.forEach(v),ne.forEach(v),P.forEach(v),this.h()},h(){W(i,"class","graph-note svelte-1n4mm5b"),W(h,"transform",y="translate("+0+", "+g[6]+")"),W(h,"id","x-axis-container"),W(x,"transform","translate("+0+", "+0+")"),W(x,"id","y-axis-container"),W(w,"transform","translate("+g[8].left+", "+g[8].top+")"),W(d,"width",g[2]),W(d,"height",g[3]),W(a,"class","graph-container svelte-1n4mm5b"),Ei(()=>g[15].call(a))},m(S,P){B(S,a,P),_(a,i),_(i,o),_(a,f),_(a,d),_(d,w);for(let q=0;q<U.length;q+=1)U[q].m(w,null);_(w,h),g[13](h),_(w,x),g[14](x),E=Ka(a,g[15].bind(a))},p(S,[P]){if(P&176){C=xi;let q;for(q=0;q<C.length;q+=1){const ne=Au(S,C,q);U[q]?U[q].p(ne,P):(U[q]=Su(ne),U[q].c(),U[q].m(w,h))}for(;q<U.length;q+=1)U[q].d(1);U.length=C.length}P&64&&y!==(y="translate("+0+", "+S[6]+")")&&W(h,"transform",y),P&4&&W(d,"width",S[2]),P&8&&W(d,"height",S[3])},i:fe,o:fe,d(S){S&&v(a),l_(U,S),g[13](null),g[14](null),E()}}}function nv(g,a,i){let o,f,d,w,h,y,x;Ai.prototype.appendSelect=Si;let E,C,U,S;const P={top:50,right:20,bottom:30,left:60};function q(V){bi[V?"unshift":"push"](()=>{E=V,i(0,E)})}function ne(V){bi[V?"unshift":"push"](()=>{C=V,i(1,C)})}function ee(){U=this.clientWidth,S=this.clientHeight,i(2,U),i(3,S)}return g.$$.update=()=>{g.$$.dirty&4&&i(12,o=U-P.left-P.right),g.$$.dirty&8&&i(6,f=S-P.top-P.bottom),g.$$.dirty&4&&i(7,d=U>=500?"#6b6065":"#ee3e3e"),g.$$.dirty&4608&&i(5,w=Li().domain([0,Za(xi,V=>V.number)]).range([0,o])),g.$$.dirty&576&&i(4,h=Ya().domain(xi.map(V=>V.id)).range([0,f]).paddingInner(.3)),g.$$.dirty&544&&i(11,y=g_(w)),g.$$.dirty&528&&i(10,x=__(h)),g.$$.dirty&2561&&E&&yi(E).call(y),g.$$.dirty&1538&&C&&yi(C).call(x).call(V=>V.select(".domain").remove())},[E,C,U,S,h,w,f,d,P,$u,x,y,o,q,ne,ee]}class rv extends kt{constructor(a){super(),Mt(this,a,nv,tv,Wt,{})}}const iv=`
  <script>
    ...
    
    let xAxisContainer 
    let yAxisContainer
    
    // Width and heigh which come from graph container 
    // and are passed in as the width and height of the svg
    let w;
    let h;
    const margin = { top: 50, right: 20, bottom: 30, left: 60 }
    $: boundedWidth = w - margin.left - margin.right
    $: boundedHeight = h - margin.top - margin.bottom
    $: fill = w >= 500 ? '#6b6065' : '#ee3e3e'

    // Scales 
    // These need to be $ reactive declarations because they depend on w and h 
    // If they didn't, we could have defined them as const 
    $: xScale = d3.scaleLinear()
      .domain([0, d3.max(data, d => d.number)])
      .range([0, boundedWidth])
    
    $: yScale = d3.scaleBand()
      .domain(data.map(d => d.id))
      .range([0, boundedHeight])
      .paddingInner(0.3)
    
    // Axes 
    // Same reason as for scales, these need to be reactive decralations
    $: xAxis = d3.axisBottom(xScale)
    $: yAxis = d3.axisLeft(yScale)

    // Call the axes either as reactive statements 
    // If calling from onMount, would also need to include resize event listener or
    // call from afterUpdate as well, as otherwise graph won't be responsive when w and h change
    $: if (xAxisContainer) d3.select(xAxisContainer).call(xAxis)
    $: if (yAxisContainer) d3.select(yAxisContainer).call(yAxis).call(g => g.select('.domain').remove())
  
  <\/script>

  <div
    class="graph-container"
    bind:clientWidth={w}
    bind:clientHeight={h}
  >
    <div class='graph-note'>resize window to see responsiveness</div>
    <svg width={w} height={h}>
      <g transform='translate({margin.left}, {margin.top})'>
        {#each data as d, i}
          <rect 
              x={0}
              width={xScale(d.number)} 
              y={yScale(d.id)}
              height={yScale.bandwidth()} 
              fill={fill}
          ></rect>
        {/each}
        <g transform='translate({0}, {boundedHeight})' id='x-axis-container' bind:this={xAxisContainer}></g>
        <g transform='translate({0}, {0})' id='y-axis-container' bind:this={yAxisContainer}></g>
      </g>
    </svg>
  </div>
`;function av(g){let a;return{c(){a=D("div")},l(i){a=$(i,"DIV",{}),O(a).forEach(v)},m(i,o){B(i,a,o)},p:fe,i:fe,o:fe,d(i){i&&v(a)}}}function lv(g){let a,i;return a=new Ci({props:{language:"javascript",source:iv,showCopyButton:!0}}),{c(){Pe(a.$$.fragment)},l(o){Be(a.$$.fragment,o)},m(o,f){Fe(a,o,f),i=!0},p:fe,i(o){i||(pe(a.$$.fragment,o),i=!0)},o(o){ve(a.$$.fragment,o),i=!1},d(o){Ue(a,o)}}}function sv(g){let a,i,o,f,d,w;a=new ev({});const h=[lv,av],y=[];function x(E,C){return 0}return f=x(),d=y[f]=h[f](g),{c(){Pe(a.$$.fragment),i=J(),o=D("div"),d.c(),this.h()},l(E){Be(a.$$.fragment,E),i=Q(E),o=$(E,"DIV",{class:!0});var C=O(o);d.l(C),C.forEach(v),this.h()},h(){W(o,"class","codeblock svelte-knnyit")},m(E,C){Fe(a,E,C),B(E,i,C),B(E,o,C),y[f].m(o,null),w=!0},p(E,C){d.p(E,C)},i(E){w||(pe(a.$$.fragment,E),pe(d),w=!0)},o(E){ve(a.$$.fragment,E),ve(d),w=!1},d(E){Ue(a,E),E&&v(i),E&&v(o),y[f].d()}}}function uv(g){let a,i;return{c(){a=D("h2"),i=R(g[1]),this.h()},l(o){a=$(o,"H2",{slot:!0,class:!0});var f=O(a);i=k(f,g[1]),f.forEach(v),this.h()},h(){W(a,"slot","title"),W(a,"class","svelte-knnyit")},m(o,f){B(o,a,f),_(a,i)},p(o,f){f&2&&On(i,o[1])},d(o){o&&v(a)}}}function ov(g){let a,i,o;return{c(){a=D("div"),i=D("a"),o=R(g[4]),this.h()},l(f){a=$(f,"DIV",{slot:!0,class:!0});var d=O(a);i=$(d,"A",{href:!0});var w=O(i);o=k(w,g[4]),w.forEach(v),d.forEach(v),this.h()},h(){W(i,"href",g[3]),W(a,"slot","external-link"),W(a,"class","external-link")},m(f,d){B(f,a,d),_(a,i),_(i,o)},p(f,d){d&16&&On(o,f[4]),d&8&&W(i,"href",f[3])},d(f){f&&v(a)}}}function fv(g){let a,i,o,f,d,w;return a=new Ii({props:{internalLink:g[2],date:g[5],$$slots:{"external-link":[ov],title:[uv],default:[sv]},$$scope:{ctx:g}}}),d=new rv({}),{c(){Pe(a.$$.fragment),i=J(),o=D("br"),f=J(),Pe(d.$$.fragment)},l(h){Be(a.$$.fragment,h),i=Q(h),o=$(h,"BR",{}),f=Q(h),Be(d.$$.fragment,h)},m(h,y){Fe(a,h,y),B(h,i,y),B(h,o,y),B(h,f,y),Fe(d,h,y),w=!0},p(h,y){const x={};y&4&&(x.internalLink=h[2]),y&32&&(x.date=h[5]),y&90&&(x.$$scope={dirty:y,ctx:h}),a.$set(x)},i(h){w||(pe(a.$$.fragment,h),pe(d.$$.fragment,h),w=!0)},o(h){ve(a.$$.fragment,h),ve(d.$$.fragment,h),w=!1},d(h){Ue(a,h),h&&v(i),h&&v(o),h&&v(f),Ue(d,h)}}}function hv(g){let a,i;return a=new Ti({props:{id:g[0],$$slots:{default:[fv]},$$scope:{ctx:g}}}),{c(){Pe(a.$$.fragment)},l(o){Be(a.$$.fragment,o)},m(o,f){Fe(a,o,f),i=!0},p(o,[f]){const d={};f&1&&(d.id=o[0]),f&126&&(d.$$scope={dirty:f,ctx:o}),a.$set(d)},i(o){i||(pe(a.$$.fragment,o),i=!0)},o(o){ve(a.$$.fragment,o),i=!1},d(o){Ue(a,o)}}}function cv(g,a,i){let{id:o}=a,{sectionTitle:f}=a,{internalLink:d}=a,{externalLink:w}=a,{externalLinkTitle:h}=a,{date:y}=a;return g.$$set=x=>{"id"in x&&i(0,o=x.id),"sectionTitle"in x&&i(1,f=x.sectionTitle),"internalLink"in x&&i(2,d=x.internalLink),"externalLink"in x&&i(3,w=x.externalLink),"externalLinkTitle"in x&&i(4,h=x.externalLinkTitle),"date"in x&&i(5,y=x.date)},[o,f,d,w,h,y]}class dv extends kt{constructor(a){super(),Mt(this,a,cv,hv,Wt,{id:0,sectionTitle:1,internalLink:2,externalLink:3,externalLinkTitle:4,date:5})}}function pv(g){let a,i,o,f,d,w,h,y,x,E,C,U,S,P,q,ne,ee,V,ge,xe,me,N,z,le,Ze,Ye,Ee,ke,Te,Ne,nt,st,Ie,Se,se,$e,_e,Ce,Qe,ue,he,Me,rt,Oe,it,De,ut,we,St,Ge,ot,Pt;return{c(){a=D("p"),i=R("Svg-based graph done entriely in Svelte (other than scales), including different transitions for elements that enter and leave the DOM."),o=J(),f=D("h3"),d=R("Main points"),w=J(),h=D("ul"),y=D("li"),x=R(`The use case here is when we have dynamic data such that we want DOM elements corresponding to each datum 
    to have (possibly different) transitions as they enter, update in, or leave the DOM. In other words, we want to 
    imitate the transitions possible inside a D3 general update pattern with enter, update and exit, entirely from Svelte. 
    Note that when adding the data-bound DOM elements in a svelte `),E=D("code"),C=R("each"),U=R(` block, you have to make sure that you can provide 
    a key with unique ids, i.e. you need to use a `),S=D("span"),P=R("keyed each block"),q=R("."),ne=J(),ee=D("li"),V=R("We use a "),ge=D("span"),xe=D("code"),me=R("fly"),N=R(" transition"),z=R(" imported from "),le=D("code"),Ze=R("svelte/transition"),Ye=R(" with some optional parameters."),Ee=J(),ke=D("li"),Te=R("For the circles "),Ne=D("span"),nt=R("entering the DOM"),st=R(", we use "),Ie=D("code"),Se=R("in:fly"),se=R(` with options to make
    each circle enter the DOM from a -300px horizontal position, and with each circle entering 200 ms after the previous.`),$e=J(),_e=D("li"),Ce=R("For the circles "),Qe=D("span"),ue=R("leaving the DOM"),he=R(", we use "),Me=D("code"),rt=R("out:fly"),Oe=R(` with options to make the circles 
    fly off 200px to the right before disappearing.`),it=J(),De=D("li"),ut=R("Finally, for any "),we=D("span"),St=R("updating DOM elements"),Ge=R(`, e.g. circles that stay on but change colour or size, we simply add a CSS transition to the circles with 
    `),ot=D("code"),Pt=R("transition: all 1s;"),this.h()},l(be){a=$(be,"P",{class:!0});var Ve=O(a);i=k(Ve,"Svg-based graph done entriely in Svelte (other than scales), including different transitions for elements that enter and leave the DOM."),Ve.forEach(v),o=Q(be),f=$(be,"H3",{});var vn=O(f);d=k(vn,"Main points"),vn.forEach(v),w=Q(be),h=$(be,"UL",{});var tt=O(h);y=$(tt,"LI",{});var Xe=O(y);x=k(Xe,`The use case here is when we have dynamic data such that we want DOM elements corresponding to each datum 
    to have (possibly different) transitions as they enter, update in, or leave the DOM. In other words, we want to 
    imitate the transitions possible inside a D3 general update pattern with enter, update and exit, entirely from Svelte. 
    Note that when adding the data-bound DOM elements in a svelte `),E=$(Xe,"CODE",{});var wt=O(E);C=k(wt,"each"),wt.forEach(v),U=k(Xe,` block, you have to make sure that you can provide 
    a key with unique ids, i.e. you need to use a `),S=$(Xe,"SPAN",{class:!0});var Xt=O(S);P=k(Xt,"keyed each block"),Xt.forEach(v),q=k(Xe,"."),Xe.forEach(v),ne=Q(tt),ee=$(tt,"LI",{});var Bt=O(ee);V=k(Bt,"We use a "),ge=$(Bt,"SPAN",{class:!0});var bt=O(ge);xe=$(bt,"CODE",{});var Jt=O(xe);me=k(Jt,"fly"),Jt.forEach(v),N=k(bt," transition"),bt.forEach(v),z=k(Bt," imported from "),le=$(Bt,"CODE",{});var Ft=O(le);Ze=k(Ft,"svelte/transition"),Ft.forEach(v),Ye=k(Bt," with some optional parameters."),Bt.forEach(v),Ee=Q(tt),ke=$(tt,"LI",{});var X=O(ke);Te=k(X,"For the circles "),Ne=$(X,"SPAN",{class:!0});var qe=O(Ne);nt=k(qe,"entering the DOM"),qe.forEach(v),st=k(X,", we use "),Ie=$(X,"CODE",{});var an=O(Ie);Se=k(an,"in:fly"),an.forEach(v),se=k(X,` with options to make
    each circle enter the DOM from a -300px horizontal position, and with each circle entering 200 ms after the previous.`),X.forEach(v),$e=Q(tt),_e=$(tt,"LI",{});var Lt=O(_e);Ce=k(Lt,"For the circles "),Qe=$(Lt,"SPAN",{class:!0});var Tt=O(Qe);ue=k(Tt,"leaving the DOM"),Tt.forEach(v),he=k(Lt,", we use "),Me=$(Lt,"CODE",{});var dt=O(Me);rt=k(dt,"out:fly"),dt.forEach(v),Oe=k(Lt,` with options to make the circles 
    fly off 200px to the right before disappearing.`),Lt.forEach(v),it=Q(tt),De=$(tt,"LI",{});var Ut=O(De);ut=k(Ut,"Finally, for any "),we=$(Ut,"SPAN",{class:!0});var ln=O(we);St=k(ln,"updating DOM elements"),ln.forEach(v),Ge=k(Ut,`, e.g. circles that stay on but change colour or size, we simply add a CSS transition to the circles with 
    `),ot=$(Ut,"CODE",{});var sn=O(ot);Pt=k(sn,"transition: all 1s;"),sn.forEach(v),Ut.forEach(v),tt.forEach(v),this.h()},h(){W(a,"class","summary"),W(S,"class","accent"),W(ge,"class","accent"),W(Ne,"class","accent"),W(Qe,"class","accent"),W(we,"class","accent")},m(be,Ve){B(be,a,Ve),_(a,i),B(be,o,Ve),B(be,f,Ve),_(f,d),B(be,w,Ve),B(be,h,Ve),_(h,y),_(y,x),_(y,E),_(E,C),_(y,U),_(y,S),_(S,P),_(y,q),_(h,ne),_(h,ee),_(ee,V),_(ee,ge),_(ge,xe),_(xe,me),_(ge,N),_(ee,z),_(ee,le),_(le,Ze),_(ee,Ye),_(h,Ee),_(h,ke),_(ke,Te),_(ke,Ne),_(Ne,nt),_(ke,st),_(ke,Ie),_(Ie,Se),_(ke,se),_(h,$e),_(h,_e),_(_e,Ce),_(_e,Qe),_(Qe,ue),_(_e,he),_(_e,Me),_(Me,rt),_(_e,Oe),_(h,it),_(h,De),_(De,ut),_(De,we),_(we,St),_(De,Ge),_(De,ot),_(ot,Pt)},p:fe,i:fe,o:fe,d(be){be&&v(a),be&&v(o),be&&v(f),be&&v(w),be&&v(h)}}}class gv extends kt{constructor(a){super(),Mt(this,a,null,pv,Wt,{})}}const Ha=[{id:"1",value:25,category:"cat"},{id:"2",value:30,category:"panda"},{id:"3",value:40,category:"cat"},{id:"4",value:20,category:"cat"},{id:"5",value:45,category:"panda"},{id:"6",value:25,category:"dog"}],_v=[{id:"1",value:10,category:"dog"},{id:"2",value:50,category:"panda"},{id:"4",value:20,category:"cat"},{id:"5",value:25,category:"panda"}];function Lu(g,a,i){const o=g.slice();return o[15]=a[i],o[17]=i,o}function Tu(g){let a,i,o,f,d,w,h,y,x;return{c(){a=Dn("circle"),this.h()},l(E){a=$n(E,"circle",{id:!0,cx:!0,cy:!0,fill:!0,r:!0,class:!0}),O(a).forEach(v),this.h()},h(){W(a,"id",i=g[15].id),W(a,"cx",o=g[5]/2),W(a,"cy",f=g[17]*80),W(a,"fill",d=g[7][g[15].category]),W(a,"r",w=g[4](g[15].value)),W(a,"class","svelte-1i0thcy")},m(E,C){B(E,a,C),x=!0},p(E,C){g=E,(!x||C&1&&i!==(i=g[15].id))&&W(a,"id",i),(!x||C&32&&o!==(o=g[5]/2))&&W(a,"cx",o),(!x||C&1&&f!==(f=g[17]*80))&&W(a,"cy",f),(!x||C&1&&d!==(d=g[7][g[15].category]))&&W(a,"fill",d),(!x||C&17&&w!==(w=g[4](g[15].value)))&&W(a,"r",w)},i(E){x||(Ei(()=>{y&&y.end(1),h=s_(a,xu,{x:-300,duration:200*g[17],delay:300}),h.start()}),x=!0)},o(E){h&&h.invalidate(),y=u_(a,xu,{x:200,duration:100*g[17]}),x=!1},d(E){E&&v(a),E&&y&&y.end()}}}function Iu(g,a){let i,o,f,d=a[3]&&Tu(a);return{key:g,first:null,c(){i=wi(),d&&d.c(),o=wi(),this.h()},l(w){i=wi(),d&&d.l(w),o=wi(),this.h()},h(){this.first=i},m(w,h){B(w,i,h),d&&d.m(w,h),B(w,o,h),f=!0},p(w,h){a=w,a[3]?d?(d.p(a,h),h&8&&pe(d,1)):(d=Tu(a),d.c(),pe(d,1),d.m(o.parentNode,o)):d&&(Cu(),ve(d,1,1,()=>{d=null}),Du())},i(w){f||(pe(d),f=!0)},o(w){ve(d),f=!1},d(w){w&&v(i),d&&d.d(w),w&&v(o)}}}function vv(g){let a,i,o,f,d,w,h,y,x,E,C,U,S,P=[],q=new Map,ne,ee,V,ge,xe=g[0];const me=N=>N[15].id;for(let N=0;N<xe.length;N+=1){let z=Lu(g,xe,N),le=me(z);q.set(le,P[N]=Iu(le,z))}return{c(){a=D("div"),i=D("button"),o=R("Enter data"),f=J(),d=D("button"),w=R("Update data"),h=J(),y=D("div"),x=D("div"),E=R("click on buttons to see graph"),C=J(),U=Dn("svg"),S=Dn("g");for(let N=0;N<P.length;N+=1)P[N].c();this.h()},l(N){a=$(N,"DIV",{class:!0});var z=O(a);i=$(z,"BUTTON",{class:!0});var le=O(i);o=k(le,"Enter data"),le.forEach(v),f=Q(z),d=$(z,"BUTTON",{class:!0});var Ze=O(d);w=k(Ze,"Update data"),Ze.forEach(v),z.forEach(v),h=Q(N),y=$(N,"DIV",{class:!0});var Ye=O(y);x=$(Ye,"DIV",{class:!0});var Ee=O(x);E=k(Ee,"click on buttons to see graph"),Ee.forEach(v),C=Q(Ye),U=$n(Ye,"svg",{width:!0,height:!0});var ke=O(U);S=$n(ke,"g",{transform:!0});var Te=O(S);for(let Ne=0;Ne<P.length;Ne+=1)P[Ne].l(Te);Te.forEach(v),ke.forEach(v),Ye.forEach(v),this.h()},h(){W(i,"class","svelte-1i0thcy"),W(d,"class","svelte-1i0thcy"),W(a,"class","buttons svelte-1i0thcy"),W(x,"class","graph-note svelte-1i0thcy"),W(S,"transform","translate("+g[6].left+", "+g[6].top+")"),W(U,"width",g[1]),W(U,"height",g[2]),W(y,"class","graph-container svelte-1i0thcy"),Ei(()=>g[12].call(y))},m(N,z){B(N,a,z),_(a,i),_(i,o),_(a,f),_(a,d),_(d,w),B(N,h,z),B(N,y,z),_(y,x),_(x,E),_(y,C),_(y,U),_(U,S);for(let le=0;le<P.length;le+=1)P[le].m(S,null);ne=Ka(y,g[12].bind(y)),ee=!0,V||(ge=[yu(i,"click",g[10]),yu(d,"click",g[11])],V=!0)},p(N,[z]){z&185&&(xe=N[0],Cu(),P=o_(P,z,me,1,N,xe,q,S,h_,Iu,null,Lu),Du()),(!ee||z&2)&&W(U,"width",N[1]),(!ee||z&4)&&W(U,"height",N[2])},i(N){if(!ee){for(let z=0;z<xe.length;z+=1)pe(P[z]);ee=!0}},o(N){for(let z=0;z<P.length;z+=1)ve(P[z]);ee=!1},d(N){N&&v(a),N&&v(h),N&&v(y);for(let z=0;z<P.length;z+=1)P[z].d();ne(),V=!1,f_(ge)}}}function mv(g,a,i){let o,f,d;Ai.prototype.appendSelect=Si;let w=Ha,h=!1,y,x;const E={top:50,right:0,bottom:50,left:0},C={cat:"#219ebc",panda:"#ee3e3e",dog:"#6b6065"},U=()=>{i(0,w=Ha),i(3,h=!0)},S=()=>{i(0,w=_v)};function P(){y=this.clientWidth,x=this.clientHeight,i(1,y),i(2,x)}return g.$$.update=()=>{g.$$.dirty&2&&i(5,o=y-E.left-E.right),g.$$.dirty&4&&i(9,f=x-E.top-E.bottom),g.$$.dirty&768&&c_().domain(Ha.map(q=>q.id)).range([0,f]),g.$$.dirty&257&&i(4,d=Li().domain(v_(w,q=>q.value)).range([20,50]))},[w,y,x,h,d,o,E,C,$u,f,U,S,P]}class wv extends kt{constructor(a){super(),Mt(this,a,mv,vv,Wt,{})}}const bv=`
<script>
  ...
	import { fly } from 'svelte/transition';
	
	let data = initialData
	let enter = false
	
	// Width and heigh which come from graph container 
	// and are passed in as the width and height of the svg
	let w;
	let h;
	const margin = { top: 50, right: 0, bottom: 50, left: 0 }
	$: boundedWidth = w - margin.left - margin.right
	$: boundedHeight = h - margin.top - margin.bottom

	// Scales 
	$: yScale = d3.scalePoint()
		.domain(initialData.map(d => d.id))
		.range([0, boundedHeight])

  // Cat, panda and dog come from the data file; see 'data.js'
	const colourScale = ({
		'cat': '#219ebc',
		'panda': '#ee3e3e',
		'dog': '#6b6065'
		})

	$: radiusScale = d3.scaleLinear()
		.domain(d3.extent(data, d => d.value))
		.range([20, 50])

<\/script>

// Buttons control the 'entering' and update of the data
<div class='buttons'>
	<button on:click={() => { 
		data = initialData
		enter = true 
		}}>Enter data</button>
	<button on:click={() => { 
		data = changedData 
		}}>Update data</button>
</div>
<div
	class="graph-container"
	bind:clientWidth={w}
	bind:clientHeight={h}
>
	<svg width={w} height={h}>
		<g transform='translate({margin.left}, {margin.top})'>
			{#each data as d, i (d.id)} // Make sure to have a keyed each block to ensure transitions work
				{#if enter}
					<circle
						id={d.id}
						in:fly={{ x: -300, duration: 200 * i, delay: 300 }} // Takes care of 'enter'
						out:fly={{x: 200, duration: 100 * i}} // Takes care of 'exit'
						cx={boundedWidth/2}
						cy={i * 80}
						fill={colourScale[d.category]}
						r={radiusScale(d.value)}
					></circle>
				{/if}
			{/each}
		</g>
	</svg>
</div>



<style lang="scss">
	circle {
		transition: all 1s; // Takes care of 'update'
	}
</style>
`;function yv(g){let a;return{c(){a=D("div")},l(i){a=$(i,"DIV",{}),O(a).forEach(v)},m(i,o){B(i,a,o)},p:fe,i:fe,o:fe,d(i){i&&v(a)}}}function xv(g){let a,i;return a=new Ci({props:{language:"javascript",source:bv,showCopyButton:!0}}),{c(){Pe(a.$$.fragment)},l(o){Be(a.$$.fragment,o)},m(o,f){Fe(a,o,f),i=!0},p:fe,i(o){i||(pe(a.$$.fragment,o),i=!0)},o(o){ve(a.$$.fragment,o),i=!1},d(o){Ue(a,o)}}}function Ev(g){let a,i,o,f,d,w;a=new gv({});const h=[xv,yv],y=[];function x(E,C){return 0}return f=x(),d=y[f]=h[f](g),{c(){Pe(a.$$.fragment),i=J(),o=D("div"),d.c(),this.h()},l(E){Be(a.$$.fragment,E),i=Q(E),o=$(E,"DIV",{class:!0});var C=O(o);d.l(C),C.forEach(v),this.h()},h(){W(o,"class","codeblock svelte-knnyit")},m(E,C){Fe(a,E,C),B(E,i,C),B(E,o,C),y[f].m(o,null),w=!0},p(E,C){d.p(E,C)},i(E){w||(pe(a.$$.fragment,E),pe(d),w=!0)},o(E){ve(a.$$.fragment,E),ve(d),w=!1},d(E){Ue(a,E),E&&v(i),E&&v(o),y[f].d()}}}function Av(g){let a,i;return{c(){a=D("h2"),i=R(g[1]),this.h()},l(o){a=$(o,"H2",{slot:!0,class:!0});var f=O(a);i=k(f,g[1]),f.forEach(v),this.h()},h(){W(a,"slot","title"),W(a,"class","svelte-knnyit")},m(o,f){B(o,a,f),_(a,i)},p(o,f){f&2&&On(i,o[1])},d(o){o&&v(a)}}}function Sv(g){let a,i,o;return{c(){a=D("div"),i=D("a"),o=R(g[4]),this.h()},l(f){a=$(f,"DIV",{slot:!0,class:!0});var d=O(a);i=$(d,"A",{href:!0});var w=O(i);o=k(w,g[4]),w.forEach(v),d.forEach(v),this.h()},h(){W(i,"href",g[3]),W(a,"slot","external-link"),W(a,"class","external-link")},m(f,d){B(f,a,d),_(a,i),_(i,o)},p(f,d){d&16&&On(o,f[4]),d&8&&W(i,"href",f[3])},d(f){f&&v(a)}}}function Lv(g){let a,i,o,f,d,w;return a=new Ii({props:{internalLink:g[2],date:g[5],$$slots:{"external-link":[Sv],title:[Av],default:[Ev]},$$scope:{ctx:g}}}),d=new wv({}),{c(){Pe(a.$$.fragment),i=J(),o=D("br"),f=J(),Pe(d.$$.fragment)},l(h){Be(a.$$.fragment,h),i=Q(h),o=$(h,"BR",{}),f=Q(h),Be(d.$$.fragment,h)},m(h,y){Fe(a,h,y),B(h,i,y),B(h,o,y),B(h,f,y),Fe(d,h,y),w=!0},p(h,y){const x={};y&4&&(x.internalLink=h[2]),y&32&&(x.date=h[5]),y&90&&(x.$$scope={dirty:y,ctx:h}),a.$set(x)},i(h){w||(pe(a.$$.fragment,h),pe(d.$$.fragment,h),w=!0)},o(h){ve(a.$$.fragment,h),ve(d.$$.fragment,h),w=!1},d(h){Ue(a,h),h&&v(i),h&&v(o),h&&v(f),Ue(d,h)}}}function Tv(g){let a,i;return a=new Ti({props:{id:g[0],$$slots:{default:[Lv]},$$scope:{ctx:g}}}),{c(){Pe(a.$$.fragment)},l(o){Be(a.$$.fragment,o)},m(o,f){Fe(a,o,f),i=!0},p(o,[f]){const d={};f&1&&(d.id=o[0]),f&126&&(d.$$scope={dirty:f,ctx:o}),a.$set(d)},i(o){i||(pe(a.$$.fragment,o),i=!0)},o(o){ve(a.$$.fragment,o),i=!1},d(o){Ue(a,o)}}}function Iv(g,a,i){let{id:o}=a,{sectionTitle:f}=a,{internalLink:d}=a,{externalLink:w}=a,{externalLinkTitle:h}=a,{date:y}=a;return g.$$set=x=>{"id"in x&&i(0,o=x.id),"sectionTitle"in x&&i(1,f=x.sectionTitle),"internalLink"in x&&i(2,d=x.internalLink),"externalLink"in x&&i(3,w=x.externalLink),"externalLinkTitle"in x&&i(4,h=x.externalLinkTitle),"date"in x&&i(5,y=x.date)},[o,f,d,w,h,y]}class Cv extends kt{constructor(a){super(),Mt(this,a,Iv,Tv,Wt,{id:0,sectionTitle:1,internalLink:2,externalLink:3,externalLinkTitle:4,date:5})}}const Dv=[{anchor:"#d3-first-graph-pattern1",title:"D3 in Svelte, the D3 way - Pattern 1"},{anchor:"#d3-first-graph-pattern2",title:"D3 in Svelte, the D3 way - Pattern 2"},{anchor:"#svelte-first-graph-pattern1",title:"D3 in Svelte, the Svelte way - Pattern 1"},{anchor:"#svelte-graph-with-transitions",title:"Svlete with D3 and Svelte Transitions"}];function $v(g){let a,i;return{c(){a=D("h1"),i=R("Graphs"),this.h()},l(o){a=$(o,"H1",{slot:!0});var f=O(a);i=k(f,"Graphs"),f.forEach(v),this.h()},h(){W(a,"slot","title")},m(o,f){B(o,a,f),_(a,i)},p:fe,d(o){o&&v(a)}}}function Ov(g){let a,i,o,f,d,w,h,y,x,E,C,U;return a=new d_({props:{icon:m_,$$slots:{title:[$v]},$$scope:{ctx:g}}}),o=new p_({props:{menuItems:Dv}}),d=new M_({props:{id:"d3-first-graph-pattern1",sectionTitle:"D3 in Svelte, the D3 way - Pattern 1",externalLink:"https://svelte.dev/repl/3840b929acb1406dbb86e88ed85801ab?version=3.48.0",externalLinkTitle:"Svelte repl",internalLink:"https://github.com/reuters-graphics/example_svelte-graph-patterns/tree/main/src/lib/components/graphs/D3FirstGraphPattern1",date:"April 2022"}}),h=new V_({props:{id:"d3-first-graph-pattern2",sectionTitle:"D3 in Svelte, the D3 way - Pattern 2",externalLink:"https://svelte.dev/repl/924317731dab41e6ac808bbce7c1fab3?version=3.48.0",externalLinkTitle:"Svelte repl",internalLink:"https://github.com/reuters-graphics/example_svelte-graph-patterns/tree/main/src/lib/components/graphs/D3FirstGraphPattern2",date:"April 2022"}}),x=new dv({props:{id:"svelte-first-graph-pattern1",sectionTitle:"D3 in Svelte, the Svelte way - Pattern 1",externalLink:"https://svelte.dev/repl/d2fed3e55b0846c79d13cdb82a88510a?version=3.48.0",externalLinkTitle:"Svelte repl",internalLink:"https://github.com/reuters-graphics/example_svelte-graph-patterns/tree/main/src/lib/components/graphs/SvelteFirstGraphPattern1",date:"April 2022"}}),C=new Cv({props:{id:"svelte-graph-with-transitions",sectionTitle:"Svlete with D3 and Svelte Transitions",externalLink:"",externalLinkTitle:"",internalLink:"https://github.com/reuters-graphics/example_svelte-graph-patterns/tree/main/src/lib/components/graphs/SvelteGraphWithTransitions",date:"June 2022"}}),{c(){Pe(a.$$.fragment),i=J(),Pe(o.$$.fragment),f=J(),Pe(d.$$.fragment),w=J(),Pe(h.$$.fragment),y=J(),Pe(x.$$.fragment),E=J(),Pe(C.$$.fragment)},l(S){Be(a.$$.fragment,S),i=Q(S),Be(o.$$.fragment,S),f=Q(S),Be(d.$$.fragment,S),w=Q(S),Be(h.$$.fragment,S),y=Q(S),Be(x.$$.fragment,S),E=Q(S),Be(C.$$.fragment,S)},m(S,P){Fe(a,S,P),B(S,i,P),Fe(o,S,P),B(S,f,P),Fe(d,S,P),B(S,w,P),Fe(h,S,P),B(S,y,P),Fe(x,S,P),B(S,E,P),Fe(C,S,P),U=!0},p(S,[P]){const q={};P&1&&(q.$$scope={dirty:P,ctx:S}),a.$set(q)},i(S){U||(pe(a.$$.fragment,S),pe(o.$$.fragment,S),pe(d.$$.fragment,S),pe(h.$$.fragment,S),pe(x.$$.fragment,S),pe(C.$$.fragment,S),U=!0)},o(S){ve(a.$$.fragment,S),ve(o.$$.fragment,S),ve(d.$$.fragment,S),ve(h.$$.fragment,S),ve(x.$$.fragment,S),ve(C.$$.fragment,S),U=!1},d(S){Ue(a,S),S&&v(i),Ue(o,S),S&&v(f),Ue(d,S),S&&v(w),Ue(h,S),S&&v(y),Ue(x,S),S&&v(E),Ue(C,S)}}}class Nv extends kt{constructor(a){super(),Mt(this,a,null,Ov,Wt,{})}}export{Nv as default};
